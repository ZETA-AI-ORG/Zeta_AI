{
  "test_type": "interactive_manual",
  "user_id": "test_interactive_35e11e90",
  "timestamp": "2025-10-21T18:54:01.797838",
  "total_turns": 5,
  "conversation": [
    {
      "turn": 1,
      "user_message": "Bonjour",
      "assistant_response": "Bonjour ! üòä Qu'est-ce que tu veux acheter aujourd'hui ? üõçÔ∏è",
      "thinking": "",
      "thinking_length": 0,
      "debug_contexts": {
        "state_tracker": {
          "error": "'OrderState' object has no attribute 'to_dict'"
        },
        "notepad": {
          "error": "'ConversationNotepad' object has no attribute 'get_content'"
        },
        "enhanced_memory": {
          "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
        },
        "anti_hallucination": {
          "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
        },
        "security": {
          "risk_level": "LOW",
          "is_safe": true,
          "threats_detected": []
        },
        "conversation_history": {
          "error": "No module named 'core.conversation_manager'"
        },
        "checkpoints": {
          "count": 0,
          "last_checkpoint": null
        }
      },
      "full_result": {
        "response": "Bonjour ! üòä Qu'est-ce que tu veux acheter aujourd'hui ? üõçÔ∏è",
        "cached": false,
        "security_score": "LOW",
        "hallucination_score": 1.0,
        "thinking": "",
        "validation": null,
        "debug_contexts": {
          "state_tracker": {
            "error": "'OrderState' object has no attribute 'to_dict'"
          },
          "notepad": {
            "error": "'ConversationNotepad' object has no attribute 'get_content'"
          },
          "enhanced_memory": {
            "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
          },
          "anti_hallucination": {
            "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
          },
          "security": {
            "risk_level": "LOW",
            "is_safe": true,
            "threats_detected": []
          },
          "conversation_history": {
            "error": "No module named 'core.conversation_manager'"
          },
          "checkpoints": {
            "count": 0,
            "last_checkpoint": null
          }
        }
      }
    },
    {
      "turn": 2,
      "user_message": "Je cherche des couches",
      "assistant_response": "Not√© ! On a plusieurs types de couches. \n- Couches √† pression (22 900 F) \n- Couches culottes (24 000 F)\n\nLequel tu veux ?",
      "thinking": "PHASE 1: question_exacte + intentions\n  question_exacte: \"Je cherche des couches\"\n  intentions:\n    type: recherche\n\nPHASE 2: deja_collecte + nouvelles_donnees\n  deja_collecte:\n    type_produit: null\n    quantite: null\n    zone: null\n    telephone: null\n    paiement: null\n  nouvelles_donnees:\n    - cle: produit\n      valeur: \"Couches √† pression\"\n      confiance: MOYENNE\n\nPHASE 3: verification + confiance\n  verification:\n    prix_trouve: true\n    ambiguite: true\n  confiance_globale: 50\n\nPHASE 4: check_repetition\n  check_repetition:\n    type_produit: false\n    quantite: false\n    zone: false\n    telephone: false\n    paiement: false\n\nPHASE 5: completude + prochaine_etape\n  progression:\n    completude: \"0/5\"\n    donnees_manquantes: [type_produit, quantite, zone, telephone, paiement]\n    prochaine_etape: \"Clarifier type de couches\"",
      "thinking_length": 838,
      "debug_contexts": {
        "state_tracker": {
          "error": "'OrderState' object has no attribute 'to_dict'"
        },
        "notepad": {
          "error": "'ConversationNotepad' object has no attribute 'get_content'"
        },
        "enhanced_memory": {
          "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
        },
        "thinking_parsed": {
          "phase2_collected": {},
          "phase5_decision": {},
          "completeness": "unknown"
        },
        "anti_hallucination": {
          "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
        },
        "security": {
          "risk_level": "LOW",
          "is_safe": true,
          "threats_detected": []
        },
        "conversation_history": {
          "error": "No module named 'core.conversation_manager'"
        },
        "checkpoints": {
          "count": 1,
          "last_checkpoint": "test_interactive_35e11e90_20251021_184910.json"
        }
      },
      "full_result": {
        "response": "Not√© ! On a plusieurs types de couches. \n- Couches √† pression (22 900 F) \n- Couches culottes (24 000 F)\n\nLequel tu veux ?",
        "cached": false,
        "security_score": "LOW",
        "hallucination_score": 1.0,
        "thinking": "PHASE 1: question_exacte + intentions\n  question_exacte: \"Je cherche des couches\"\n  intentions:\n    type: recherche\n\nPHASE 2: deja_collecte + nouvelles_donnees\n  deja_collecte:\n    type_produit: null\n    quantite: null\n    zone: null\n    telephone: null\n    paiement: null\n  nouvelles_donnees:\n    - cle: produit\n      valeur: \"Couches √† pression\"\n      confiance: MOYENNE\n\nPHASE 3: verification + confiance\n  verification:\n    prix_trouve: true\n    ambiguite: true\n  confiance_globale: 50\n\nPHASE 4: check_repetition\n  check_repetition:\n    type_produit: false\n    quantite: false\n    zone: false\n    telephone: false\n    paiement: false\n\nPHASE 5: completude + prochaine_etape\n  progression:\n    completude: \"0/5\"\n    donnees_manquantes: [type_produit, quantite, zone, telephone, paiement]\n    prochaine_etape: \"Clarifier type de couches\"",
        "validation": null,
        "debug_contexts": {
          "state_tracker": {
            "error": "'OrderState' object has no attribute 'to_dict'"
          },
          "notepad": {
            "error": "'ConversationNotepad' object has no attribute 'get_content'"
          },
          "enhanced_memory": {
            "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
          },
          "thinking_parsed": {
            "phase2_collected": {},
            "phase5_decision": {},
            "completeness": "unknown"
          },
          "anti_hallucination": {
            "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
          },
          "security": {
            "risk_level": "LOW",
            "is_safe": true,
            "threats_detected": []
          },
          "conversation_history": {
            "error": "No module named 'core.conversation_manager'"
          },
          "checkpoints": {
            "count": 1,
            "last_checkpoint": "test_interactive_35e11e90_20251021_184910.json"
          }
        }
      }
    },
    {
      "turn": 3,
      "user_message": "attend les couches taille 1 sont a 22900 FCFA?",
      "assistant_response": "Non, les couches taille 1 sont √† 17 900 F CFA et non 22 900 FCFA. \nQuelle quantit√© tu veux ? (300 couches par lot)",
      "thinking": "PHASE 1 EXTRACTION\nquestion_exacte: \"attend les couches taille 1 sont a 22900 FCFA?\"\nintentions:\n  type: demande_prix\n\nPHASE 2 COLLECTE\ndeja_collecte:\n  type_produit: null\n  quantite: null\n  zone: null\n  telephone: null\n  paiement: null\nnouvelles_donnees:\n  - cle: produit\n    valeur: \"Couches √† pression Taille 1\"\n    confiance: MOYENNE\n\nPHASE 3 VALIDATION\nverification:\n  prix_trouve: true\n  ambiguite: false\nconfiance_globale: 60\n\nPHASE 4 ANTI_REPETITION\ncheck_repetition:\n  type_produit: false\n  quantite: false\n  zone: false\n  telephone: false\n  paiement: false\n\nPHASE 5 DECISION\nprogression:\n  completude: \"0/5\"\n  donnees_manquantes: [produit, quantite, zone, telephone, paiement]\n  prochaine_etape: \"Clarifier type et prix\"",
      "thinking_length": 730,
      "debug_contexts": {
        "state_tracker": {
          "error": "'OrderState' object has no attribute 'to_dict'"
        },
        "notepad": {
          "error": "'ConversationNotepad' object has no attribute 'get_content'"
        },
        "enhanced_memory": {
          "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
        },
        "thinking_parsed": {
          "phase2_collected": {},
          "phase5_decision": {},
          "completeness": "unknown"
        },
        "anti_hallucination": {
          "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
        },
        "security": {
          "risk_level": "LOW",
          "is_safe": true,
          "threats_detected": []
        },
        "conversation_history": {
          "error": "No module named 'core.conversation_manager'"
        },
        "checkpoints": {
          "count": 2,
          "last_checkpoint": "test_interactive_35e11e90_20251021_185041.json"
        }
      },
      "full_result": {
        "response": "Non, les couches taille 1 sont √† 17 900 F CFA et non 22 900 FCFA. \nQuelle quantit√© tu veux ? (300 couches par lot)",
        "cached": false,
        "security_score": "LOW",
        "hallucination_score": 1.0,
        "thinking": "PHASE 1 EXTRACTION\nquestion_exacte: \"attend les couches taille 1 sont a 22900 FCFA?\"\nintentions:\n  type: demande_prix\n\nPHASE 2 COLLECTE\ndeja_collecte:\n  type_produit: null\n  quantite: null\n  zone: null\n  telephone: null\n  paiement: null\nnouvelles_donnees:\n  - cle: produit\n    valeur: \"Couches √† pression Taille 1\"\n    confiance: MOYENNE\n\nPHASE 3 VALIDATION\nverification:\n  prix_trouve: true\n  ambiguite: false\nconfiance_globale: 60\n\nPHASE 4 ANTI_REPETITION\ncheck_repetition:\n  type_produit: false\n  quantite: false\n  zone: false\n  telephone: false\n  paiement: false\n\nPHASE 5 DECISION\nprogression:\n  completude: \"0/5\"\n  donnees_manquantes: [produit, quantite, zone, telephone, paiement]\n  prochaine_etape: \"Clarifier type et prix\"",
        "validation": null,
        "debug_contexts": {
          "state_tracker": {
            "error": "'OrderState' object has no attribute 'to_dict'"
          },
          "notepad": {
            "error": "'ConversationNotepad' object has no attribute 'get_content'"
          },
          "enhanced_memory": {
            "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
          },
          "thinking_parsed": {
            "phase2_collected": {},
            "phase5_decision": {},
            "completeness": "unknown"
          },
          "anti_hallucination": {
            "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
          },
          "security": {
            "risk_level": "LOW",
            "is_safe": true,
            "threats_detected": []
          },
          "conversation_history": {
            "error": "No module named 'core.conversation_manager'"
          },
          "checkpoints": {
            "count": 2,
            "last_checkpoint": "test_interactive_35e11e90_20251021_185041.json"
          }
        }
      }
    },
    {
      "turn": 4,
      "user_message": "Pourquoi a tu parlez de 22900 FCFA J AIMERAIS COMPRENDRE?",
      "assistant_response": "Not√© ! On a plusieurs types de couches √† pression. \n- Couches √† pression Taille 3 (22 900 F) \n- Couches √† pression Taille 5 (24 900 F) \n- Couches √† pression Taille 6 (24 900 F)\n\nQuelle quantit√© et taille de couches √† pression veux-tu ?",
      "thinking": "PHASE 1 EXTRACTION\nquestion_exacte: \"Pourquoi a tu parlez de 22900 FCFA J AIMERAIS COMPRENDRE\"\nintentions:\n  type: demande_de_clarification\n\nPHASE 2 COLLECTE\ndeja_collecte:\n  type_produit: null\n  quantite: null\n  zone: null\n  telephone: null\n  paiement: null\nnouvelles_donnees:\n  - cle: type_produit\n    valeur: \"Couches √† pression\"\n    confiance: HAUTE\n\nPHASE 3 VALIDATION\nverification:\n  prix_trouve: true\n  ambiguite: false\nconfiance_globale: 80\n\nPHASE 4 ANTI_REPETITION\ncheck_repetition:\n  type_produit: false\n  quantite: false\n  zone: false\n  telephone: false\n  paiement: false\n\nPHASE 5 DECISION\nprogression:\n  completude: \"0/5\"\n  donnees_manquantes: [type_produit, quantite, zone, telephone, paiement]\n  prochaine_etape: \"Clarifier type et quantit√©\"",
      "thinking_length": 755,
      "debug_contexts": {
        "state_tracker": {
          "error": "'OrderState' object has no attribute 'to_dict'"
        },
        "notepad": {
          "error": "'ConversationNotepad' object has no attribute 'get_content'"
        },
        "enhanced_memory": {
          "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
        },
        "thinking_parsed": {
          "phase2_collected": {},
          "phase5_decision": {},
          "completeness": "unknown"
        },
        "anti_hallucination": {
          "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
        },
        "security": {
          "risk_level": "LOW",
          "is_safe": true,
          "threats_detected": []
        },
        "conversation_history": {
          "error": "No module named 'core.conversation_manager'"
        },
        "checkpoints": {
          "count": 3,
          "last_checkpoint": "test_interactive_35e11e90_20251021_185138.json"
        }
      },
      "full_result": {
        "response": "Not√© ! On a plusieurs types de couches √† pression. \n- Couches √† pression Taille 3 (22 900 F) \n- Couches √† pression Taille 5 (24 900 F) \n- Couches √† pression Taille 6 (24 900 F)\n\nQuelle quantit√© et taille de couches √† pression veux-tu ?",
        "cached": false,
        "security_score": "LOW",
        "hallucination_score": 1.0,
        "thinking": "PHASE 1 EXTRACTION\nquestion_exacte: \"Pourquoi a tu parlez de 22900 FCFA J AIMERAIS COMPRENDRE\"\nintentions:\n  type: demande_de_clarification\n\nPHASE 2 COLLECTE\ndeja_collecte:\n  type_produit: null\n  quantite: null\n  zone: null\n  telephone: null\n  paiement: null\nnouvelles_donnees:\n  - cle: type_produit\n    valeur: \"Couches √† pression\"\n    confiance: HAUTE\n\nPHASE 3 VALIDATION\nverification:\n  prix_trouve: true\n  ambiguite: false\nconfiance_globale: 80\n\nPHASE 4 ANTI_REPETITION\ncheck_repetition:\n  type_produit: false\n  quantite: false\n  zone: false\n  telephone: false\n  paiement: false\n\nPHASE 5 DECISION\nprogression:\n  completude: \"0/5\"\n  donnees_manquantes: [type_produit, quantite, zone, telephone, paiement]\n  prochaine_etape: \"Clarifier type et quantit√©\"",
        "validation": null,
        "debug_contexts": {
          "state_tracker": {
            "error": "'OrderState' object has no attribute 'to_dict'"
          },
          "notepad": {
            "error": "'ConversationNotepad' object has no attribute 'get_content'"
          },
          "enhanced_memory": {
            "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
          },
          "thinking_parsed": {
            "phase2_collected": {},
            "phase5_decision": {},
            "completeness": "unknown"
          },
          "anti_hallucination": {
            "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
          },
          "security": {
            "risk_level": "LOW",
            "is_safe": true,
            "threats_detected": []
          },
          "conversation_history": {
            "error": "No module named 'core.conversation_manager'"
          },
          "checkpoints": {
            "count": 3,
            "last_checkpoint": "test_interactive_35e11e90_20251021_185138.json"
          }
        }
      }
    },
    {
      "turn": 5,
      "user_message": "J AI DEJA DIS QUELLE TAILLE JE VEUX . C ETAIT LAQUEL DEJA?",
      "assistant_response": "Not√© ! On a plusieurs types de couches √† pression. \n- Couches √† pression Taille 1 (17 900 F) \n- Couches √† pression Taille 2 (22 900 F) \n- Couches √† pression Taille 3 (24 900 F)\nQuelle taille de couches √† pression voulez-vous ?",
      "thinking": "PHASE 1: question_exacte + intentions\n  question_exacte: \"Quelle taille de couches √† pression voulez-vous ?\"\n  intentions: \n    type: clarification\n\nPHASE 2: deja_collecte + nouvelles_donnees\n  deja_collecte: \n    type_produit: \"couches\"\n    quantite: null\n    zone: null\n    telephone: null\n    paiement: null\n  nouvelles_donnees: \n    - cle: produit\n      valeur: \"couches √† pression\"\n      confiance: HAUTE\n\nPHASE 3: verification + confiance\n  verification: \n    prix_trouve: true\n    ambiguite: true\n  confiance_globale: 70\n\nPHASE 4: check_repetition\n  check_repetition: \n    type_produit: false\n    quantite: false\n    zone: false\n    telephone: false\n    paiement: false\n\nPHASE 5: completude + prochaine_etape\n  progression: \n    completude: \"1/5\"\n    donnees_manquantes: [quantite, zone, telephone, paiement, taille]\n    prochaine_etape: \"Demander taille\"",
      "thinking_length": 862,
      "debug_contexts": {
        "state_tracker": {
          "error": "'OrderState' object has no attribute 'to_dict'"
        },
        "notepad": {
          "error": "'ConversationNotepad' object has no attribute 'get_content'"
        },
        "enhanced_memory": {
          "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
        },
        "thinking_parsed": {
          "phase2_collected": {},
          "phase5_decision": {},
          "completeness": "unknown"
        },
        "anti_hallucination": {
          "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
        },
        "security": {
          "risk_level": "LOW",
          "is_safe": true,
          "threats_detected": []
        },
        "conversation_history": {
          "error": "No module named 'core.conversation_manager'"
        },
        "checkpoints": {
          "count": 4,
          "last_checkpoint": "test_interactive_35e11e90_20251021_185246.json"
        }
      },
      "full_result": {
        "response": "Not√© ! On a plusieurs types de couches √† pression. \n- Couches √† pression Taille 1 (17 900 F) \n- Couches √† pression Taille 2 (22 900 F) \n- Couches √† pression Taille 3 (24 900 F)\nQuelle taille de couches √† pression voulez-vous ?",
        "cached": false,
        "security_score": "LOW",
        "hallucination_score": 1.0,
        "thinking": "PHASE 1: question_exacte + intentions\n  question_exacte: \"Quelle taille de couches √† pression voulez-vous ?\"\n  intentions: \n    type: clarification\n\nPHASE 2: deja_collecte + nouvelles_donnees\n  deja_collecte: \n    type_produit: \"couches\"\n    quantite: null\n    zone: null\n    telephone: null\n    paiement: null\n  nouvelles_donnees: \n    - cle: produit\n      valeur: \"couches √† pression\"\n      confiance: HAUTE\n\nPHASE 3: verification + confiance\n  verification: \n    prix_trouve: true\n    ambiguite: true\n  confiance_globale: 70\n\nPHASE 4: check_repetition\n  check_repetition: \n    type_produit: false\n    quantite: false\n    zone: false\n    telephone: false\n    paiement: false\n\nPHASE 5: completude + prochaine_etape\n  progression: \n    completude: \"1/5\"\n    donnees_manquantes: [quantite, zone, telephone, paiement, taille]\n    prochaine_etape: \"Demander taille\"",
        "validation": null,
        "debug_contexts": {
          "state_tracker": {
            "error": "'OrderState' object has no attribute 'to_dict'"
          },
          "notepad": {
            "error": "'ConversationNotepad' object has no attribute 'get_content'"
          },
          "enhanced_memory": {
            "error": "EnhancedMemory.get_recent_interactions() got multiple values for argument 'limit'"
          },
          "thinking_parsed": {
            "phase2_collected": {},
            "phase5_decision": {},
            "completeness": "unknown"
          },
          "anti_hallucination": {
            "error": "'HallucinationCheck' object has no attribute 'is_grounded'"
          },
          "security": {
            "risk_level": "LOW",
            "is_safe": true,
            "threats_detected": []
          },
          "conversation_history": {
            "error": "No module named 'core.conversation_manager'"
          },
          "checkpoints": {
            "count": 4,
            "last_checkpoint": "test_interactive_35e11e90_20251021_185246.json"
          }
        }
      }
    }
  ]
}