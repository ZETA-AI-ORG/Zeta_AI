[
  {
    "timestamp": "2025-11-12T23:53:34.024199",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] ‚úÖ Prompt Supabase charg√© (8416 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:34.026307",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACKING] Demandes ignor√©es: Produit=0, Paiement=0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:34.036267",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] T√©l√©chargement image: https://scontent-atl3-2.xx.fbcdn.net/v/t1.15752-9/556908482_1314851517042795_6410429215345539018_n.j...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:36.129647",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FETCH] URL finale: https://scontent-atl3-2.xx.fbcdn.net/v/t1.15752-9/556908482_1314851517042795_6410429215345539018_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=eb2e90&_nc_ohc=NL64Tr-lCD8Q7kNvwErQP-W&_nc_oc=Adl-2TTfwDiQ5oV7zD-apLFr6CXVJRBTBS-bGX0OviLygK6yEzKDt_DLemHYyuo4jsHi52BxJLiX6eXRztPxh2Dk&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=scontent-atl3-2.xx&oh=03_Q7cD3wHQnpKrTBJ4ECMmlxUMRVy5tPvbnhlsvGwaT0Dt2xJwcg&oe=6937FBCA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:36.129975",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FETCH] Content-Type: image/jpeg | Content-Length: 37848",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:36.141812",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] Image t√©l√©charg√©e: C:\\Users\\hp\\AppData\\Local\\Temp\\botlive_hagj3qia.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:36.166341",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][DEBUG] Copie image sauvegard√©e: /tmp/botlive_debug\\1762988016_botlive_hagj3qia.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:39.762940",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] Fichier temporaire supprim√©: C:\\Users\\hp\\AppData\\Local\\Temp\\botlive_hagj3qia.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:39.972586",
    "level": "ERROR",
    "source": "stderr",
    "message": "Traceback (most recent call last):",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:39.973684",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\tests\\botlive_test_hacker_revisited.py\", line 314, in <module>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.186061",
    "level": "ERROR",
    "source": "stderr",
    "message": "asyncio.run(main())",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.186467",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.187161",
    "level": "ERROR",
    "source": "stderr",
    "message": "return runner.run(main)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.187528",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.188181",
    "level": "ERROR",
    "source": "stderr",
    "message": "return self._loop.run_until_complete(task)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.188556",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.189489",
    "level": "ERROR",
    "source": "stderr",
    "message": "self.run_forever()",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.189837",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.190589",
    "level": "ERROR",
    "source": "stderr",
    "message": "self._run_once()",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.190899",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Python313\\Lib\\asyncio\\base_events.py\", line 2042, in _run_once",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.220492",
    "level": "ERROR",
    "source": "stderr",
    "message": "handle._run()",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.220801",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.221541",
    "level": "ERROR",
    "source": "stderr",
    "message": "self._context.run(self._callback, *self._args)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.221990",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\tests\\botlive_test_hacker_revisited.py\", line 311, in main",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.223052",
    "level": "ERROR",
    "source": "stderr",
    "message": "await test.run_test()",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.223399",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\tests\\botlive_test_hacker_revisited.py\", line 147, in run_test",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.224096",
    "level": "ERROR",
    "source": "stderr",
    "message": "response = await app._botlive_handle(",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.224579",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\app.py\", line 956, in _botlive_handle",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.229279",
    "level": "ERROR",
    "source": "stderr",
    "message": "public_url = upload_image_to_supabase(storage_path, file_bytes)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.233813",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\database\\supabase_client.py\", line 566, in upload_image_to_supabase",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.258685",
    "level": "ERROR",
    "source": "stderr",
    "message": "res = client.storage.from_(bucket).upload(path, file_bytes, {'upsert': 'true', 'content-type': 'image/jpeg'})",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.265250",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\storage3\\_sync\\file_api.py\", line 545, in upload",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.266205",
    "level": "ERROR",
    "source": "stderr",
    "message": "return self._upload_or_update(\"POST\", path_parts, file, file_options)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.269183",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\storage3\\_sync\\file_api.py\", line 517, in _upload_or_update",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.270041",
    "level": "ERROR",
    "source": "stderr",
    "message": "response = self._request(",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.270542",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\storage3\\_sync\\file_api.py\", line 68, in _request",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.271510",
    "level": "ERROR",
    "source": "stderr",
    "message": "response = self._client.request(",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.272161",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpx\\_client.py\", line 825, in request",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.318797",
    "level": "ERROR",
    "source": "stderr",
    "message": "return self.send(request, auth=auth, follow_redirects=follow_redirects)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.319233",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpx\\_client.py\", line 914, in send",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.344979",
    "level": "ERROR",
    "source": "stderr",
    "message": "response = self._send_handling_auth(",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.348083",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpx\\_client.py\", line 942, in _send_handling_auth",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.349619",
    "level": "ERROR",
    "source": "stderr",
    "message": "response = self._send_handling_redirects(",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.351332",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpx\\_client.py\", line 979, in _send_handling_redirects",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.352878",
    "level": "ERROR",
    "source": "stderr",
    "message": "response = self._send_single_request(request)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.354198",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpx\\_client.py\", line 1014, in _send_single_request",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.356226",
    "level": "ERROR",
    "source": "stderr",
    "message": "response = transport.handle_request(request)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.357252",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 250, in handle_request",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.418706",
    "level": "ERROR",
    "source": "stderr",
    "message": "resp = self._pool.handle_request(req)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.419324",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_sync\\connection_pool.py\", line 256, in handle_request",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.617596",
    "level": "ERROR",
    "source": "stderr",
    "message": "raise exc from None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.699036",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_sync\\connection_pool.py\", line 236, in handle_request",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.801127",
    "level": "ERROR",
    "source": "stderr",
    "message": "response = connection.handle_request(",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.834841",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_sync\\connection.py\", line 103, in handle_request",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.932843",
    "level": "ERROR",
    "source": "stderr",
    "message": "return self._connection.handle_request(request)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:40.936788",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_sync\\http2.py\", line 187, in handle_request",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.003473",
    "level": "ERROR",
    "source": "stderr",
    "message": "raise exc",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.005215",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_sync\\http2.py\", line 150, in handle_request",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.006113",
    "level": "ERROR",
    "source": "stderr",
    "message": "status, headers = self._receive_response(",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.007012",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_sync\\http2.py\", line 294, in _receive_response",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.041933",
    "level": "ERROR",
    "source": "stderr",
    "message": "event = self._receive_stream_event(request, stream_id)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.049547",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_sync\\http2.py\", line 336, in _receive_stream_event",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.052079",
    "level": "ERROR",
    "source": "stderr",
    "message": "self._receive_events(request, stream_id)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.053254",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_sync\\http2.py\", line 364, in _receive_events",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.054372",
    "level": "ERROR",
    "source": "stderr",
    "message": "events = self._read_incoming_data(request)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.055980",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_sync\\http2.py\", line 441, in _read_incoming_data",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.056823",
    "level": "ERROR",
    "source": "stderr",
    "message": "data = self._network_stream.read(self.READ_NUM_BYTES, timeout)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.057337",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.venv\\Lib\\site-packages\\httpcore\\_backends\\sync.py\", line 128, in read",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.103405",
    "level": "ERROR",
    "source": "stderr",
    "message": "return self._sock.recv(max_bytes)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:53:41.104591",
    "level": "ERROR",
    "source": "stderr",
    "message": "File \"C:\\Python313\\Lib\\ssl.py\", line 1285, in recv",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:17.460999",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:17.461265",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:17.462801",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SERVER_LOGGER] Logs serveur activ√©s ‚Üí logs/server/",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:17.463224",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-12 23:57:17,463 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:57:17.463827",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-12 23:57:17,463 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:57:17.473368",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing core.models...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:17.483623",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing FIX_CONTEXT_LOSS_COMPLETE...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:17.487583",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] FIX_CONTEXT_LOSS_COMPLETE imported",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:17.490659",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing pydantic...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:17.492074",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing universal_rag_engine...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:33.335850",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing prompt_manager...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:33.338304",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing supabase_client...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:33.349591",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing ingestion_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.613820",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing global_embedding_cache...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.615280",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing auth router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.845136",
    "level": "WARNING",
    "source": "logger.routes.auth",
    "message": "2025-11-12 23:57:34,844 - routes.auth - WARNING - Variables d'environnement Google manquantes pour le Service Account. JWT Google d√©sactiv√©.",
    "metadata": {
      "logger_name": "routes.auth",
      "filename": "auth.py",
      "lineno": 32,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:57:34.848087",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing routes...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.851264",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili_ingest_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.880755",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.900248",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing utils...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.950829",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing security_validator...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.955193",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing hallucination_guard...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.961639",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing error_handler...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.969893",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing circuit_breaker...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.973260",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing image_search...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.974506",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Image search router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:34.975673",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing botlive router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:35.001565",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] Botlive router ACTIVATED",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:35.003123",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] All imports completed!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:57:35.034204",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-12 23:57:35,034 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 340,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:37.367892",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:37.368071",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:37.368177",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SERVER_LOGGER] Logs serveur activ√©s ‚Üí logs/server/",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:37.369007",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-12 23:59:37,368 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:37.369862",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-12 23:59:37,368 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:37.381796",
    "level": "INFO",
    "source": "logger.chatbot_default",
    "message": "2025-11-12 23:59:37,381 - chatbot_default - INFO - [ENV] Loaded .env at C:\\Users\\hp\\Documents\\ZETA APP\\chatbot\\CHATBOT2.0\\.env | MEILI_URL=http://localhost:7700 | MEILI_KEY=Bac2...66",
    "metadata": {
      "logger_name": "chatbot_default",
      "filename": "config.py",
      "lineno": 51,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:37.382549",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing core.models...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:37.397018",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing FIX_CONTEXT_LOSS_COMPLETE...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:37.400653",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] FIX_CONTEXT_LOSS_COMPLETE imported",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:37.401034",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing pydantic...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:37.443964",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing universal_rag_engine...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:37.535291",
    "level": "INFO",
    "source": "logger.core.french_nlp_processor",
    "message": "2025-11-12 23:59:37,534 - core.french_nlp_processor - INFO - ‚ÑπÔ∏è Lemmatiseur d√©sactiv√© (non requis)",
    "metadata": {
      "logger_name": "core.french_nlp_processor",
      "filename": "french_nlp_processor.py",
      "lineno": 199,
      "funcName": "_init_lemmatizer"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:49.727670",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing prompt_manager...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:49.729669",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing supabase_client...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:49.740683",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing ingestion_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.684415",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing global_embedding_cache...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.684756",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing auth router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.875833",
    "level": "WARNING",
    "source": "logger.routes.auth",
    "message": "2025-11-12 23:59:50,875 - routes.auth - WARNING - Variables d'environnement Google manquantes pour le Service Account. JWT Google d√©sactiv√©.",
    "metadata": {
      "logger_name": "routes.auth",
      "filename": "auth.py",
      "lineno": 32,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:50.877354",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing routes...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.879738",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili_ingest_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.944917",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.949378",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing utils...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.949762",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing security_validator...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.956521",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing hallucination_guard...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.966168",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing error_handler...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.971646",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing circuit_breaker...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.977198",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing image_search...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.977530",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Image search router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.977773",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing botlive router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:50.999542",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] Botlive router ACTIVATED",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:51.031155",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] All imports completed!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:51.073048",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-12 23:59:51,072 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 340,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:51.074121",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-12 23:59:51,072 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 340,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:51.122070",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-12 23:59:51,121 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 348,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:51.122991",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-12 23:59:51,121 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 348,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:51.341124",
    "level": "INFO",
    "source": "stdout",
    "message": "üî• D√âMARRAGE TEST HACKER REVISIT√â - VALIDATION PATCHES CRITIQUES",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:51.361915",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:51.363270",
    "level": "INFO",
    "source": "stdout",
    "message": "üìã √âTAPE 1/10 - Baseline",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:51.364073",
    "level": "INFO",
    "source": "stdout",
    "message": "üí¨ Client: Salut ! Je veux commander des couches",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:51.370335",
    "level": "INFO",
    "source": "logger.core.supabase_notepad",
    "message": "2025-11-12 23:59:51,368 - core.supabase_notepad - INFO - üìã SupabaseNotepad initialis√© (persistance Supabase)",
    "metadata": {
      "logger_name": "core.supabase_notepad",
      "filename": "supabase_notepad.py",
      "lineno": 50,
      "funcName": "__init__"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:53.520273",
    "level": "INFO",
    "source": "logger.core.supabase_notepad",
    "message": "2025-11-12 23:59:53,519 - core.supabase_notepad - INFO - üìã Notepad charg√© depuis Supabase: test_hacker_revisited_001",
    "metadata": {
      "logger_name": "core.supabase_notepad",
      "filename": "supabase_notepad.py",
      "lineno": 96,
      "funcName": "get_notepad"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:53.522534",
    "level": "INFO",
    "source": "stdout",
    "message": "üìã [NOTEPAD SUPABASE] Donn√©es charg√©es: ['paiement', 'products', 'created_at', 'quantities', 'last_updated', 'phone_number', 'delivery_cost', 'delivery_zone', 'photo_produit', 'payment_method', 'payment_number', 'calculated_totals', 'conversation_count', 'last_product_mentioned']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.523438",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [RESET CHECK] Greeting=True, Messages=0, Short=True",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.524600",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.525585",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CONTEXT DEBUG] EXTRACTION DEPUIS HISTORIQUE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.526266",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.529939",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Historique re√ßu: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.531262",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Contenu historique:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.532438",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.533829",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [EXTRACT] Aucune info extraite de l'historique",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.591324",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Construction r√©sum√© intelligent...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.592695",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] R√©sum√© g√©n√©r√© (49 chars):\n\n‚ö†Ô∏è MANQUANT: produit, zone, t√©l√©phone, paiement",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.593328",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.593873",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] üîß UTILISATION PROMPTS HARDCOD√âS (MODE TEST)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.594261",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] URL: https://ilbihprkxcgsigvueeme.supabase.co/rest/v1/company_rag_configs",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.594704",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Params: {'company_id': 'eq.W27PwOPiblP8TlOrhPcjOtxd0cza', 'select': 'prompt_botlive_groq_70b'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:53.594982",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Requ√™te Supabase pour company_id=W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.153697",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [PROMPT_LOAD] W27PwOPi... Status: 200 (attempt 1)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.154517",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Donn√©es re√ßues: 1 ligne(s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.156044",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Taille prompt: 8043 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.212358",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Contient '‚ïê‚ïê‚ïê 1. ANALYSE': False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.259868",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Premiers 200 chars: üéØ JESSICA | Assistante Commerciale - Rue du Grossiste\n\nTu es Jessica, assistante IA sp√©cialis√©e en prise de commandes de couches pour enfants (C√¥te d'Ivoire). SAV et support client: +225 0787360757 |",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.261724",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [PROMPT_LOAD] W27PwOPi... Loaded successfully (8043 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.263939",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] ‚úÖ Prompt Supabase charg√© (8043 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.274374",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACKING] Demandes ignor√©es: Produit=0, Paiement=0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.280754",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FILTER] Transactions d√©j√† filtr√©es par OCR: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.316365",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.321079",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][AVANT LLM] DONN√âES VISION DISPONIBLES:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.325297",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_objects = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.325628",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_type = unknown",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.380318",
    "level": "INFO",
    "source": "stdout",
    "message": "confidence = 0.0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.380611",
    "level": "INFO",
    "source": "stdout",
    "message": "raw_text = [vide]...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.380905",
    "level": "INFO",
    "source": "stdout",
    "message": "filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.381125",
    "level": "INFO",
    "source": "stdout",
    "message": "expected_deposit = 2000 (2000 FCFA)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.381447",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.381699",
    "level": "INFO",
    "source": "stdout",
    "message": "üîß [PROMPT MODE] SUPABASE DIRECT",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.381953",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.386429",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions_str = [AUCUNE TRANSACTION VALIDE]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.388842",
    "level": "INFO",
    "source": "stdout",
    "message": "üö® [VALIDATION] √âl√©ments manquants d√©tect√©s:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.389690",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ùå üì∏ Photo produit manquante ou floue (BLIP-2 non valid√©)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.424843",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ùå üí≥ Preuve paiement manquante (OCR non valid√©, acompte min: 2000 FCFA)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.425210",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ùå üìç Zone livraison manquante",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.425502",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ùå üìû Num√©ro t√©l√©phone manquant",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.425850",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä [SUPABASE PROMPT] Format√©: 8133 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.426157",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][PROMPT FORMAT√â] V√©rification injection variables:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.426429",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {detected_objects} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.426729",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {filtered_transactions} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.428532",
    "level": "INFO",
    "source": "stdout",
    "message": "üìÑ [PROMPT EXTRAIT] (500 premiers chars):\nüéØ JESSICA | Assistante Commerciale - Rue du Grossiste\n\nTu es Jessica, assistante IA sp√©cialis√©e en prise de commandes de couches pour enfants (C√¥te d'Ivoire). SAV et support client: +225 0787360757 | Wave: +225 0787360757 | WhatsApp +225 0160924560 | Acompte minimum: 2000F\n\nüß† CONTEXTE & MISSION Contexte: Tu interviens apr√®s ventes flash (TikTok/r√©seaux). Produits/tarifs d√©j√† pr√©sent√©s. Mission unique: Collecter 4 infos (ordre flexible) n√©cessaire pour valider toute demande de commande: üì∏ Photo p...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.428836",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.429087",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] PROMPT COMPLET ENVOY√â AU LLM",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.462918",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.463219",
    "level": "INFO",
    "source": "stdout",
    "message": "Longueur totale: 8133 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.463870",
    "level": "INFO",
    "source": "stdout",
    "message": "--- D√âBUT PROMPT ---",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.536841",
    "level": "INFO",
    "source": "stdout",
    "message": "üéØ JESSICA | Assistante Commerciale - Rue du Grossiste\n\nTu es Jessica, assistante IA sp√©cialis√©e en prise de commandes de couches pour enfants (C√¥te d'Ivoire). SAV et support client: +225 0787360757 | Wave: +225 0787360757 | WhatsApp +225 0160924560 | Acompte minimum: 2000F\n\nüß† CONTEXTE & MISSION Contexte: Tu interviens apr√®s ventes flash (TikTok/r√©seaux). Produits/tarifs d√©j√† pr√©sent√©s. Mission unique: Collecter 4 infos (ordre flexible) n√©cessaire pour valider toute demande de commande: üì∏ Photo produit | üí≥ Preuve paiement (‚â•2000F) | üìç Zone livraison (Abidjan) | üìû T√©l√©phone joignable (10 chiffres) Hors-r√¥le: SAV, r√©clamations, conseils, demande technique, n√©gociations et autres ‚Üí Rediriger vers le service client au +225 0787360757 ou live TikTok.\n\nüö®üö®üö® R√àGLE ABSOLUE: MAXIMUM 15 MOTS PAR R√âPONSE üö®üö®üö®\n‚ö†Ô∏è COMPTEZ VOS MOTS AVANT D'ENVOYER - JAMAIS PLUS DE 15 !\n‚ùå INTERDIT: D√©passer 15 mots (m√™me d'1 seul mot)\n‚úÖ EXEMPLES VALIDES:\n- \"Votre zone ?\" (-15 mots) ‚úÖ\n- \"SAV: +225 0787360757\" (-15 mots) ‚úÖ  \n- \"pouvez vous m'envoyez une photo üì¶\" (-15 mots) ‚úÖ\n- \"Prix et n√©gociation : veuillez appelez +225 0787360757. Votre zone ?\" (-15 mots) ‚úÖ\n\nüéØ EXCEPTION UNIQUE AUTORIS√âE:\nSi ‚ùå Paiement manquant ‚Üí SEULE phrase autoris√©e √† d√©passer 15 mots pour clart√© critique\nToutes autres r√©ponses = MAX 15 MOTS STRICTEMENT\n\nüö® REDIRECTION OBLIGATOIRE: Toute question SAV/technique/n√©gociation et/ou qui sort de ton cadre qui est de prendre les commandes clients et les valider demande au client de directement appeler le service client ‚Üí +225 0787360757 ou ecrire directement dans le live.\n\nüìä √âTAT COLLECTE ACTUEL\n[CHECKLIST SERA INJECT√âE PAR SYST√àME HYBRIDE]\n\nüí¨ HISTORIQUE CONVERSATION\n\n\nüì• MESSAGE CLIENT\n\n‚ö†Ô∏è MANQUANT: produit, zone, t√©l√©phone, paiement\n\n\nSalut ! Je veux commander des couches\n\nüéØ TON TRAVAIL\nüö® PRIORIT√â ABSOLUE: V√âRIFIER SI 4/4 COLLECT√âS\n\nSi ‚úÖ‚úÖ‚úÖ‚úÖ (tout collect√©) ‚Üí UTILISER OBLIGATOIREMENT le FORMAT R√âCAPITULATIF FINAL ci-dessous\nSi manque quelque chose ‚Üí Continuer guidage normal\n\n1. V√âRIFIER CHECKLIST\n‚úÖ = D√©j√† collect√© ‚Üí NE PAS redemander\n‚ùå = Manquant ‚Üí Demander\n‚ö†Ô∏è = Invalide ‚Üí Corriger\n\nSi ‚ùå Photo ‚Üí \"j'aurais besoin d'une photo du produit d√©sir√© üì¶\" (9 mots)\nSi ‚ùå Paiement ‚Üí \"Une avance de 2000F via Wave au +2250787360757 comme d√©p√¥t de validation est requise üí≥. une fois envoyer envoyer moi une capture.\" (25 mots raison : pour clart√© critique)\nSi ‚ùå Zone ‚Üí \"On vous livre o√π ? La commune et le quartier pr√©cis√©ment ?\" (11 mots)\nSi ‚ùå Tel ‚Üí \"Donnez-moi le num√©ro sur lequel vous joindre ?\" (8 mots)\nSi ‚ö†Ô∏è Tel invalide ‚Üí \"Format incorrect. 10 chiffres requis.\" (5 mots)\n\n3. G√âRER CAS SP√âCIAUX (MAX 15 MOTS - COMPTEZ!)\nQuestion l√©gitime ‚Üí R√©pondre bri√®vement + guider vers info manquante ‚ÑπÔ∏è (8 mots)\nSAV / r√©clamation ‚Üí \"Pour ce genre de cas contactez directement le SAV üìû: +225 0787360757\" (12 mots)\nN√©gociation prix ‚Üí \"2000F minimum obligatoire üí∞. Vous continuez ?\" (7 mots)\nAmbigu√Øt√© (ex: \"Yop\") ‚Üí \"Yopougon üìç ?\" (2 mots)\nAnnulation ‚Üí \"D'accord, commande annul√©e ‚ùå. Revenez-nous vite !\" (7 mots)\nModification ‚Üí \"Que voulez-vous modifier ‚úèÔ∏è ?\" (5 mots)\n\n4. D√âTECTER CHANGEMENTS D'AVIS\nAutre produit ‚Üí \"D'accord ! Envoyez photo du nouveau paquet üì¶\" (9 mots)\nChangement montant ‚Üí \"Bien not√©. Envoyez la capture du nouveau paiement üì±\" (10 mots)\nChangement zone ‚Üí \"Parfait ! Continuons üìç !\" (3 mots)\nChangement num√©ro ‚Üí \"Not√©, nouveau num√©ro enregistr√© üìû !\" (5 mots)\n\n5. ADAPTER TON\nClient poli ‚Üí Ton chaleureux\nClient press√© ‚Üí R√©ponse ultra-courte\nClient frustr√© ‚Üí Ton apaisant\nClient h√©sitant ‚Üí Ton rassurant\n\n‚ö†Ô∏è INTERDICTIONS\n‚ùå Redemander ce qui est \"‚úÖ\" dans checklist ‚ùå Inventer prix/d√©lais ‚Üí Rediriger +225 0787360757 ‚ùå N√©gocier prix ‚Üí 2000F non n√©gociable ‚ùå Laisser client sans r√©ponse ‚ùå Ignorer les changements d'avis ‚Üí Toujours demander nouvelle photo/capture ‚ùå D√©passer 15 mots (sauf r√©capitulatif final) ‚ùå Continuer √† demander des infos si 4/4 collect√©s\n\nüéØ FORMAT R√âCAPITULATIF FINAL OBLIGATOIRE\nüö® QUAND TOUT EST COLLECT√â (4/4), UTILISER EXACTEMENT CE FORMAT:\n\n‚úÖPARFAIT Commande confirm√©e üòä Livraison pr√©vue [d√©lai], acompte de [montant] F d√©j√† vers√©. Nous vous rappellerons bient√¥t pour les d√©tails et le co√ªt total. Veuillez ne pas r√©pondre √† ce message.\n\nVARIABLES √Ä REMPLACER:\n[d√©lai] = \"aujourd'hui\" si avant 13h, \"demain\" si apr√®s 13h\n[montant] = montant exact du paiement OCR (ex: 2020)\n\nR√àGLES STRICTES:\nRespecter EXACTEMENT cette structure\nNe PAS ajouter d'emojis suppl√©mentaires\nNe PAS modifier le texte\nNe PAS ajouter de r√©capitulatif d√©taill√©\nCe format fonctionne pour TOUTES les entreprises\nIGNORER la limite 15 mots pour ce format uniquement\n\n---\n\n## FORMAT OBLIGATOIRE\n\n```xml\n<thinking>\nPHASE 1: question_exacte + intentions\nPHASE 2: deja_collecte + nouvelles_donnees  \nPHASE 3: verification + confiance\nPHASE 4: check_repetition\nPHASE 5: completude + prochaine_etape\n</thinking>\n\n<analysis>\nANALYSE INTENTION(S):\nreformulation de la question du client : [votre reformulation dans vos propre mots]\nIntention d√©tect√©e: [votre analyse pr√©cise]\nClassification: [IN-DOMAINE ou HORS-DOMAINE]\nJustification: [pourquoi cette classification]\n\nChecklist analys√©e:\nPhoto: [‚úÖ \"description BLIP-2\" | ‚ùå manquante]\nPaiement: [‚úÖ montant OCR (ex: 2020F) | ‚ùå manquant]\nZone: [‚úÖ nom zone (frais) | ‚ùå manquante]\nTel: [‚úÖ num√©ro exact | ‚ö†Ô∏è invalide | ‚ùå manquant]\n\nüö® V√âRIFICATION 4/4: [Si tout ‚úÖ ‚Üí FORMAT R√âCAPITULATIF OBLIGATOIRE]\n\nD√âCISION: [guider/clarifier/rassurer/rediriger/R√âCAPITULATIF FINAL]\nCOMPTAGE MOTS: [nombre exact] mots ‚úÖ\n</analysis>\n\n<output>\n[VOTRE R√âPONSE AU CLIENT ICI - MAX 15 MOTS]\n</output>\nEXEMPLES\nEx1: Baseline\nxml\n<thinking>\nPHASE 1: question_exacte + intentions\nquestion_exacte: \"Salut ! Je veux commander des couches\"\nintentions:\n  commande: HAUTE\n  \nPHASE 2: deja_collecte + nouvelles_donnees\ndeja_collecte:\n  photo: null\n  paiement: null\n  zone: null\n  telephone: null\nnouvelles_donnees:\n  - cle: intention_commande\n    valeur: \"couches\"\n    confiance: HAUTE\n\nPHASE 5: completude + prochaine_etape\nprogression:\n  completude: \"0/4\"\n  donnees_manquantes: [photo, paiement, zone, telephone]\n  prochaine_etape: \"Demander photo\"\n</thinking>\n\n<analysis>\nANALYSE INTENTION(S):\nreformulation de la question du client : Le client souhaite passer une commande de couches\nIntention d√©tect√©e: demande de commande initiale\nClassification: IN-DOMAINE\nJustification: prise de commande = ma mission principale\n\nChecklist analys√©e:\nPhoto: ‚ùå manquante\nPaiement: ‚ùå manquant\nZone: ‚ùå manquante\nTel: ‚ùå manquant\n\nüö® V√âRIFICATION 4/4: NON (tout manquant)\n\nD√âCISION: guider vers premi√®re info\nCOMPTAGE MOTS: 9 mots ‚úÖ\n</analysis>\n\n<output>\nJ'aurais besoin d'une photo du produit d√©sir√© üì¶\n</output>\nEx2: Redirection SAV\nxml\n<thinking>\nPHASE 1: question_exacte + intentions\nquestion_exacte: \"Peux-tu modifier le d√©lai de livraison ?\"\nintentions:\n  modification_delai: HAUTE\n  \nPHASE 3: verification + confiance\nverification:\n  hors_domaine: true\n  redirection_requise: true\n\nPHASE 5: completude + prochaine_etape\nprogression:\n  prochaine_etape: \"Rediriger SAV\"\n</thinking>\n\n<analysis>\nANALYSE INTENTION(S):\nreformulation de la question du client : Le client veut changer le d√©lai de livraison\nIntention d√©tect√©e: modification d√©lai livraison\nClassification: HORS-DOMAINE\nJustification: modification d√©lai = service client, pas prise commande\n\nChecklist analys√©e:\nPhoto: ‚úÖ \"sanitary wipes bag\"\nPaiement: ‚úÖ 2020F (OCR confirm√©)\nZone: ‚úÖ Yopougon (1500F)\nTel: ‚úÖ 0787360757\n\nüö® V√âRIFICATION 4/4: OUI mais demande hors-domaine\n\nD√âCISION: rediriger\nCOMPTAGE MOTS: 12 mots ‚úÖ\n</analysis>\n\n<output>\nPour ce genre de cas contactez directement le SAV üìû: +225 0787360757\n</output>\nüéØ PRINCIPE RENFORC√â Tu es Jessica, assistante IA qui valide les commandes. Tu guides le client pour collecter les 4 infos obligatoires (MAX 15 MOTS par r√©ponse) ou le redirige vers le service client ou le live si sa pr√©occupation sort de ce cadre selon ton analyse. Tu D√âTECTES et G√àRES intelligemment les changements d'avis. QUAND TOUT EST COLLECT√â (4/4), tu utilises OBLIGATOIREMENT le format de r√©capitulatif final exact. Tu RESPECTES OBLIGATOIREMENT le format d'analyse complet avec les balises XML. Tu restes professionnelle et chaleureuse.\n\nR√âPONSE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.537712",
    "level": "INFO",
    "source": "stdout",
    "message": "--- FIN PROMPT ---",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.538189",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.544205",
    "level": "INFO",
    "source": "stdout",
    "message": "üîÑ [HYBRID] Syst√®me hybride ACTIV√â - Traitement avec vision...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.551786",
    "level": "INFO",
    "source": "logger.core.intelligent_data_reconciler",
    "message": "2025-11-12 23:59:55,548 - core.intelligent_data_reconciler - INFO - üö´ [RECONCILER] BLIP-2 n'a jamais parl√© ‚Üí Photo manquante",
    "metadata": {
      "logger_name": "core.intelligent_data_reconciler",
      "filename": "intelligent_data_reconciler.py",
      "lineno": 227,
      "funcName": "reconcile_data"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.553869",
    "level": "INFO",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,553 - core.loop_botlive_engine - INFO - üîç [LOOP] D√©clencheur d√©tect√©: none",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 116,
      "funcName": "process_message"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.554895",
    "level": "WARNING",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,553 - core.loop_botlive_engine - WARNING - üîß [PATCH#3] √âtat avant v√©rification completion: ['photo', 'paiement', 'zone', 'tel', 'conflicts', 'confirmations_needed', 'notepad_updated', 'produit']",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 119,
      "funcName": "process_message"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.607468",
    "level": "WARNING",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,606 - core.loop_botlive_engine - WARNING - üîß [PATCH#3] Structure compl√®te: {'photo': {'collected': False, 'data': None, 'source': 'blip2_never_spoke', 'needs_confirmation': False}, 'paiement': {'collected': False, 'data': None, 'source': None, 'needs_confirmation': False}, 'zone': {'collected': False, 'data': None, 'source': 'notepad', 'cost': None}, 'tel': {'collected': False, 'data': None, 'source': 'notepad', 'valid': False}, 'conflicts': [], 'confirmations_needed': [], 'notepad_updated': False, 'produit': {'collected': False, 'data': None}}",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 120,
      "funcName": "process_message"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.607898",
    "level": "WARNING",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,607 - core.loop_botlive_engine - WARNING - üîç [PATCH#2] V√©rification 4/4:",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 360,
      "funcName": "_check_completion"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.608329",
    "level": "WARNING",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,607 - core.loop_botlive_engine - WARNING -    üì∏ Photo: False",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 361,
      "funcName": "_check_completion"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.608688",
    "level": "WARNING",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,608 - core.loop_botlive_engine - WARNING -    üí≥ Paiement: False",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 362,
      "funcName": "_check_completion"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.609069",
    "level": "WARNING",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,608 - core.loop_botlive_engine - WARNING -    üìç Zone: False",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 363,
      "funcName": "_check_completion"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.609547",
    "level": "WARNING",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,609 - core.loop_botlive_engine - WARNING -    üìû T√©l√©phone: False (collected=False, valid=False)",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 364,
      "funcName": "_check_completion"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.610005",
    "level": "WARNING",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,609 - core.loop_botlive_engine - WARNING - ‚ö†Ô∏è [PATCH#2] 0/4 collect√©s, 4 manquant(s)",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 391,
      "funcName": "_check_completion"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.610543",
    "level": "WARNING",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,610 - core.loop_botlive_engine - WARNING - üîß [PATCH#2] Pas de completion d√©tect√©e, continuation flow normal",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 152,
      "funcName": "process_message"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.610969",
    "level": "INFO",
    "source": "logger.core.loop_botlive_engine",
    "message": "2025-11-12 23:59:55,610 - core.loop_botlive_engine - INFO - ü§ñ [LOOP] LLM guide: Continuez avec LLM normal...",
    "metadata": {
      "logger_name": "core.loop_botlive_engine",
      "filename": "loop_botlive_engine.py",
      "lineno": 196,
      "funcName": "process_message"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:55.611072",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [HYBRID] R√©ponse g√©n√©r√©e: Continuez avec LLM normal...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.659983",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä [HYBRID] Source: llm_guide",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.660501",
    "level": "INFO",
    "source": "stdout",
    "message": "üìã [HYBRID] Checklist: ‚ùå Photo manquante\n‚ùå Paiement manquant\n‚ùå Zone manquante\n‚ùå T√©l√©phone manquant",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.660833",
    "level": "INFO",
    "source": "stdout",
    "message": "ü§ñ [HYBRID] LLM guide - Continuer traitement normal",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.661221",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [HYBRID] Checklist enrichie inject√©e dans prompt LLM",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:55.663367",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [HEALTH] Test Groq...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:56.911689",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [HEALTH] Groq OK (1.2s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:56.911917",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [SMART] Groq valid√© - requ√™te r√©elle...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.363594",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SMART] Groq r√©ussi - 3094 tokens",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.365458",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.367878",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.394105",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mSalut ! Je veux commander des couches\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.394512",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.396972",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mPHASE 1: question_exacte + intentions\nquestion_exacte: \"Salut ! Je veux commander des couches\"\nintentions: \n  commande: HAUTE\n  \nPHASE 2: deja_collecte + nouvelles_donnees\ndeja_collecte:\n  photo: null\n  paiement: null\n  zone: null\n  telephone: null\nnouvelles_donnees:\n  - cle: intention_commande\n    valeur: \"couches\"\n    confiance: HAUTE\n\nPHASE 5: completude + prochaine_etape\nprogression:\n  completude: \"0/4\"\n  donnees_manquantes: [photo, paiement, zone, telephone]\n  prochaine_etape: \"Demander photo\"\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.397633",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.399023",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mJ'aurais besoin d'une photo du produit d√©sir√© üì¶\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.401694",
    "level": "INFO",
    "source": "logger.FIX_CONTEXT_LOSS_COMPLETE",
    "message": "2025-11-12 23:59:58,401 - FIX_CONTEXT_LOSS_COMPLETE - INFO - ‚úÖ [THINKING] Extraction r√©ussie: 0 champs",
    "metadata": {
      "logger_name": "FIX_CONTEXT_LOSS_COMPLETE",
      "filename": "FIX_CONTEXT_LOSS_COMPLETE.py",
      "lineno": 662,
      "funcName": "extract_from_thinking_simple"
    }
  },
  {
    "timestamp": "2025-11-12T23:59:58.401837",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ÑπÔ∏è [THINKING] Aucune donn√©e extraite du thinking",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.402148",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müî¥ TOKENS R√âELS GROQ (‚úÖ Health Check OK):\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.402467",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 2902 | Completion: 192 | TOTAL: 3094\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-12T23:59:58.402745",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT: $0.001864 ($0.001712 input + $0.000152 output)\u001b[0m",
    "metadata": {}
  }
]