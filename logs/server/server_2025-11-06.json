[
  {
    "timestamp": "2025-11-06T12:30:10.779763",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:10.779869",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:10.779962",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SERVER_LOGGER] Logs serveur activ√©s ‚Üí logs/server/",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:10.780203",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 12:30:10,780 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T12:30:10.780354",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 12:30:10,780 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T12:30:10.781535",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing core.models...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:10.800778",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing FIX_CONTEXT_LOSS_COMPLETE...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:10.803705",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] FIX_CONTEXT_LOSS_COMPLETE imported",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:10.803955",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing pydantic...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:10.804179",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing universal_rag_engine...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:11.335445",
    "level": "INFO",
    "source": "logger.core.french_nlp_processor",
    "message": "2025-11-06 12:30:11,335 - core.french_nlp_processor - INFO - ‚ÑπÔ∏è Lemmatiseur d√©sactiv√© (non requis)",
    "metadata": {
      "logger_name": "core.french_nlp_processor",
      "filename": "french_nlp_processor.py",
      "lineno": 199,
      "funcName": "_init_lemmatizer"
    }
  },
  {
    "timestamp": "2025-11-06T12:30:12.332240",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing prompt_manager...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:12.339730",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing supabase_client...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:12.363129",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing ingestion_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.261670",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing global_embedding_cache...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.262195",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing auth router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.263213",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing routes...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.267938",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili_ingest_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.300289",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.315125",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing utils...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.352383",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing security_validator...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.357564",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing hallucination_guard...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.366907",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing error_handler...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.375878",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing circuit_breaker...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.381269",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing image_search...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.381620",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Image search router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.381943",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing botlive router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.382256",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Botlive router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.383252",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] All imports completed!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:18.446226",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 12:30:18,446 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T12:30:18.477449",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 12:30:18,446 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T12:30:18.926790",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 12:30:18,926 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T12:30:18.928357",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 12:30:18,926 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T12:30:19.198978",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] üîß UTILISATION PROMPTS HARDCOD√âS (MODE TEST)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:19.199574",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Requ√™te Supabase pour company_id=W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.870754",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Status: 200",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.871419",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Donn√©es re√ßues: 1 ligne(s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.871666",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Taille prompt: 2662 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.871937",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Contient '‚ïê‚ïê‚ïê 1. ANALYSE': False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.872635",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Premiers 200 chars: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.915649",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] ‚úÖ Prompt Supabase charg√© (2662 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.916493",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FILTER] Transactions d√©j√† filtr√©es par OCR: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.918010",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.918279",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][AVANT LLM] DONN√âES VISION DISPONIBLES:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.918513",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_objects = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.918712",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_type = unknown",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.918914",
    "level": "INFO",
    "source": "stdout",
    "message": "confidence = 0.0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.919141",
    "level": "INFO",
    "source": "stdout",
    "message": "raw_text = [vide]...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.919357",
    "level": "INFO",
    "source": "stdout",
    "message": "filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.919549",
    "level": "INFO",
    "source": "stdout",
    "message": "expected_deposit = 2000 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.960674",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.960927",
    "level": "INFO",
    "source": "stdout",
    "message": "üîß [PROMPT MODE] SUPABASE DIRECT",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.961144",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.961560",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions_str = [AUCUNE TRANSACTION VALIDE]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.961839",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä [SUPABASE PROMPT] Format√©: 2632 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.962254",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][PROMPT FORMAT√â] V√©rification injection variables:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.962638",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {detected_objects} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.962986",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {expected_deposit} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.963500",
    "level": "INFO",
    "source": "stdout",
    "message": "üìÑ [PROMPT EXTRAIT] (500 premiers chars):\nJESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N‚ÄôOB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp:...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:21.966971",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [HEALTH] Test Groq...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:23.721472",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [HEALTH] Groq OK (1.7s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:23.722326",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [SMART] Groq valid√© - requ√™te r√©elle...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.650261",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SMART] Groq r√©ussi - 1097 tokens",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.655164",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.656220",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.656568",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mBonjour\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.656890",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.657607",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe verdict OCR indique \"AUCUNE TRANSACTION VALIDE\". Cela signifie que le paiement n'a pas √©t√© valid√©. Je refuse le paiement car il n'y a pas de transaction valide enregistr√©e dans la section \"üí≥ VALIDATION PAIEMENT OCR\".\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.658054",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.658383",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mBonjour, votre paiement n'a pas √©t√© valid√©. Il semble qu'il n'y a pas eu de transaction enregistr√©e. Merci de v√©rifier et de nous fournir une preuve de paiement ou d'effectuer le paiement requis de 2000 FCFA.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.707335",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müî¥ TOKENS R√âELS GROQ (‚úÖ Health Check OK):\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.707661",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 967 | Completion: 130 | TOTAL: 1097\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.707899",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT: $0.000673 ($0.000571 input + $0.000103 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.708183",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: llama-3.3-70b-versatile\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.708519",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T12:30:25.963759",
    "level": "INFO",
    "source": "logger.core.order_state_tracker",
    "message": "2025-11-06 12:30:25,963 - core.order_state_tracker - INFO - ‚úÖ State Tracker initialis√© avec persistance: data/order_states.db",
    "metadata": {
      "logger_name": "core.order_state_tracker",
      "filename": "order_state_tracker.py",
      "lineno": 83,
      "funcName": "__init__"
    }
  },
  {
    "timestamp": "2025-11-06T12:30:25.965820",
    "level": "INFO",
    "source": "logger.routes.botlive",
    "message": "2025-11-06 12:30:25,965 - routes.botlive - INFO - [BOTLIVE][90a8f47e] R√©ponse g√©n√©r√©e en 15397ms, next_step=produit",
    "metadata": {
      "logger_name": "routes.botlive",
      "filename": "botlive.py",
      "lineno": 92,
      "funcName": "process_botlive_message"
    }
  },
  {
    "timestamp": "2025-11-06T13:15:19.593865",
    "level": "INFO",
    "source": "logger.routes.botlive",
    "message": "2025-11-06 13:15:19,592 - routes.botlive - INFO - [BOTLIVE][3ba5f620] Message re√ßu: user=test_delivery_003, company=W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "routes.botlive",
      "filename": "botlive.py",
      "lineno": 69,
      "funcName": "process_botlive_message"
    }
  },
  {
    "timestamp": "2025-11-06T13:15:19.596458",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] üîß UTILISATION PROMPTS HARDCOD√âS (MODE TEST)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:19.600962",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Requ√™te Supabase pour company_id=W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.401324",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Status: 200",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.402306",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Donn√©es re√ßues: 1 ligne(s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.402518",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Taille prompt: 2662 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.402699",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Contient '‚ïê‚ïê‚ïê 1. ANALYSE': False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.402932",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Premiers 200 chars: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.403698",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] ‚úÖ Prompt Supabase charg√© (2662 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.404032",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FILTER] Transactions d√©j√† filtr√©es par OCR: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.405002",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.405290",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][AVANT LLM] DONN√âES VISION DISPONIBLES:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.405513",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_objects = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.450573",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_type = unknown",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.460549",
    "level": "INFO",
    "source": "stdout",
    "message": "confidence = 0.0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.461638",
    "level": "INFO",
    "source": "stdout",
    "message": "raw_text = [vide]...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.461865",
    "level": "INFO",
    "source": "stdout",
    "message": "filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.462101",
    "level": "INFO",
    "source": "stdout",
    "message": "expected_deposit = 2000 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.462329",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.462688",
    "level": "INFO",
    "source": "stdout",
    "message": "üîß [PROMPT MODE] SUPABASE DIRECT",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.463422",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.463794",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions_str = [AUCUNE TRANSACTION VALIDE]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.464923",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä [SUPABASE PROMPT] Format√©: 2664 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.513897",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][PROMPT FORMAT√â] V√©rification injection variables:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.514376",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {detected_objects} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.514913",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {expected_deposit} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.515542",
    "level": "INFO",
    "source": "stdout",
    "message": "üìÑ [PROMPT EXTRAIT] (500 premiers chars):\nJESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N‚ÄôOB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp:...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:22.517510",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [HEALTH] Test Groq...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:24.393109",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [HEALTH] Groq OK (1.9s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:24.394000",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [SMART] Groq valid√© - requ√™te r√©elle...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.667000",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SMART] Groq r√©ussi - 1125 tokens",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.667760",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.667949",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.702550",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mC'est quoi les frais pour Bingerville ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.703158",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.703386",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe verdict de la section \"üí≥ VALIDATION PAIEMENT OCR\" est \"AUCUNE TRANSACTION VALIDE\". Cela signifie que je ne dispose d'aucune information valable pour valider ou refuser le paiement. Puisque je ne peux prendre en compte que cette section pour la d√©cision de paiement, je dois refuser le paiement en raison de l'absence de transaction valide.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.703639",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.703875",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mVotre paiement n'a pas √©t√© valid√© car aucune transaction n'a √©t√© d√©tect√©e. Merci de proc√©der au paiement de l'acompte minimum de 2000 FCFA pour que nous puissions valider votre commande.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.704113",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müî¥ TOKENS R√âELS GROQ (‚úÖ Health Check OK):\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.704344",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 974 | Completion: 151 | TOTAL: 1125\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.704588",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT: $0.000694 ($0.000575 input + $0.000119 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.704788",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: llama-3.3-70b-versatile\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:15:26.704984",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:27:53.268403",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:27:53.268516",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:27:53.268618",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SERVER_LOGGER] Logs serveur activ√©s ‚Üí logs/server/",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:27:53.269053",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:27:53,268 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:27:53.272742",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:27:53,268 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:27:53.273354",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing core.models...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:27:53.291013",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing FIX_CONTEXT_LOSS_COMPLETE...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:27:53.293809",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] FIX_CONTEXT_LOSS_COMPLETE imported",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:27:53.294138",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing pydantic...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:27:53.294446",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing universal_rag_engine...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:27:53.446539",
    "level": "INFO",
    "source": "logger.core.french_nlp_processor",
    "message": "2025-11-06 13:27:53,446 - core.french_nlp_processor - INFO - ‚ÑπÔ∏è Lemmatiseur d√©sactiv√© (non requis)",
    "metadata": {
      "logger_name": "core.french_nlp_processor",
      "filename": "french_nlp_processor.py",
      "lineno": 199,
      "funcName": "_init_lemmatizer"
    }
  },
  {
    "timestamp": "2025-11-06T13:28:22.208455",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing prompt_manager...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:22.211629",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing supabase_client...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:22.226161",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing ingestion_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.447803",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing global_embedding_cache...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.501057",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing auth router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.502382",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing routes...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.506056",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili_ingest_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.534634",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.545891",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing utils...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.596689",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing security_validator...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.600171",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing hallucination_guard...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.606322",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing error_handler...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.610412",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing circuit_breaker...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.614012",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing image_search...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.614324",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Image search router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.614708",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing botlive router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.615129",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Botlive router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.615312",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] All imports completed!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.659994",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:28:24,659 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:28:24.697342",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:28:24,659 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:28:24.763741",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:28:24,763 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:28:24.764101",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:28:24,763 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:28:24.973374",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] üîß UTILISATION PROMPTS HARDCOD√âS (MODE TEST)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:24.973811",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Requ√™te Supabase pour company_id=W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:27.321324",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Status: 200",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:27.321842",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Donn√©es re√ßues: 1 ligne(s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:27.322083",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Taille prompt: 2662 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:27.322359",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Contient '‚ïê‚ïê‚ïê 1. ANALYSE': False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:27.322660",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Premiers 200 chars: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:27.357207",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] ‚úÖ Prompt Supabase charg√© (2662 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:27.357422",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FILTER] Transactions d√©j√† filtr√©es par OCR: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.233776",
    "level": "INFO",
    "source": "stdout",
    "message": "üöö [DELIVERY] Zone d√©tect√©e: Bingerville = 2500 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.234102",
    "level": "INFO",
    "source": "stdout",
    "message": "üìã [DELIVERY] Contexte inject√© dans le prompt (710 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.234383",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.234753",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][AVANT LLM] DONN√âES VISION DISPONIBLES:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.235234",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_objects = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.235593",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_type = unknown",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.236034",
    "level": "INFO",
    "source": "stdout",
    "message": "confidence = 0.0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.236315",
    "level": "INFO",
    "source": "stdout",
    "message": "raw_text = [vide]...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.259299",
    "level": "INFO",
    "source": "stdout",
    "message": "filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.259792",
    "level": "INFO",
    "source": "stdout",
    "message": "expected_deposit = 2000 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.260023",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.260474",
    "level": "INFO",
    "source": "stdout",
    "message": "üîß [PROMPT MODE] SUPABASE DIRECT",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.260924",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.261330",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions_str = [AUCUNE TRANSACTION VALIDE]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.261694",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä [SUPABASE PROMPT] Format√©: 3372 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.261963",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][PROMPT FORMAT√â] V√©rification injection variables:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.262252",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {detected_objects} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.262434",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {expected_deposit} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.294046",
    "level": "INFO",
    "source": "stdout",
    "message": "üìÑ [PROMPT EXTRAIT] (500 premiers chars):\nJESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N‚ÄôOB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp:...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:33.297557",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [HEALTH] Test Groq...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:46.991834",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [HEALTH] Groq OK (13.7s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:46.992282",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [SMART] Groq valid√© - requ√™te r√©elle...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.161905",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SMART] Groq r√©ussi - 1448 tokens",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.163020",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.163299",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.163487",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mFrais de livraison pour Bingerville\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.163678",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.163962",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe verdict de la section \"üí≥ VALIDATION PAIEMENT OCR\" indique \"[AUCUNE TRANSACTION VALIDE]\". Cela signifie qu'aucune transaction n'a √©t√© d√©tect√©e ou valid√©e. Selon les r√®gles de validation paiement, si le verdict OCR est \"ABSENT\" ou \"INSUFFISANT\", je dois refuser le paiement et demander un compl√©ment ou une preuve. Dans ce cas, comme il n'y a aucune transaction valide, je dois refuser le paiement.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.206651",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.206892",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mVotre paiement n'a pas √©t√© d√©tect√©. Pour valider votre commande, un acompte de 2000 FCFA est requis. Merci d'effectuer le paiement et de me fournir une preuve de transaction.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.207169",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müî¥ TOKENS R√âELS GROQ (‚úÖ Health Check OK):\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.207422",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1274 | Completion: 174 | TOTAL: 1448\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.207686",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT: $0.000889 ($0.000752 input + $0.000137 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.207905",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: llama-3.3-70b-versatile\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.208091",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:28:49.227020",
    "level": "INFO",
    "source": "logger.core.order_state_tracker",
    "message": "2025-11-06 13:28:49,226 - core.order_state_tracker - INFO - ‚úÖ State Tracker initialis√© avec persistance: data/order_states.db",
    "metadata": {
      "logger_name": "core.order_state_tracker",
      "filename": "order_state_tracker.py",
      "lineno": 83,
      "funcName": "__init__"
    }
  },
  {
    "timestamp": "2025-11-06T13:28:49.228794",
    "level": "INFO",
    "source": "logger.routes.botlive",
    "message": "2025-11-06 13:28:49,228 - routes.botlive - INFO - [BOTLIVE][9ab5396d] R√©ponse g√©n√©r√©e en 56410ms, next_step=produit",
    "metadata": {
      "logger_name": "routes.botlive",
      "filename": "botlive.py",
      "lineno": 92,
      "funcName": "process_botlive_message"
    }
  },
  {
    "timestamp": "2025-11-06T13:36:51.811528",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:36:51,811 - uvicorn.error - INFO - Shutting down",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "server.py",
      "lineno": 264,
      "funcName": "shutdown"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:20.021757",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:20.021909",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:20.022084",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SERVER_LOGGER] Logs serveur activ√©s ‚Üí logs/server/",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:20.022592",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:20,022 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:20.023300",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:20,022 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:20.043621",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing core.models...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:20.059486",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing FIX_CONTEXT_LOSS_COMPLETE...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:20.061341",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] FIX_CONTEXT_LOSS_COMPLETE imported",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:20.061531",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing pydantic...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:20.061717",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing universal_rag_engine...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:40.440471",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing prompt_manager...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:40.443861",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing supabase_client...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:40.459213",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing ingestion_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:44.764119",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing global_embedding_cache...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:44.764801",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing auth router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.169623",
    "level": "WARNING",
    "source": "logger.routes.auth",
    "message": "2025-11-06 13:37:45,169 - routes.auth - WARNING - Variables d'environnement Google manquantes pour le Service Account. JWT Google d√©sactiv√©.",
    "metadata": {
      "logger_name": "routes.auth",
      "filename": "auth.py",
      "lineno": 32,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.172109",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing routes...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.177101",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili_ingest_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.212673",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.229280",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing utils...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.290180",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing security_validator...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.296217",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing hallucination_guard...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.308575",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing error_handler...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.318691",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing circuit_breaker...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.328016",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing image_search...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.328375",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Image search router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.328669",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing botlive router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.328966",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Botlive router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.329300",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] All imports completed!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.400088",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,399 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.450763",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,399 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.533047",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,532 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.533454",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,532 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.777650",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:37:45,777 - uvicorn.error - INFO - Started server process [5936]",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "server.py",
      "lineno": 84,
      "funcName": "_serve"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.779301",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:37:45,777 - uvicorn.error - INFO - Waiting for application startup.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 48,
      "funcName": "startup"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.781265",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.781295",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.781490",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.781653",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìù Logging serveur JSON activ√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.781673",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìù Logging serveur JSON activ√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.828044",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üöÄ ENHANCED - √âlimination latence 3.6s en cours...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.828067",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üöÄ ENHANCED - √âlimination latence 3.6s en cours...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.828389",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,828 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.828434",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,828 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.828632",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,828 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.828667",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,828 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.828798",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [PROMPT_CACHE]: üöÄ Cache prompt global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.828814",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [PROMPT_CACHE]: üöÄ Cache prompt global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.829130",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,829 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.829165",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,829 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.872642",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,829 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.872742",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,829 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.874075",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [EMBEDDING_CACHE]: üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.874103",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [EMBEDDING_CACHE]: üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.875141",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,874 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.875203",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,874 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.875806",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,874 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.875866",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,874 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.876040",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [MODEL_CACHE]: üöÄ Cache mod√®le global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.876058",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [MODEL_CACHE]: üöÄ Cache mod√®le global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.926521",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,926 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.926576",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,926 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.927882",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,926 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.927936",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,926 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.928146",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [UNIFIED_CACHE]: üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.928163",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [UNIFIED_CACHE]: üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.928399",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.928415",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.928678",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üß† Pr√©-chargement des 2 mod√®les 768D...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.928694",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üß† Pr√©-chargement des 2 mod√®les 768D...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:45.999464",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,999 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.999521",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,999 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.999916",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,999 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:45.999963",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:45,999 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:46.000235",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:46.000255",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:45][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:46.000740",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:46,000 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:46.000783",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:46,000 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:46.001366",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:46,000 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:46.001421",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:46,000 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:46.061858",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:46][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:46.061881",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:46][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:52.991569",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:52,991 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.99\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:52.991597",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:52,991 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.99\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:52.991974",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:52,991 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.99\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:52.992020",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:52,991 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.99\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:52.993592",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:52][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.99\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:52.993610",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:52][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.99\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:52.998650",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:52,998 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:52.998676",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:52,998 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.040650",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:52,998 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.040705",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:52,998 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.042575",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:53][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:53.042593",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:53][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:53.042930",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,042 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 7.050s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.042963",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,042 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 7.050s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.043294",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,042 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 7.050s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.043330",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,042 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 7.050s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.043486",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:53][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-mpnet-base-v2 | Time: 7.050s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:53.043506",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:53][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-mpnet-base-v2 | Time: 7.050s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:53.087670",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ mpnet-base-v2: 7.09s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:53.087700",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ mpnet-base-v2: 7.09s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:53.094933",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,094 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.094988",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,094 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.095377",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,094 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.095422",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,094 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.095706",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:53][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:53.095723",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:53][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:53.096769",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,096 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.096839",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,096 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.139710",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,096 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.139763",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:53,096 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:53.141414",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:53][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:53.141439",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:53][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.251289",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,251 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"6.16\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.251356",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,251 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"6.16\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.251806",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,251 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"6.16\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.251874",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,251 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"6.16\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.254712",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"6.16\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.254749",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"6.16\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.322386",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,322 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"79.9%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.322434",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,322 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"79.9%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.322977",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,322 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"79.9%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.323063",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,322 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"79.9%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.323354",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"79.9%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.323388",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"79.9%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.323845",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,323 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 6.236s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.323977",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,323 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 6.236s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.324455",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,323 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 6.236s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.324509",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,323 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 6.236s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.380851",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [UNIFIED_CACHE]: üÜï Model loaded: e5-base-v2 | Time: 6.236s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.380881",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [UNIFIED_CACHE]: üÜï Model loaded: e5-base-v2 | Time: 6.236s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.382387",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ e5-base-v2: 6.29s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.382414",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ e5-base-v2: 6.29s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.382707",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• WARM-UP - G√©n√©ration embeddings de test...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.382727",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• WARM-UP - G√©n√©ration embeddings de test...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.383299",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,383 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.383349",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,383 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.383748",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,383 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.383786",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,383 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.433603",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.433624",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.441555",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,441 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.441619",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,441 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.442023",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,441 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.442068",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,441 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.442283",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.442304",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.442720",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,442 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.442758",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,442 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.488157",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,442 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.488211",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:37:59,442 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:37:59.489598",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:37:59.489617",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:37:59][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.266655",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,266 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"4.82\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.266683",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,266 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"4.82\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.267045",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,266 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"4.82\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.267087",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,266 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"4.82\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.268937",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"4.82\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.268962",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"4.82\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.325356",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,325 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"80.0%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.325414",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,325 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"80.0%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.325736",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,325 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"80.0%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.325808",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,325 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"80.0%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.326077",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"80.0%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.326093",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"80.0%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.326351",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,326 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 4.891s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.326379",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,326 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 4.891s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.326613",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,326 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 4.891s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.326662",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,326 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 4.891s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.380955",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-MiniLM-L6-v2 | Time: 4.891s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.380980",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-MiniLM-L6-v2 | Time: 4.891s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.751751",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,751 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.751815",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,751 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.752128",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,751 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.752169",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,751 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.753608",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.753631",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.753901",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 1/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.753916",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 1/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.798749",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,798 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.798800",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,798 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.799485",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,798 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.799512",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,798 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.799668",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.799679",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.813099",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,812 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.813150",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,812 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.813515",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,812 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.813561",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,812 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.863434",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.863459",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"80.2%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.865048",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,864 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.235s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.865079",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,864 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.235s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.865282",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,864 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.235s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.865304",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,864 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.235s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.865424",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.235s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.865435",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.235s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.916780",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,916 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.916828",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,916 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.964980",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,916 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.965034",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,916 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.966682",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.966706",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:04][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.966993",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 2/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.967008",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 2/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:04.967411",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,967 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.967458",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,967 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.967690",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,967 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:04.967728",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:04,967 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.028798",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.028826",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.045925",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,045 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"80.3%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.045972",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,045 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"80.3%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.046326",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,045 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"80.3%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.046367",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,045 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"80.3%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.046604",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"80.3%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.046621",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"80.3%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.046930",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,046 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.046971",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,046 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.114135",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,046 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.114179",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,046 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.116084",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.116113",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.169464",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,169 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.169513",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,169 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.169923",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,169 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.169970",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,169 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.172034",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.172062",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.236616",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 3/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.236682",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 3/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.236949",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ WARM-UP termin√© en 5.85s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.236968",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ WARM-UP termin√© en 5.85s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.240806",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,240 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.240853",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,240 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.241224",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,240 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.241260",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:05,240 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:05.241454",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [MODEL_CACHE]: {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.241468",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:05][INFO] [MODEL_CACHE]: {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.307357",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìà 0 mod√®les populaires confirm√©s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:05.307385",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìà 0 mod√®les populaires confirm√©s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:06.354107",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Pr√©-chargement mod√®le 384 dim (fallback Supabase)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:06.354129",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Pr√©-chargement mod√®le 384 dim (fallback Supabase)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:06.354656",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ SupabaseOptimized384 initialis√© (float16=True)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:06.354671",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ SupabaseOptimized384 initialis√© (float16=True)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:06.354901",
    "level": "INFO",
    "source": "stdout",
    "message": "üîÑ [SUPABASE_384] Chargement mod√®le all-MiniLM-L6-v2 (384 dim)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:06.354912",
    "level": "INFO",
    "source": "stdout",
    "message": "üîÑ [SUPABASE_384] Chargement mod√®le all-MiniLM-L6-v2 (384 dim)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.280798",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SUPABASE_384] Mod√®le charg√© et pr√™t (384 dimensions)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.280821",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SUPABASE_384] Mod√®le charg√© et pr√™t (384 dimensions)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.333513",
    "level": "INFO",
    "source": "stdout",
    "message": "üî• [SUPABASE_384] Mod√®le pr√©-charg√© - Pr√™t pour fallback instantan√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.333541",
    "level": "INFO",
    "source": "stdout",
    "message": "üî• [SUPABASE_384] Mod√®le pr√©-charg√© - Pr√™t pour fallback instantan√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.333757",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Mod√®le 384 pr√©-charg√© - Fallback instantan√© activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.333768",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Mod√®le 384 pr√©-charg√© - Fallback instantan√© activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.338033",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.338046",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.338245",
    "level": "INFO",
    "source": "stdout",
    "message": "üéÜ STARTUP ENHANCED TERMIN√â AVEC SUCC√àS!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.338255",
    "level": "INFO",
    "source": "stdout",
    "message": "üéÜ STARTUP ENHANCED TERMIN√â AVEC SUCC√àS!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.338416",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.338426",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.383814",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ Temps total: 25.56s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.383842",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ Temps total: 25.56s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.384115",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† Mod√®les charg√©s: 2/2",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.384131",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† Mod√®les charg√©s: 2/2",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.384390",
    "level": "INFO",
    "source": "stdout",
    "message": "üíæ Mod√®les en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.384406",
    "level": "INFO",
    "source": "stdout",
    "message": "üíæ Mod√®les en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.384623",
    "level": "INFO",
    "source": "stdout",
    "message": "üìà M√©moire syst√®me: 81.2%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.384640",
    "level": "INFO",
    "source": "stdout",
    "message": "üìà M√©moire syst√®me: 81.2%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.384853",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° Embeddings en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.384868",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° Embeddings en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.450827",
    "level": "INFO",
    "source": "stdout",
    "message": "üéØ Hit rate: 0.0%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.450853",
    "level": "INFO",
    "source": "stdout",
    "message": "üéØ Hit rate: 0.0%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.451138",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä PERFORMANCE ATTENDUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.451153",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä PERFORMANCE ATTENDUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.451362",
    "level": "INFO",
    "source": "stdout",
    "message": "- Premi√®re requ√™te: ~0.5s (mod√®les pr√©charg√©s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.451377",
    "level": "INFO",
    "source": "stdout",
    "message": "- Premi√®re requ√™te: ~0.5s (mod√®les pr√©charg√©s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.451584",
    "level": "INFO",
    "source": "stdout",
    "message": "- Requ√™tes suivantes: ~0.01s (cache hits)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.451599",
    "level": "INFO",
    "source": "stdout",
    "message": "- Requ√™tes suivantes: ~0.01s (cache hits)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.451812",
    "level": "INFO",
    "source": "stdout",
    "message": "- Latence √©limin√©e: 3.6s ‚Üí 0.01s (‚ùå 99.7%)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.451827",
    "level": "INFO",
    "source": "stdout",
    "message": "- Latence √©limin√©e: 3.6s ‚Üí 0.01s (‚ùå 99.7%)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.516649",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.516695",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:11.525420",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:38:11,524 - uvicorn.error - INFO - Application startup complete.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 62,
      "funcName": "startup"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:11.525467",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:38:11,524 - uvicorn.error - INFO - Application startup complete.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 62,
      "funcName": "startup"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:26.043248",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.043278",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.045894",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:26,045 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=f4297438 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:26.045948",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:26,045 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=f4297438 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:26.046245",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:26,045 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=f4297438 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:26.046280",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:26,045 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=f4297438 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:26.152833",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.152870",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.153593",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Combien coute la livraison a Cocody ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.153620",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Combien coute la livraison a Cocody ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.154061",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.154136",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.154576",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.154597",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.162207",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=7)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.162240",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=7)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.242080",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:26.242120",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:31.552917",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:31,552 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:31.552991",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:31,552 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:31.553726",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:31,552 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:31.553785",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:31,552 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:31.555773",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:31][INFO] [PROMPT] Active prompt: v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:31.555813",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:31][INFO] [PROMPT] Active prompt: v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:31.556796",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:31.556826",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:31.666084",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:31.666118",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:34.034984",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:34.035050",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:34.035574",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:34.035621",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:34.035946",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:34.035969",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.789683",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.789717",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.898339",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.898372",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.901100",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.901126",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.903879",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.903915",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.917632",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.917659",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.918459",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:36.918485",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.099437",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.099481",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.109594",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.109640",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.112768",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.112805",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.113854",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.113880",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.117534",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.117760",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.279958",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.279987",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.284122",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:37.284156",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:39.949573",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:39.949624",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:39.950410",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:39.950431",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:39.951006",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:39.951028",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.123973",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.123995",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.127375",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.127407",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.127783",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.127809",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.128109",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.128124",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.128354",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.128372",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.219670",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.219701",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.232047",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.232190",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.247435",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.247571",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.254361",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.254474",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.257068",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.257178",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.394727",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001F301A33B60>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.394754",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001F301A33B60>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.395488",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.395511",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.395824",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.395843",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.398709",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.398736",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.399136",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (740 caract√®res, ~185 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.399155",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (740 caract√®res, ~185 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.530882",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.530911",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.531626",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Combien coute la livraison a Cocody ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.531650",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Combien coute la livraison a Cocody ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.531971",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:40.532005",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:42.976206",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:42.976231",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:42.976970",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:42.976995",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.073922",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] Prompt r√©cup√©r√©: 1626 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.073936",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] Prompt r√©cup√©r√©: 1626 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.074526",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] D√©but du prompt:  \"\"\"Tu es Jessica, agent IA de validation de commandes.\n\n## CONFIGURATION (NE JAMAIS MODIFIER)\n```\nWHATSAPP: +225 0160924560\nWAVE: +225 0787360757\nACOMPTE: 2000 FCFA\n```\n\n## MISSION\nCollecter 4 donn√©e...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.074555",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] D√©but du prompt:  \"\"\"Tu es Jessica, agent IA de validation de commandes.\n\n## CONFIGURATION (NE JAMAIS MODIFIER)\n```\nWHATSAPP: +225 0160924560\nWAVE: +225 0787360757\nACOMPTE: 2000 FCFA\n```\n\n## MISSION\nCollecter 4 donn√©e...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.075062",
    "level": "ERROR",
    "source": "logger.core.botlive_prompts_supabase",
    "message": "2025-11-06 13:38:45,074 - core.botlive_prompts_supabase - ERROR - ‚ö†Ô∏è Variable manquante dans prompt deepseek-v3: 'context_text'",
    "metadata": {
      "logger_name": "core.botlive_prompts_supabase",
      "filename": "botlive_prompts_supabase.py",
      "lineno": 150,
      "funcName": "format_prompt"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:45.075094",
    "level": "ERROR",
    "source": "logger.core.botlive_prompts_supabase",
    "message": "2025-11-06 13:38:45,074 - core.botlive_prompts_supabase - ERROR - ‚ö†Ô∏è Variable manquante dans prompt deepseek-v3: 'context_text'",
    "metadata": {
      "logger_name": "core.botlive_prompts_supabase",
      "filename": "botlive_prompts_supabase.py",
      "lineno": 150,
      "funcName": "format_prompt"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:45.075486",
    "level": "WARNING",
    "source": "logger.core.botlive_prompts_supabase",
    "message": "2025-11-06 13:38:45,075 - core.botlive_prompts_supabase - WARNING - ‚ö†Ô∏è [PROMPTS_MANAGER] Fallback formatage: 1625 chars",
    "metadata": {
      "logger_name": "core.botlive_prompts_supabase",
      "filename": "botlive_prompts_supabase.py",
      "lineno": 155,
      "funcName": "format_prompt"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:45.075518",
    "level": "WARNING",
    "source": "logger.core.botlive_prompts_supabase",
    "message": "2025-11-06 13:38:45,075 - core.botlive_prompts_supabase - WARNING - ‚ö†Ô∏è [PROMPTS_MANAGER] Fallback formatage: 1625 chars",
    "metadata": {
      "logger_name": "core.botlive_prompts_supabase",
      "filename": "botlive_prompts_supabase.py",
      "lineno": 155,
      "funcName": "format_prompt"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:45.075664",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 1625 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.075677",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 1625 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.126275",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 1625 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.126295",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 1625 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.126623",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.126665",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.126912",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 1625 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.126930",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 1625 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.127203",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.127219",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.127958",
    "level": "INFO",
    "source": "stdout",
    "message": "\"\"\"Tu es Jessica, agent IA de validation de commandes.\n\n## CONFIGURATION (NE JAMAIS MODIFIER)\n```\nWHATSAPP: +225 0160924560\nWAVE: +225 0787360757\nACOMPTE: 2000 FCFA\n```\n\n## MISSION\nCollecter 4 donn√©es obligatoires dans N'IMPORTE QUEL ordre:\n1. PRODUIT (capture photo du produit d√©sir√©)\n2. PAIEMENT (capture de preuve du versement du d√©p√¥t de validation)\n3. ZONE (commune et quartier pr√©cis - tarif sera fourni par le syst√®me)\n4. T√âL√âPHONE (le num√©ro √† joindre pour la livraison)\n\n## FORMAT OBLIGATOIRE\n```xml\n<thinking>\n```yaml\nextraction:\n  question: \"citation exacte\"\n  intention: [produit|paiement|zone|telephone|salutation]\n\ncontexte_actuel:\n  notepad:\n    produit: \"description ou null\"\n    paiement: \"montant FCFA ou null\"\n    zone: \"commune ou null\"\n    telephone: \"0XXXXXXXXX ou null\"\n  vision: \"objet d√©tect√© ou null\"\n  transactions: \"montant valid√© ou null\"\n  livraison: \"zone + tarif d√©tect√©s par syst√®me ou null\"\n\nanalyse:\n  nouvelles_donnees:\n    - champ: \"nom\"\n      valeur: \"valeur\"\n      source: \"[VISION|TRANSACTIONS|MESSAGE|NOTEPAD|LIVRAISON]\"\n\nvalidation:\n  completude: \"X/4\"\n  manquants: [liste]\n\ndecision:\n  action: \"demander_X ou finaliser\"\n  notepad_update: \"write|append produit/paiement/zone/telephone\"\n```\nCONTEXTE ACTUEL\n{context_text}\n\nHISTORIQUE CONVERSATION\n\n\nMESSAGE CLIENT\nCombien coute la livraison a Cocody ?\n\nDONN√âES VISION (si image envoy√©e)\nObjets d√©tect√©s: [AUCUN OBJET D√âTECT√â]\n\nR√àGLES VALIDATION PAIEMENT\nAcompte requis: 2000 FCFA\nSi montant ‚â• acompte ‚Üí VALIDER automatiquement\nSi montant < acompte ‚Üí REJETER et demander compl√©ment\n√ätre ASSERTIF, pas interrogatif\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.127981",
    "level": "INFO",
    "source": "stdout",
    "message": "\"\"\"Tu es Jessica, agent IA de validation de commandes.\n\n## CONFIGURATION (NE JAMAIS MODIFIER)\n```\nWHATSAPP: +225 0160924560\nWAVE: +225 0787360757\nACOMPTE: 2000 FCFA\n```\n\n## MISSION\nCollecter 4 donn√©es obligatoires dans N'IMPORTE QUEL ordre:\n1. PRODUIT (capture photo du produit d√©sir√©)\n2. PAIEMENT (capture de preuve du versement du d√©p√¥t de validation)\n3. ZONE (commune et quartier pr√©cis - tarif sera fourni par le syst√®me)\n4. T√âL√âPHONE (le num√©ro √† joindre pour la livraison)\n\n## FORMAT OBLIGATOIRE\n```xml\n<thinking>\n```yaml\nextraction:\n  question: \"citation exacte\"\n  intention: [produit|paiement|zone|telephone|salutation]\n\ncontexte_actuel:\n  notepad:\n    produit: \"description ou null\"\n    paiement: \"montant FCFA ou null\"\n    zone: \"commune ou null\"\n    telephone: \"0XXXXXXXXX ou null\"\n  vision: \"objet d√©tect√© ou null\"\n  transactions: \"montant valid√© ou null\"\n  livraison: \"zone + tarif d√©tect√©s par syst√®me ou null\"\n\nanalyse:\n  nouvelles_donnees:\n    - champ: \"nom\"\n      valeur: \"valeur\"\n      source: \"[VISION|TRANSACTIONS|MESSAGE|NOTEPAD|LIVRAISON]\"\n\nvalidation:\n  completude: \"X/4\"\n  manquants: [liste]\n\ndecision:\n  action: \"demander_X ou finaliser\"\n  notepad_update: \"write|append produit/paiement/zone/telephone\"\n```\nCONTEXTE ACTUEL\n{context_text}\n\nHISTORIQUE CONVERSATION\n\n\nMESSAGE CLIENT\nCombien coute la livraison a Cocody ?\n\nDONN√âES VISION (si image envoy√©e)\nObjets d√©tect√©s: [AUCUN OBJET D√âTECT√â]\n\nR√àGLES VALIDATION PAIEMENT\nAcompte requis: 2000 FCFA\nSi montant ‚â• acompte ‚Üí VALIDER automatiquement\nSi montant < acompte ‚Üí REJETER et demander compl√©ment\n√ätre ASSERTIF, pas interrogatif\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.175682",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:45.175707",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.276670",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.276690",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.278093",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.278116",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.278451",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.278474",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.278736",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mCombien coute la livraison a Cocody ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.278755",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mCombien coute la livraison a Cocody ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.344090",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.344160",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.344577",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92m```xml\n<thinking>\n```yaml\nextraction: question: \"Combien coute la livraison a Cocody ?\" intention: zone contexte_actuel: notepad: produit: null paiement: null zone: \"Cocody\" telephone: null vision: null transactions: null livraison: null analyse: nouvelles_donnees: - champ: zone valeur: Cocody source: MESSAGE validation: completude: 1/4 manquants: [produit, paiement, telephone] decision: action: demander_produit notepad_update: write zone\nPour valider votre commande, nous avons besoin de quelques informations suppl√©mentaires. Pouvez-vous nous fournir une photo du produit que vous souhaitez commander ?\n```\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.344603",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92m```xml\n<thinking>\n```yaml\nextraction: question: \"Combien coute la livraison a Cocody ?\" intention: zone contexte_actuel: notepad: produit: null paiement: null zone: \"Cocody\" telephone: null vision: null transactions: null livraison: null analyse: nouvelles_donnees: - champ: zone valeur: Cocody source: MESSAGE validation: completude: 1/4 manquants: [produit, paiement, telephone] decision: action: demander_produit notepad_update: write zone\nPour valider votre commande, nous avons besoin de quelques informations suppl√©mentaires. Pouvez-vous nous fournir une photo du produit que vous souhaitez commander ?\n```\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.344997",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.345019",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.345381",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 548 | Completion: 185 | TOTAL: 733\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.345395",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 548 | Completion: 185 | TOTAL: 733\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.345667",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000044 input + $0.000022 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.345681",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000044 input + $0.000022 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.416907",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (321 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.416932",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (321 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.417222",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.417236",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.417482",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.417497",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.417925",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.417948",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.418207",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.418229",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.508976",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 2578.50ms | 321 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.509004",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 2578.50ms | 321 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.509280",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 2201.35ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.509301",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 2201.35ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.509610",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2050.07ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.509624",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2050.07ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.509862",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 18.64ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.509878",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 18.64ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.510107",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.510126",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.572825",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 6880.41ms (6.880s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.572875",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 6880.41ms (6.880s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.573433",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.573454",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.586982",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.587009",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.587731",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:47.587756",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.225173",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.225206",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.387215",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.387295",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.388365",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.388396",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.393995",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Cocody', 'frais_livraison': '1500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.394114",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Cocody', 'frais_livraison': '1500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.413312",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.413332",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.413640",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.413658",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.497611",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': '```xml\\n<thinking>\\n```yaml\\nextraction: question: \"Combien coute la livraison a Cocody ?\" intention: zone contexte_actuel: notepad: produit: null paiement: null zone: \"Cocody\" telephone",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.497643",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': '```xml\\n<thinking>\\n```yaml\\nextraction: question: \"Combien coute la livraison a Cocody ?\" intention: zone contexte_actuel: notepad: produit: null paiement: null zone: \"Cocody\" telephone",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.498001",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.498020",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.498280",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.498297",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.590025",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Redis connect√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.590049",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Redis connect√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.591143",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Initialis√© (buffer=5, user=None)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.591168",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Initialis√© (buffer=5, user=None)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.667337",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:49,667 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:49.667386",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:49,667 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:49.667678",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:49,667 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:49.667722",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:38:49,667 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:38:49.667963",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:49][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:38:49.667979",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:38:49][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:41.028487",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:49:41,014 - uvicorn.error - INFO - Shutting down",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "server.py",
      "lineno": 264,
      "funcName": "shutdown"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.028648",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:49:41,014 - uvicorn.error - INFO - Shutting down",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "server.py",
      "lineno": 264,
      "funcName": "shutdown"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.140926",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:49:41,131 - uvicorn.error - INFO - Waiting for application shutdown.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 67,
      "funcName": "shutdown"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.140993",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:49:41,131 - uvicorn.error - INFO - Waiting for application shutdown.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 67,
      "funcName": "shutdown"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.295902",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,295 - app - INFO - [TRACE][[PROMPT_CACHE]] üßπ Expir√©s nettoy√©s: 0",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.295962",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,295 - app - INFO - [TRACE][[PROMPT_CACHE]] üßπ Expir√©s nettoy√©s: 0",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.357417",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,295 - app - INFO - [TRACE][[PROMPT_CACHE]] üßπ Expir√©s nettoy√©s: 0",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.357484",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,295 - app - INFO - [TRACE][[PROMPT_CACHE]] üßπ Expir√©s nettoy√©s: 0",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.406588",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:49:41][INFO] [PROMPT_CACHE]: üßπ Expir√©s nettoy√©s: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:41.406626",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:49:41][INFO] [PROMPT_CACHE]: üßπ Expir√©s nettoy√©s: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:41.542268",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,542 - app - INFO - [TRACE][[UNIFIED_CACHE]] {\n  \"action\": \"global_cleanup\",\n  \"results\": {\n    \"prompt_expired\": 0,\n    \"embedding_expired\": 0,\n    \"model_cleanup\": 0\n  }\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.542329",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,542 - app - INFO - [TRACE][[UNIFIED_CACHE]] {\n  \"action\": \"global_cleanup\",\n  \"results\": {\n    \"prompt_expired\": 0,\n    \"embedding_expired\": 0,\n    \"model_cleanup\": 0\n  }\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.686407",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,542 - app - INFO - [TRACE][[UNIFIED_CACHE]] {\n  \"action\": \"global_cleanup\",\n  \"results\": {\n    \"prompt_expired\": 0,\n    \"embedding_expired\": 0,\n    \"model_cleanup\": 0\n  }\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.686549",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,542 - app - INFO - [TRACE][[UNIFIED_CACHE]] {\n  \"action\": \"global_cleanup\",\n  \"results\": {\n    \"prompt_expired\": 0,\n    \"embedding_expired\": 0,\n    \"model_cleanup\": 0\n  }\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.939326",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:49:41][INFO] [UNIFIED_CACHE]: {\n  \"action\": \"global_cleanup\",\n  \"results\": {\n    \"prompt_expired\": 0,\n    \"embedding_expired\": 0,\n    \"model_cleanup\": 0\n  }\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:41.939381",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:49:41][INFO] [UNIFIED_CACHE]: {\n  \"action\": \"global_cleanup\",\n  \"results\": {\n    \"prompt_expired\": 0,\n    \"embedding_expired\": 0,\n    \"model_cleanup\": 0\n  }\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:41.942618",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,942 - app - INFO - üßπ Caches nettoy√©s: {'prompt_expired': 0, 'embedding_expired': 0, 'model_cleanup': 0}",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 91,
      "funcName": "shutdown_event"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.942696",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,942 - app - INFO - üßπ Caches nettoy√©s: {'prompt_expired': 0, 'embedding_expired': 0, 'model_cleanup': 0}",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 91,
      "funcName": "shutdown_event"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.943226",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,942 - app - INFO - üßπ Caches nettoy√©s: {'prompt_expired': 0, 'embedding_expired': 0, 'model_cleanup': 0}",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 91,
      "funcName": "shutdown_event"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:41.943420",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:41,942 - app - INFO - üßπ Caches nettoy√©s: {'prompt_expired': 0, 'embedding_expired': 0, 'model_cleanup': 0}",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 91,
      "funcName": "shutdown_event"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:50.939027",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:50.939323",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:50.939564",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SERVER_LOGGER] Logs serveur activ√©s ‚Üí logs/server/",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:50.940741",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:50,940 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:50.942706",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:49:50,940 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:49:50.992116",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing core.models...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:51.069874",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing FIX_CONTEXT_LOSS_COMPLETE...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:51.073395",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] FIX_CONTEXT_LOSS_COMPLETE imported",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:51.073781",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing pydantic...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:49:51.074115",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing universal_rag_engine...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:20.809559",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing prompt_manager...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:20.812328",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing supabase_client...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:20.828753",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing ingestion_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:22.587993",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing global_embedding_cache...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:22.588654",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing auth router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:22.981545",
    "level": "WARNING",
    "source": "logger.routes.auth",
    "message": "2025-11-06 13:50:22,980 - routes.auth - WARNING - Variables d'environnement Google manquantes pour le Service Account. JWT Google d√©sactiv√©.",
    "metadata": {
      "logger_name": "routes.auth",
      "filename": "auth.py",
      "lineno": 32,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:22.984283",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing routes...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:22.989810",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili_ingest_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.036072",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.048386",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing utils...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.141328",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing security_validator...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.144525",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing hallucination_guard...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.150966",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing error_handler...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.156888",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing circuit_breaker...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.165180",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing image_search...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.165472",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Image search router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.165761",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing botlive router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.166004",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Botlive router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.166218",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] All imports completed!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.224591",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,224 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.303678",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,224 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.371177",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,371 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.371546",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,371 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.566105",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:50:23,565 - uvicorn.error - INFO - Started server process [76]",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "server.py",
      "lineno": 84,
      "funcName": "_serve"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.567814",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:50:23,566 - uvicorn.error - INFO - Waiting for application startup.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 48,
      "funcName": "startup"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.569674",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.569694",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.569810",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.569943",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìù Logging serveur JSON activ√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.569955",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìù Logging serveur JSON activ√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.639676",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üöÄ ENHANCED - √âlimination latence 3.6s en cours...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.639696",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üöÄ ENHANCED - √âlimination latence 3.6s en cours...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.639954",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,639 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.639982",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,639 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.640181",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,639 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.640203",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,639 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.640329",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [PROMPT_CACHE]: üöÄ Cache prompt global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.640339",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [PROMPT_CACHE]: üöÄ Cache prompt global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.640568",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,640 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.640590",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,640 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.738569",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,640 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.738687",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,640 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.740038",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [EMBEDDING_CACHE]: üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.740076",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [EMBEDDING_CACHE]: üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.740600",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,740 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.740673",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,740 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.741116",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,740 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.741198",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,740 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.741404",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [MODEL_CACHE]: üöÄ Cache mod√®le global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.741424",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [MODEL_CACHE]: üöÄ Cache mod√®le global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.818230",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,818 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.818291",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,818 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.819290",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,818 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.819319",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,818 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.819503",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [UNIFIED_CACHE]: üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.819514",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [UNIFIED_CACHE]: üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.819716",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.819726",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.819944",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üß† Pr√©-chargement des 2 mod√®les 768D...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.819954",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üß† Pr√©-chargement des 2 mod√®les 768D...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.895913",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,895 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.895942",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,895 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.896199",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,895 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.896222",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,895 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.896389",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.896414",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.896699",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,896 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.896722",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,896 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.896907",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,896 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.896928",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:23,896 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:23.970747",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:23.970798",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:23][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.347259",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,347 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.45\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.347306",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,347 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.45\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.347843",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,347 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.45\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.347917",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,347 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.45\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.350684",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.45\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.350712",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"6.45\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.362810",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,362 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"82.3%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.362902",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,362 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"82.3%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.701306",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,362 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"82.3%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.701364",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,362 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"82.3%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.703023",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"82.3%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.703048",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"82.3%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.703459",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,703 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 6.812s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.703518",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,703 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 6.812s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.703889",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,703 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 6.812s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.703920",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,703 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 6.812s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.704062",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-mpnet-base-v2 | Time: 6.812s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.704086",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-mpnet-base-v2 | Time: 6.812s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.785270",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ mpnet-base-v2: 6.89s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.785299",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ mpnet-base-v2: 6.89s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.791149",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,791 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.791205",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,791 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.791721",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,791 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.791788",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,791 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.792150",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.792170",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.792571",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,792 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.792614",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,792 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.879661",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,792 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.879717",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:30,792 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:30.881057",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:30.881075",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:30][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.169688",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,169 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.38\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.169718",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,169 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.38\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.170092",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,169 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.38\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.170138",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,169 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.38\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.172315",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.38\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.172342",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.38\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.258074",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,257 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"81.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.258123",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,257 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"81.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.258375",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,257 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"81.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.258414",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,257 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"81.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.258629",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"81.8%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.258647",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"81.8%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.258960",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,258 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 5.473s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.258997",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,258 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 5.473s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.259193",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,258 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 5.473s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.259235",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,258 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 5.473s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.326509",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [UNIFIED_CACHE]: üÜï Model loaded: e5-base-v2 | Time: 5.473s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.326535",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [UNIFIED_CACHE]: üÜï Model loaded: e5-base-v2 | Time: 5.473s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.327769",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ e5-base-v2: 5.54s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.327817",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ e5-base-v2: 5.54s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.328008",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• WARM-UP - G√©n√©ration embeddings de test...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.328018",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• WARM-UP - G√©n√©ration embeddings de test...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.328330",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,328 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.328355",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,328 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.328531",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,328 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.328550",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,328 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.390677",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.390698",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.397408",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,397 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.397440",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,397 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.397840",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,397 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.397893",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,397 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.398162",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.398182",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.398707",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,398 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.398774",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,398 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.461449",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,398 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.461485",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:36,398 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:36.463123",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:36.463308",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:36][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.587487",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,587 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.19\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.587549",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,587 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.19\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.588262",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,587 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.19\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.588346",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,587 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.19\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.591330",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:41][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.19\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.591371",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:41][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.19\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.707443",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,707 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"81.9%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.707494",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,707 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"81.9%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.707818",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,707 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"81.9%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.707851",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,707 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"81.9%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.708054",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:41][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"81.9%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.708069",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:41][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"81.9%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.708355",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,708 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.316s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.708396",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,708 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.316s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.708657",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,708 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.316s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.708700",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,708 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.316s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.791564",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:41][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.316s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.791588",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:41][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.316s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.938688",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,938 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.938735",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,938 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.940990",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,938 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.941036",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:41,938 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:41.941357",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:41][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.941372",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:41][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.941597",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 1/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:41.941611",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 1/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.065706",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,065 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.065797",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,065 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.066188",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,065 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.066244",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,065 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.066468",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.066487",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.081507",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,081 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.081625",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,081 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.082072",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,081 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.082136",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,081 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.210122",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.210231",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.213005",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,212 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.154s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.213104",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,212 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.154s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.213635",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,212 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.154s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.213681",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,212 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.154s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.213912",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.154s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.213933",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.154s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.328971",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,328 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.329179",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,328 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.419139",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,328 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.419190",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,328 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.421140",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.421164",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.421490",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 2/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.421513",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 2/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.421978",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,421 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.422020",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,421 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.422240",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,421 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.422268",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,421 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.521051",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.521074",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.537570",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,537 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.537628",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,537 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.537955",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,537 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.537996",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,537 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.538270",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.538287",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"82.2%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.538632",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,538 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.538673",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,538 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.638158",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,538 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.638207",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,538 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.640606",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.640673",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.284s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.681853",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,681 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.681900",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,681 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.682369",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,681 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.682410",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,681 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.684590",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.684661",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.795621",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 3/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.795651",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 3/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.795887",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ WARM-UP termin√© en 6.47s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.795926",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ WARM-UP termin√© en 6.47s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.798459",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,798 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.798508",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,798 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.798796",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,798 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.798835",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:42,798 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:42.799056",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [MODEL_CACHE]: {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.799073",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:42][INFO] [MODEL_CACHE]: {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.903054",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìà 0 mod√®les populaires confirm√©s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:42.903085",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìà 0 mod√®les populaires confirm√©s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:43.303651",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Pr√©-chargement mod√®le 384 dim (fallback Supabase)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:43.303677",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Pr√©-chargement mod√®le 384 dim (fallback Supabase)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:43.304279",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ SupabaseOptimized384 initialis√© (float16=True)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:43.304323",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ SupabaseOptimized384 initialis√© (float16=True)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:43.304613",
    "level": "INFO",
    "source": "stdout",
    "message": "üîÑ [SUPABASE_384] Chargement mod√®le all-MiniLM-L6-v2 (384 dim)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:43.304631",
    "level": "INFO",
    "source": "stdout",
    "message": "üîÑ [SUPABASE_384] Chargement mod√®le all-MiniLM-L6-v2 (384 dim)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.007561",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SUPABASE_384] Mod√®le charg√© et pr√™t (384 dimensions)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.007598",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SUPABASE_384] Mod√®le charg√© et pr√™t (384 dimensions)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.087969",
    "level": "INFO",
    "source": "stdout",
    "message": "üî• [SUPABASE_384] Mod√®le pr√©-charg√© - Pr√™t pour fallback instantan√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.087998",
    "level": "INFO",
    "source": "stdout",
    "message": "üî• [SUPABASE_384] Mod√®le pr√©-charg√© - Pr√™t pour fallback instantan√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.088328",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Mod√®le 384 pr√©-charg√© - Fallback instantan√© activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.088347",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Mod√®le 384 pr√©-charg√© - Fallback instantan√© activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.092784",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.092805",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.093131",
    "level": "INFO",
    "source": "stdout",
    "message": "üéÜ STARTUP ENHANCED TERMIN√â AVEC SUCC√àS!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.093147",
    "level": "INFO",
    "source": "stdout",
    "message": "üéÜ STARTUP ENHANCED TERMIN√â AVEC SUCC√àS!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.093450",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.093465",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.168910",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ Temps total: 24.52s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.168936",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ Temps total: 24.52s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.169289",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† Mod√®les charg√©s: 2/2",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.169310",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† Mod√®les charg√©s: 2/2",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.169649",
    "level": "INFO",
    "source": "stdout",
    "message": "üíæ Mod√®les en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.169667",
    "level": "INFO",
    "source": "stdout",
    "message": "üíæ Mod√®les en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.169976",
    "level": "INFO",
    "source": "stdout",
    "message": "üìà M√©moire syst√®me: 81.9%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.169993",
    "level": "INFO",
    "source": "stdout",
    "message": "üìà M√©moire syst√®me: 81.9%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.170275",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° Embeddings en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.170291",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° Embeddings en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.242304",
    "level": "INFO",
    "source": "stdout",
    "message": "üéØ Hit rate: 0.0%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.242323",
    "level": "INFO",
    "source": "stdout",
    "message": "üéØ Hit rate: 0.0%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.242872",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä PERFORMANCE ATTENDUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.242891",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä PERFORMANCE ATTENDUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.243189",
    "level": "INFO",
    "source": "stdout",
    "message": "- Premi√®re requ√™te: ~0.5s (mod√®les pr√©charg√©s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.243210",
    "level": "INFO",
    "source": "stdout",
    "message": "- Premi√®re requ√™te: ~0.5s (mod√®les pr√©charg√©s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.243560",
    "level": "INFO",
    "source": "stdout",
    "message": "- Requ√™tes suivantes: ~0.01s (cache hits)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.243586",
    "level": "INFO",
    "source": "stdout",
    "message": "- Requ√™tes suivantes: ~0.01s (cache hits)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.243973",
    "level": "INFO",
    "source": "stdout",
    "message": "- Latence √©limin√©e: 3.6s ‚Üí 0.01s (‚ùå 99.7%)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.244002",
    "level": "INFO",
    "source": "stdout",
    "message": "- Latence √©limin√©e: 3.6s ‚Üí 0.01s (‚ùå 99.7%)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.319069",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.319100",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.319870",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:50:48,319 - uvicorn.error - INFO - Application startup complete.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 62,
      "funcName": "startup"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:48.319921",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 13:50:48,319 - uvicorn.error - INFO - Application startup complete.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 62,
      "funcName": "startup"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:48.331535",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.331562",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.331831",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:48,331 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=431c7c57 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:48.331861",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:48,331 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=431c7c57 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:48.332117",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:48,331 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=431c7c57 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:48.332146",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:48,331 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=431c7c57 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:48.402280",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.402305",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.402680",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Combien coute la livraison a Cocody ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.402698",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Combien coute la livraison a Cocody ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.402905",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.402919",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.403123",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.403134",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.406313",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=7)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.406335",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=7)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.477755",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:48.477779",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:52.913526",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:52,913 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:52.913583",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:52,913 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:52.913973",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:52,913 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:52.914012",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 13:50:52,913 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T13:50:52.915564",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:52][INFO] [PROMPT] Active prompt: v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:52.915594",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][13:50:52][INFO] [PROMPT] Active prompt: v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:52.916118",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:52.916137",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:53.061971",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:53.061997",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:54.728448",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 660 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:54.728475",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 660 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:54.728777",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: True",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:54.728791",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: True",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:54.729072",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:54.729092",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.093267",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.093312",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.233938",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.233979",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.234605",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.234630",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.235210",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: 'user: Combien coute la livraison a Cocody ?\nIA: ```xml\n<thinking>\n```yaml\nextraction: question: \"Com...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.235246",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: 'user: Combien coute la livraison a Cocody ?\nIA: ```xml\n<thinking>\n```yaml\nextraction: question: \"Com...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.236110",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.236131",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.236555",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.236577",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.374887",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.374939",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.375536",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.375591",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.376070",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.376123",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.377352",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.377401",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.378213",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.378254",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.490800",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.490818",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.491055",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:56.491065",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.708583",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.708607",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.709435",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.709453",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.709712",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.709727",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.787427",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.787456",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.790922",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.790958",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.792205",
    "level": "INFO",
    "source": "stdout",
    "message": "[HISTORIQUE] ‚úÖ Optimis√©: 2 ‚Üí 2 messages uniques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.792243",
    "level": "INFO",
    "source": "stdout",
    "message": "[HISTORIQUE] ‚úÖ Optimis√©: 2 ‚Üí 2 messages uniques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.792851",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.792875",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.793696",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.793845",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.911920",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.911942",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.912243",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.912260",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.912721",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.912742",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.913081",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.913095",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.913399",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.913414",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.994053",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.994082",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.994431",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x0000021882AA3CB0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.994442",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x0000021882AA3CB0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.994698",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.994710",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.994924",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.994933",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.997183",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:57.997210",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:58.099451",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (740 caract√®res, ~185 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:58.099479",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (740 caract√®res, ~185 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:58.099741",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:58.099755",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:58.100202",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Combien coute la livraison a Cocody ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: OUI\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:58.100219",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Combien coute la livraison a Cocody ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: OUI\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:58.100458",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:50:58.100471",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:00.265065",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:00.265084",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:00.358751",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:00.358777",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.807770",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] Prompt r√©cup√©r√©: 1626 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.807791",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] Prompt r√©cup√©r√©: 1626 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.808344",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] D√©but du prompt:  \"\"\"Tu es Jessica, agent IA de validation de commandes.\n\n## CONFIGURATION (NE JAMAIS MODIFIER)\n```\nWHATSAPP: +225 0160924560\nWAVE: +225 0787360757\nACOMPTE: 2000 FCFA\n```\n\n## MISSION\nCollecter 4 donn√©e...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.808357",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] D√©but du prompt:  \"\"\"Tu es Jessica, agent IA de validation de commandes.\n\n## CONFIGURATION (NE JAMAIS MODIFIER)\n```\nWHATSAPP: +225 0160924560\nWAVE: +225 0787360757\nACOMPTE: 2000 FCFA\n```\n\n## MISSION\nCollecter 4 donn√©e...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.808821",
    "level": "ERROR",
    "source": "logger.core.botlive_prompts_supabase",
    "message": "2025-11-06 13:51:01,808 - core.botlive_prompts_supabase - ERROR - ‚ö†Ô∏è Variable manquante dans prompt deepseek-v3: 'context_text'",
    "metadata": {
      "logger_name": "core.botlive_prompts_supabase",
      "filename": "botlive_prompts_supabase.py",
      "lineno": 150,
      "funcName": "format_prompt"
    }
  },
  {
    "timestamp": "2025-11-06T13:51:01.808843",
    "level": "ERROR",
    "source": "logger.core.botlive_prompts_supabase",
    "message": "2025-11-06 13:51:01,808 - core.botlive_prompts_supabase - ERROR - ‚ö†Ô∏è Variable manquante dans prompt deepseek-v3: 'context_text'",
    "metadata": {
      "logger_name": "core.botlive_prompts_supabase",
      "filename": "botlive_prompts_supabase.py",
      "lineno": 150,
      "funcName": "format_prompt"
    }
  },
  {
    "timestamp": "2025-11-06T13:51:01.809233",
    "level": "WARNING",
    "source": "logger.core.botlive_prompts_supabase",
    "message": "2025-11-06 13:51:01,808 - core.botlive_prompts_supabase - WARNING - ‚ö†Ô∏è [PROMPTS_MANAGER] Fallback formatage: 2377 chars",
    "metadata": {
      "logger_name": "core.botlive_prompts_supabase",
      "filename": "botlive_prompts_supabase.py",
      "lineno": 155,
      "funcName": "format_prompt"
    }
  },
  {
    "timestamp": "2025-11-06T13:51:01.809253",
    "level": "WARNING",
    "source": "logger.core.botlive_prompts_supabase",
    "message": "2025-11-06 13:51:01,808 - core.botlive_prompts_supabase - WARNING - ‚ö†Ô∏è [PROMPTS_MANAGER] Fallback formatage: 2377 chars",
    "metadata": {
      "logger_name": "core.botlive_prompts_supabase",
      "filename": "botlive_prompts_supabase.py",
      "lineno": 155,
      "funcName": "format_prompt"
    }
  },
  {
    "timestamp": "2025-11-06T13:51:01.937603",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 2377 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.937632",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 2377 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.938373",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 2377 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.938547",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 2377 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.938881",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.938904",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.939201",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 2377 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.939239",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 2377 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.939528",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:01.939545",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:02.063279",
    "level": "INFO",
    "source": "stdout",
    "message": "\"\"\"Tu es Jessica, agent IA de validation de commandes.\n\n## CONFIGURATION (NE JAMAIS MODIFIER)\n```\nWHATSAPP: +225 0160924560\nWAVE: +225 0787360757\nACOMPTE: 2000 FCFA\n```\n\n## MISSION\nCollecter 4 donn√©es obligatoires dans N'IMPORTE QUEL ordre:\n1. PRODUIT (capture photo du produit d√©sir√©)\n2. PAIEMENT (capture de preuve du versement du d√©p√¥t de validation)\n3. ZONE (commune et quartier pr√©cis - tarif sera fourni par le syst√®me)\n4. T√âL√âPHONE (le num√©ro √† joindre pour la livraison)\n\n## FORMAT OBLIGATOIRE\n```xml\n<thinking>\n```yaml\nextraction:\n  question: \"citation exacte\"\n  intention: [produit|paiement|zone|telephone|salutation]\n\ncontexte_actuel:\n  notepad:\n    produit: \"description ou null\"\n    paiement: \"montant FCFA ou null\"\n    zone: \"commune ou null\"\n    telephone: \"0XXXXXXXXX ou null\"\n  vision: \"objet d√©tect√© ou null\"\n  transactions: \"montant valid√© ou null\"\n  livraison: \"zone + tarif d√©tect√©s par syst√®me ou null\"\n\nanalyse:\n  nouvelles_donnees:\n    - champ: \"nom\"\n      valeur: \"valeur\"\n      source: \"[VISION|TRANSACTIONS|MESSAGE|NOTEPAD|LIVRAISON]\"\n\nvalidation:\n  completude: \"X/4\"\n  manquants: [liste]\n\ndecision:\n  action: \"demander_X ou finaliser\"\n  notepad_update: \"write|append produit/paiement/zone/telephone\"\n```\nCONTEXTE ACTUEL\n{context_text}\n\nHISTORIQUE CONVERSATION\nuser: Combien coute la livraison a Cocody ?\nIA: ```xml\n\nMESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Cocody\nüí∞ FRAIS EXACTS: 1 500 FCFA\nüìç CAT√âGORIE: centrale\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (1 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Cocody\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nCombien coute la livraison a Cocody ?\n\nDONN√âES VISION (si image envoy√©e)\nObjets d√©tect√©s: [AUCUN OBJET D√âTECT√â]\n\nR√àGLES VALIDATION PAIEMENT\nAcompte requis: 2000 FCFA\nSi montant ‚â• acompte ‚Üí VALIDER automatiquement\nSi montant < acompte ‚Üí REJETER et demander compl√©ment\n√ätre ASSERTIF, pas interrogatif\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:02.063306",
    "level": "INFO",
    "source": "stdout",
    "message": "\"\"\"Tu es Jessica, agent IA de validation de commandes.\n\n## CONFIGURATION (NE JAMAIS MODIFIER)\n```\nWHATSAPP: +225 0160924560\nWAVE: +225 0787360757\nACOMPTE: 2000 FCFA\n```\n\n## MISSION\nCollecter 4 donn√©es obligatoires dans N'IMPORTE QUEL ordre:\n1. PRODUIT (capture photo du produit d√©sir√©)\n2. PAIEMENT (capture de preuve du versement du d√©p√¥t de validation)\n3. ZONE (commune et quartier pr√©cis - tarif sera fourni par le syst√®me)\n4. T√âL√âPHONE (le num√©ro √† joindre pour la livraison)\n\n## FORMAT OBLIGATOIRE\n```xml\n<thinking>\n```yaml\nextraction:\n  question: \"citation exacte\"\n  intention: [produit|paiement|zone|telephone|salutation]\n\ncontexte_actuel:\n  notepad:\n    produit: \"description ou null\"\n    paiement: \"montant FCFA ou null\"\n    zone: \"commune ou null\"\n    telephone: \"0XXXXXXXXX ou null\"\n  vision: \"objet d√©tect√© ou null\"\n  transactions: \"montant valid√© ou null\"\n  livraison: \"zone + tarif d√©tect√©s par syst√®me ou null\"\n\nanalyse:\n  nouvelles_donnees:\n    - champ: \"nom\"\n      valeur: \"valeur\"\n      source: \"[VISION|TRANSACTIONS|MESSAGE|NOTEPAD|LIVRAISON]\"\n\nvalidation:\n  completude: \"X/4\"\n  manquants: [liste]\n\ndecision:\n  action: \"demander_X ou finaliser\"\n  notepad_update: \"write|append produit/paiement/zone/telephone\"\n```\nCONTEXTE ACTUEL\n{context_text}\n\nHISTORIQUE CONVERSATION\nuser: Combien coute la livraison a Cocody ?\nIA: ```xml\n\nMESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Cocody\nüí∞ FRAIS EXACTS: 1 500 FCFA\nüìç CAT√âGORIE: centrale\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (1 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Cocody\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nCombien coute la livraison a Cocody ?\n\nDONN√âES VISION (si image envoy√©e)\nObjets d√©tect√©s: [AUCUN OBJET D√âTECT√â]\n\nR√àGLES VALIDATION PAIEMENT\nAcompte requis: 2000 FCFA\nSi montant ‚â• acompte ‚Üí VALIDER automatiquement\nSi montant < acompte ‚Üí REJETER et demander compl√©ment\n√ätre ASSERTIF, pas interrogatif\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:02.063659",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:02.063683",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.448811",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.448826",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.449835",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.449854",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.450117",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.450134",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.531568",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mCombien coute la livraison a Cocody ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.531587",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mCombien coute la livraison a Cocody ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.532041",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.532055",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.532453",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92m```xml\n<thinking>\n```yaml\nextraction: question: \"Combien coute la livraison a Cocody ?\" intention: zone contexte_actuel: notepad: produit: null paiement: null zone: Cocody telephone: null vision: null transactions: null livraison: Cocody - 1 500 FCFA analyse: nouvelles_donnees: - champ: zone valeur: Cocody source: MESSAGE validation: completude: 1/4 manquants: [produit, paiement, telephone] decision: action: demander_produit notepad_update: write zone\n```\nLa zone de livraison est d√©j√† connue, il faut maintenant demander le produit d√©sir√©.\nR√©ponse: Pour valider votre commande, pouvez-vous me fournir une photo du produit que vous souhaitez commander ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.532466",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92m```xml\n<thinking>\n```yaml\nextraction: question: \"Combien coute la livraison a Cocody ?\" intention: zone contexte_actuel: notepad: produit: null paiement: null zone: Cocody telephone: null vision: null transactions: null livraison: Cocody - 1 500 FCFA analyse: nouvelles_donnees: - champ: zone valeur: Cocody source: MESSAGE validation: completude: 1/4 manquants: [produit, paiement, telephone] decision: action: demander_produit notepad_update: write zone\n```\nLa zone de livraison est d√©j√† connue, il faut maintenant demander le produit d√©sir√©.\nR√©ponse: Pour valider votre commande, pouvez-vous me fournir une photo du produit que vous souhaitez commander ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.533055",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.533075",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.533343",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 865 | Completion: 205 | TOTAL: 1070\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.533362",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 865 | Completion: 205 | TOTAL: 1070\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.654549",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000069 input + $0.000025 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.654588",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000069 input + $0.000025 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.655186",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (322 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.655208",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (322 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.655594",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.655634",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.655920",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.655957",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.656657",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.656689",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.762722",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.762751",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.762991",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1831.80ms | 322 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.763007",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1831.80ms | 322 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.763215",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 1800.44ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.763229",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 1800.44ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.763421",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2366.36ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.763438",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2366.36ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.763635",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 5.72ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.763650",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 5.72ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.875584",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.875603",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.875796",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 6453.52ms (6.454s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.875807",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 6453.52ms (6.454s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.875994",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.876003",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.879215",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.879231",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.879700",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:04.879728",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.505916",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.505937",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.506906",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.506927",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.507153",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.507168",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.508790",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Cocody', 'frais_livraison': '1500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.508809",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Cocody', 'frais_livraison': '1500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.511599",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.511617",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.601709",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.601745",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.602019",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': '```xml\\n<thinking>\\n```yaml\\nextraction: question: \"Combien coute la livraison a Cocody ?\" intention: zone contexte_actuel: notepad: produit: null paiement: null zone: Cocody telephone:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.602031",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': '```xml\\n<thinking>\\n```yaml\\nextraction: question: \"Combien coute la livraison a Cocody ?\" intention: zone contexte_actuel: notepad: produit: null paiement: null zone: Cocody telephone:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.602243",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.602253",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.602454",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.602464",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.644665",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Redis connect√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T13:51:06.644694",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Redis connect√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:29:43.960588",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:29:43.960688",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:29:43.961099",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SERVER_LOGGER] Logs serveur activ√©s ‚Üí logs/server/",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:29:43.961479",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:29:43,961 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T14:29:43.961685",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:29:43,961 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T14:29:43.968095",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing core.models...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:29:43.983255",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing FIX_CONTEXT_LOSS_COMPLETE...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:29:43.985828",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] FIX_CONTEXT_LOSS_COMPLETE imported",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:29:43.986088",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing pydantic...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:29:43.986282",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing universal_rag_engine...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:01.368587",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing prompt_manager...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:01.371335",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing supabase_client...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:01.385290",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing ingestion_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:04.928415",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing global_embedding_cache...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:04.928882",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing auth router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.117630",
    "level": "WARNING",
    "source": "logger.routes.auth",
    "message": "2025-11-06 14:31:05,117 - routes.auth - WARNING - Variables d'environnement Google manquantes pour le Service Account. JWT Google d√©sactiv√©.",
    "metadata": {
      "logger_name": "routes.auth",
      "filename": "auth.py",
      "lineno": 32,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.119857",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing routes...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.123764",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili_ingest_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.145212",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.151052",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing utils...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.217280",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing security_validator...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.221218",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing hallucination_guard...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.229220",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing error_handler...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.233154",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing circuit_breaker...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.236321",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing image_search...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.237812",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Image search router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.239698",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing botlive router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.250814",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Botlive router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.254604",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] All imports completed!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.292838",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,292 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.346410",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,292 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.627391",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,627 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.627713",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,627 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.817345",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 14:31:05,817 - uvicorn.error - INFO - Started server process [15132]",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "server.py",
      "lineno": 84,
      "funcName": "_serve"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.823036",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 14:31:05,817 - uvicorn.error - INFO - Waiting for application startup.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 48,
      "funcName": "startup"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.824553",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.824593",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.824922",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.828264",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìù Logging serveur JSON activ√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.828289",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìù Logging serveur JSON activ√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.888541",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üöÄ ENHANCED - √âlimination latence 3.6s en cours...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.888559",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üöÄ ENHANCED - √âlimination latence 3.6s en cours...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.888890",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,888 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.888932",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,888 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.892229",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,888 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.892288",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,888 - app - INFO - [TRACE][[PROMPT_CACHE]] üöÄ Cache prompt global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.893045",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:05][INFO] [PROMPT_CACHE]: üöÄ Cache prompt global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.893067",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:05][INFO] [PROMPT_CACHE]: üöÄ Cache prompt global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.893613",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,893 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.893655",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,893 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.961812",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,893 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.961849",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,893 - app - INFO - [TRACE][[EMBEDDING_CACHE]] üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.964126",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:05][INFO] [EMBEDDING_CACHE]: üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.964150",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:05][INFO] [EMBEDDING_CACHE]: üöÄ Cache embedding optimis√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.965420",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,965 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.965462",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,965 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.969177",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,965 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.969231",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:05,965 - app - INFO - [TRACE][[MODEL_CACHE]] üöÄ Cache mod√®le global initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:05.970728",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:05][INFO] [MODEL_CACHE]: üöÄ Cache mod√®le global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:05.970812",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:05][INFO] [MODEL_CACHE]: üöÄ Cache mod√®le global initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.035460",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,035 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.035527",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,035 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.039665",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,035 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.039712",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,035 - app - INFO - [TRACE][[UNIFIED_CACHE]] üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.041205",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:06][INFO] [UNIFIED_CACHE]: üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.041232",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:06][INFO] [UNIFIED_CACHE]: üöÄ Syst√®me de cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.044908",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.044932",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Cache unifi√© initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.046094",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üß† Pr√©-chargement des 2 mod√®les 768D...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.046117",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üß† Pr√©-chargement des 2 mod√®les 768D...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.115793",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,115 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.115816",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,115 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.116119",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,115 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.116153",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,115 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.119091",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:06][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.119112",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:06][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.122962",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,122 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.123010",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,122 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.124334",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,122 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.124387",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:06,122 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:06.204989",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:06][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:06.205006",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:06][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.660081",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,659 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"7.54\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.660105",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,659 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"7.54\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.660362",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,659 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"7.54\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.660402",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,659 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"7.54\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.662872",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"7.54\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.662893",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"load_time_seconds\": \"7.54\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.672852",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,672 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"74.6%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.672930",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,672 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"74.6%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.728486",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,672 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"74.6%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.728526",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,672 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"74.6%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.731496",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"74.6%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.731517",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-mpnet-base-v2\",\n  \"estimated_size_mb\": 417.7,\n  \"total_models_cached\": 1,\n  \"memory_usage\": \"74.6%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.732834",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,732 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 7.634s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.732880",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,732 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 7.634s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.736210",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,732 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 7.634s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.736265",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,732 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-mpnet-base-v2 | Time: 7.634s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.737532",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-mpnet-base-v2 | Time: 7.634s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.737562",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-mpnet-base-v2 | Time: 7.634s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.797123",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ mpnet-base-v2: 7.70s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.797147",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ mpnet-base-v2: 7.70s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.802185",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,802 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.802209",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,802 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.802784",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,802 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.802866",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,802 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.805739",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.805757",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.809504",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,809 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.809544",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,809 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.868701",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,809 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.868738",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:13,809 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:13.870777",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:13.870797",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:13][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"intfloat/e5-base-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.194556",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,194 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.39\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.194606",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,194 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.39\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.194912",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,194 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.39\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.194933",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,194 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.39\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.197610",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.39\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.197631",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"load_time_seconds\": \"5.39\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.260487",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,260 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.260525",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,260 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.260873",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,260 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.261049",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,260 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.262256",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.262277",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"intfloat/e5-base-v2\",\n  \"estimated_size_mb\": 417.6,\n  \"total_models_cached\": 2,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.264789",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,264 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 5.467s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.264937",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,264 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 5.467s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.267555",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,264 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 5.467s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.267612",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,264 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: e5-base-v2 | Time: 5.467s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.344485",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [UNIFIED_CACHE]: üÜï Model loaded: e5-base-v2 | Time: 5.467s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.344504",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [UNIFIED_CACHE]: üÜï Model loaded: e5-base-v2 | Time: 5.467s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.350126",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ e5-base-v2: 5.55s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.350181",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ e5-base-v2: 5.55s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.351595",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• WARM-UP - G√©n√©ration embeddings de test...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.351650",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• WARM-UP - G√©n√©ration embeddings de test...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.366739",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,366 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.366824",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,366 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.369090",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,366 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.369159",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,366 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.422730",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.422749",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.428722",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,428 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.428744",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,428 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.429113",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,428 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.429223",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,428 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.430310",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.430322",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_miss\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"loading_start\": true\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.431776",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,431 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.431849",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,431 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.482434",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,431 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.482457",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:19,431 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:19.484579",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:19.484600",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:19][INFO] [MODEL_CACHE]: {\n  \"action\": \"loading_from_huggingface\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.240419",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,240 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.81\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.240454",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,240 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.81\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.240715",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,240 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.81\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.240756",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,240 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.81\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.243054",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.81\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.243074",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_load_complete\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"load_time_seconds\": \"5.81\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.307632",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,307 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.307670",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,307 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.307927",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,307 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.307960",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,307 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.309057",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.309081",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_loaded\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"estimated_size_mb\": 86.6,\n  \"total_models_cached\": 3,\n  \"memory_usage\": \"74.7%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.313081",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,312 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.887s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.313121",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,312 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.887s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.314798",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,312 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.887s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.315065",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,312 - app - INFO - [TRACE][[UNIFIED_CACHE]] üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.887s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.373717",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.887s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.373738",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [UNIFIED_CACHE]: üÜï Model loaded: all-MiniLM-L6-v2 | Time: 5.887s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.694765",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,694 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.694808",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,694 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.695122",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,694 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.695153",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,694 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.699892",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.699917",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Bonjour, combien co√ªte un paquet de couches?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.703694",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 1/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.703732",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 1/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.781946",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,781 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.782006",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,781 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.784093",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,781 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.784138",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,781 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.787134",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.787275",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Livraison √† Yopougon possible?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.799506",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,799 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.799545",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,799 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.799795",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,799 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.799828",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,799 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.877695",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.877714",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 2,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.880768",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,880 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.209s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.880812",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,880 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.209s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.884835",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,880 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.209s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.884917",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,880 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.209s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.885351",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.209s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.885459",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:25][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.209s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:25.918458",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,918 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:25.918493",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,918 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.005311",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,918 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.005391",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:25,918 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.008497",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.008734",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Livraison √† Yopougon possible?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.013226",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 2/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.013254",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 2/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.014014",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,013 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.014048",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,013 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.014912",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,013 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.015022",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,013 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.081909",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.081927",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_miss\",\n  \"query\": \"Quels sont vos prix?\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.094013",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,093 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.094051",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,093 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.094314",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,093 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.094344",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,093 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.095551",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.095566",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [MODEL_CACHE]: {\n  \"action\": \"model_cache_hit\",\n  \"model_name\": \"sentence-transformers/all-MiniLM-L6-v2\",\n  \"access_count\": 3,\n  \"memory_usage\": \"74.8%\"\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.097630",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,097 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.287s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.097667",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,097 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.287s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.157845",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,097 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.287s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.157881",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,097 - app - INFO - [TRACE][[UNIFIED_CACHE]] ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.287s",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.160501",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.287s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.160523",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [UNIFIED_CACHE]: ‚úÖ Model hit: all-MiniLM-L6-v2 | Saved: 8.287s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.189139",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,189 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.189167",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,189 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.189413",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,189 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.189438",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,189 - app - INFO - [TRACE][[EMBEDDING_CACHE]] {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.190590",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.190663",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [EMBEDDING_CACHE]: {\n  \"action\": \"cache_set\",\n  \"query\": \"Quels sont vos prix?\",\n  \"embedding_dims\": 384,\n  \"size_bytes\": 1536\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.265921",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 3/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.265938",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Test 3/3: 384 dims",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.269143",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ WARM-UP termin√© en 6.91s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.269169",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ WARM-UP termin√© en 6.91s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.274521",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,274 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.274551",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,274 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.274815",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,274 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.274843",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:26,274 - app - INFO - [TRACE][[MODEL_CACHE]] {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:26.276007",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [MODEL_CACHE]: {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.276027",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:26][INFO] [MODEL_CACHE]: {\n  \"action\": \"preload_complete\",\n  \"loaded_count\": 0,\n  \"total_cached\": 3\n}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.348940",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìà 0 mod√®les populaires confirm√©s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.348956",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üìà 0 mod√®les populaires confirm√©s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.944010",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Pr√©-chargement mod√®le 384 dim (fallback Supabase)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.944028",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] üî• Pr√©-chargement mod√®le 384 dim (fallback Supabase)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.945350",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ SupabaseOptimized384 initialis√© (float16=True)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.945384",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ SupabaseOptimized384 initialis√© (float16=True)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.946908",
    "level": "INFO",
    "source": "stdout",
    "message": "üîÑ [SUPABASE_384] Chargement mod√®le all-MiniLM-L6-v2 (384 dim)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:26.946933",
    "level": "INFO",
    "source": "stdout",
    "message": "üîÑ [SUPABASE_384] Chargement mod√®le all-MiniLM-L6-v2 (384 dim)...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.893999",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SUPABASE_384] Mod√®le charg√© et pr√™t (384 dimensions)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.894019",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SUPABASE_384] Mod√®le charg√© et pr√™t (384 dimensions)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.963710",
    "level": "INFO",
    "source": "stdout",
    "message": "üî• [SUPABASE_384] Mod√®le pr√©-charg√© - Pr√™t pour fallback instantan√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.963746",
    "level": "INFO",
    "source": "stdout",
    "message": "üî• [SUPABASE_384] Mod√®le pr√©-charg√© - Pr√™t pour fallback instantan√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.967230",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Mod√®le 384 pr√©-charg√© - Fallback instantan√© activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.967252",
    "level": "INFO",
    "source": "stdout",
    "message": "[STARTUP] ‚úÖ Mod√®le 384 pr√©-charg√© - Fallback instantan√© activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.976934",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.976950",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.980057",
    "level": "INFO",
    "source": "stdout",
    "message": "üéÜ STARTUP ENHANCED TERMIN√â AVEC SUCC√àS!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.980083",
    "level": "INFO",
    "source": "stdout",
    "message": "üéÜ STARTUP ENHANCED TERMIN√â AVEC SUCC√àS!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.981437",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:31.981472",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.073683",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ Temps total: 26.15s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.073714",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ Temps total: 26.15s",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.076883",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† Mod√®les charg√©s: 2/2",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.076905",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† Mod√®les charg√©s: 2/2",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.078531",
    "level": "INFO",
    "source": "stdout",
    "message": "üíæ Mod√®les en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.078557",
    "level": "INFO",
    "source": "stdout",
    "message": "üíæ Mod√®les en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.081964",
    "level": "INFO",
    "source": "stdout",
    "message": "üìà M√©moire syst√®me: 74.0%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.081994",
    "level": "INFO",
    "source": "stdout",
    "message": "üìà M√©moire syst√®me: 74.0%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.083315",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° Embeddings en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.083332",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° Embeddings en cache: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.180278",
    "level": "INFO",
    "source": "stdout",
    "message": "üéØ Hit rate: 0.0%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.180302",
    "level": "INFO",
    "source": "stdout",
    "message": "üéØ Hit rate: 0.0%",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.181774",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä PERFORMANCE ATTENDUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.181836",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä PERFORMANCE ATTENDUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.186757",
    "level": "INFO",
    "source": "stdout",
    "message": "- Premi√®re requ√™te: ~0.5s (mod√®les pr√©charg√©s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.186782",
    "level": "INFO",
    "source": "stdout",
    "message": "- Premi√®re requ√™te: ~0.5s (mod√®les pr√©charg√©s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.189597",
    "level": "INFO",
    "source": "stdout",
    "message": "- Requ√™tes suivantes: ~0.01s (cache hits)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.189688",
    "level": "INFO",
    "source": "stdout",
    "message": "- Requ√™tes suivantes: ~0.01s (cache hits)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.191534",
    "level": "INFO",
    "source": "stdout",
    "message": "- Latence √©limin√©e: 3.6s ‚Üí 0.01s (‚ùå 99.7%)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.191556",
    "level": "INFO",
    "source": "stdout",
    "message": "- Latence √©limin√©e: 3.6s ‚Üí 0.01s (‚ùå 99.7%)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.291724",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.291743",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:32.295354",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 14:31:32,292 - uvicorn.error - INFO - Application startup complete.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 62,
      "funcName": "startup"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:32.295485",
    "level": "INFO",
    "source": "logger.uvicorn.error",
    "message": "2025-11-06 14:31:32,292 - uvicorn.error - INFO - Application startup complete.",
    "metadata": {
      "logger_name": "uvicorn.error",
      "filename": "on.py",
      "lineno": 62,
      "funcName": "startup"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:44.349177",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.349196",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.349955",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:44,349 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=c5375dba company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:44.349992",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:44,349 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=c5375dba company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:44.351014",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:44,349 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=c5375dba company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:44.351055",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:44,349 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=c5375dba company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_001 question='Combien coute la livraison a Cocody ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:44.424785",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.424806",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.426112",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Combien coute la livraison a Cocody ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.426132",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Combien coute la livraison a Cocody ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.427752",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.427775",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.429150",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.429172",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.434361",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=7)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.434417",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=7)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.500910",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:44.500932",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:47.912162",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:47,912 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:47.912205",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:47,912 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:47.912479",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:47,912 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:47.912510",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:31:47,912 - app - INFO - [TRACE][[PROMPT] Active prompt] v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:47.914941",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:47][INFO] [PROMPT] Active prompt: v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:47.914958",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:31:47][INFO] [PROMPT] Active prompt: v1 for company W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:47.919288",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:47.919322",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:48.047468",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:48.047488",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:49.675652",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 1366 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:49.675671",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 1366 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:49.677205",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: True",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:49.677233",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: True",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:49.678682",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:49.678703",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:50.955536",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:50.955566",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.063700",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.063729",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.065040",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.065078",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.066723",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: 'user: Combien coute la livraison a Cocody ?\nIA: ```xml\n<thinking>\n```yaml\nextraction: question: \"Com...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.066738",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: 'user: Combien coute la livraison a Cocody ?\nIA: ```xml\n<thinking>\n```yaml\nextraction: question: \"Com...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.070001",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.070023",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.080594",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.080620",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.190273",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.190297",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.197507",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.197532",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.201768",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.201793",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.203383",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.203400",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.204842",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.204866",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.298967",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.298987",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.301001",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:51.301020",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.202662",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.202686",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.208508",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.208548",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.211399",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.211476",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.314650",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.314676",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.316922",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.316942",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.317161",
    "level": "INFO",
    "source": "stdout",
    "message": "[HISTORIQUE] ‚úÖ Optimis√©: 4 ‚Üí 4 messages uniques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.317174",
    "level": "INFO",
    "source": "stdout",
    "message": "[HISTORIQUE] ‚úÖ Optimis√©: 4 ‚Üí 4 messages uniques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.317347",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.317358",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.318635",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.318655",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_001",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.397142",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.397164",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.397379",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.397392",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Combien coute la livraison a Cocody ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.397654",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.397667",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.399836",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.399857",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.402485",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.402509",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.474513",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.474536",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.479331",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.479354",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.481187",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.481205",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.482911",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.482937",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.487819",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.487839",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.557872",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (740 caract√®res, ~185 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.557893",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (740 caract√®res, ~185 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.562666",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.562692",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.567711",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Combien coute la livraison a Cocody ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: OUI\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.567734",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Combien coute la livraison a Cocody ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: OUI\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.569840",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:52.569862",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:54.313975",
    "level": "ERROR",
    "source": "logger.core.hyde_smart_router",
    "message": "2025-11-06 14:31:54,313 - core.hyde_smart_router - ERROR - ‚ùå Erreur appel Groq 8B router: Groq API HTTP 403: {\"error\":{\"message\":\"Access denied. Please check your network settings.\"}}",
    "metadata": {
      "logger_name": "core.hyde_smart_router",
      "filename": "hyde_smart_router.py",
      "lineno": 159,
      "funcName": "_call_groq_8b_router"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:54.314014",
    "level": "ERROR",
    "source": "logger.core.hyde_smart_router",
    "message": "2025-11-06 14:31:54,313 - core.hyde_smart_router - ERROR - ‚ùå Erreur appel Groq 8B router: Groq API HTTP 403: {\"error\":{\"message\":\"Access denied. Please check your network settings.\"}}",
    "metadata": {
      "logger_name": "core.hyde_smart_router",
      "filename": "hyde_smart_router.py",
      "lineno": 159,
      "funcName": "_call_groq_8b_router"
    }
  },
  {
    "timestamp": "2025-11-06T14:31:59.818943",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:59.818959",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:59.829369",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=groq-70b",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:31:59.829399",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=groq-70b",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.537846",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] Prompt r√©cup√©r√©: 2662 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.537865",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] Prompt r√©cup√©r√©: 2662 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.545973",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] D√©but du prompt: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.545996",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] D√©but du prompt: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.550932",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 3439 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.550955",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 3439 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.621081",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 3439 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.621121",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 3439 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.622662",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.622758",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.627493",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí groq-70b: 3439 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.627517",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí groq-70b: 3439 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.628834",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.628854",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.632154",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N‚ÄôOB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\nuser: Combien coute la livraison a Cocody ?\nIA: ```xml\nuser: Combien coute la livraison a Cocody ?\nIA: ```xml\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Cocody\nüí∞ FRAIS EXACTS: 1 500 FCFA\nüìç CAT√âGORIE: centrale\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h31. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (1 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Cocody\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nCombien coute la livraison a Cocody ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Ne fais JAMAIS de supposition ni d‚Äôestimation, ne r√©utilise PAS d‚Äôautres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d‚Äôautres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.632174",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N‚ÄôOB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\nuser: Combien coute la livraison a Cocody ?\nIA: ```xml\nuser: Combien coute la livraison a Cocody ?\nIA: ```xml\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Cocody\nüí∞ FRAIS EXACTS: 1 500 FCFA\nüìç CAT√âGORIE: centrale\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h31. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (1 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Cocody\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nCombien coute la livraison a Cocody ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Ne fais JAMAIS de supposition ni d‚Äôestimation, ne r√©utilise PAS d‚Äôautres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d‚Äôautres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.720665",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:01.720681",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.814650",
    "level": "ERROR",
    "source": "logger.core.botlive_rag_hybrid",
    "message": "2025-11-06 14:32:02,814 - core.botlive_rag_hybrid - ERROR - ‚ùå Erreur Groq API: Groq API HTTP 403: {\"error\":{\"message\":\"Access denied. Please check your network settings.\"}}",
    "metadata": {
      "logger_name": "core.botlive_rag_hybrid",
      "filename": "botlive_rag_hybrid.py",
      "lineno": 657,
      "funcName": "_call_groq"
    }
  },
  {
    "timestamp": "2025-11-06T14:32:02.814691",
    "level": "ERROR",
    "source": "logger.core.botlive_rag_hybrid",
    "message": "2025-11-06 14:32:02,814 - core.botlive_rag_hybrid - ERROR - ‚ùå Erreur Groq API: Groq API HTTP 403: {\"error\":{\"message\":\"Access denied. Please check your network settings.\"}}",
    "metadata": {
      "logger_name": "core.botlive_rag_hybrid",
      "filename": "botlive_rag_hybrid.py",
      "lineno": 657,
      "funcName": "_call_groq"
    }
  },
  {
    "timestamp": "2025-11-06T14:32:02.820697",
    "level": "ERROR",
    "source": "logger.core.botlive_rag_hybrid",
    "message": "2025-11-06 14:32:02,814 - core.botlive_rag_hybrid - ERROR - ‚ùå Erreur traitement requ√™te test_delivery_001: Groq API HTTP 403: {\"error\":{\"message\":\"Access denied. Please check your network settings.\"}}",
    "metadata": {
      "logger_name": "core.botlive_rag_hybrid",
      "filename": "botlive_rag_hybrid.py",
      "lineno": 536,
      "funcName": "process_request"
    }
  },
  {
    "timestamp": "2025-11-06T14:32:02.820739",
    "level": "ERROR",
    "source": "logger.core.botlive_rag_hybrid",
    "message": "2025-11-06 14:32:02,814 - core.botlive_rag_hybrid - ERROR - ‚ùå Erreur traitement requ√™te test_delivery_001: Groq API HTTP 403: {\"error\":{\"message\":\"Access denied. Please check your network settings.\"}}",
    "metadata": {
      "logger_name": "core.botlive_rag_hybrid",
      "filename": "botlive_rag_hybrid.py",
      "lineno": 536,
      "funcName": "process_request"
    }
  },
  {
    "timestamp": "2025-11-06T14:32:02.825336",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.825362",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.826730",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.826751",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.909283",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.909303",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.912589",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mCombien coute la livraison a Cocody ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.912619",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mCombien coute la livraison a Cocody ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.917815",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.917840",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.919355",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mD√©sol√©, erreur technique. R√©essayez s'il vous pla√Æt.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.919428",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mD√©sol√©, erreur technique. R√©essayez s'il vous pla√Æt.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.922359",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:02.922383",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.003608",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 0 | Completion: 0 | TOTAL: 0\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.003629",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 0 | Completion: 0 | TOTAL: 0\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.006906",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000000 ($0.000000 input + $0.000000 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.006931",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000000 ($0.000000 input + $0.000000 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.008306",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000000\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.008324",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000000\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.012106",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: error\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.012131",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: error\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.014212",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.014234",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.074885",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 10336.43ms (10.336s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.074923",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 10336.43ms (10.336s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.078442",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.078562",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.088570",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.088589",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.089924",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:03.089948",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.444157",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.444171",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.510802",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.510833",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.514068",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.514092",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.516867",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Cocody', 'frais_livraison': '1500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.516945",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Cocody', 'frais_livraison': '1500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.537385",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.537403",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.539081",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.539107",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.619950",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': \"D√©sol√©, erreur technique. R√©essayez s'il vous pla√Æt.\", 'llm_used': 'error', 'routing_reason': 'Erreur: Groq API HTTP 403: {\"error\":{\"message\":\"Access denied. Please check your network se",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.619977",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': \"D√©sol√©, erreur technique. R√©essayez s'il vous pla√Æt.\", 'llm_used': 'error', 'routing_reason': 'Erreur: Groq API HTTP 403: {\"error\":{\"message\":\"Access denied. Please check your network se",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.623307",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.623449",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.626037",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:04.626055",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:06.653766",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Redis connect√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:06.653780",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Redis connect√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:06.655546",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Initialis√© (buffer=5, user=None)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:06.655564",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [ENHANCED_MEMORY] Initialis√© (buffer=5, user=None)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:06.734457",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:32:06,734 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:32:06.734484",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:32:06,734 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:32:06.735783",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:32:06,734 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:32:06.735825",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:32:06,734 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:32:06.738968",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:32:06][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:32:06.738992",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:32:06][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.504334",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.504355",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.520166",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:33:52,520 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=8cb95dc3 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_002 question='Vous livrez a Yopougon ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:33:52.520206",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:33:52,520 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=8cb95dc3 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_002 question='Vous livrez a Yopougon ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:33:52.598240",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:33:52,520 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=8cb95dc3 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_002 question='Vous livrez a Yopougon ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:33:52.598278",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:33:52,520 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=8cb95dc3 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_002 question='Vous livrez a Yopougon ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:33:52.601486",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.601510",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.604196",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Vous livrez a Yopougon ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.604264",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Vous livrez a Yopougon ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.606493",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.606510",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.607942",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_002",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.607963",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_002",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.703395",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=5)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.703417",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=5)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.704816",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.704838",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.706187",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_002",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.706208",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_002",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.707469",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:52.707489",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:54.129641",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:54.129665",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:54.200843",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:54.200869",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:54.204225",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:54.204244",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.331233",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.331246",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.333052",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.333070",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.334571",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.334597",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.403329",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.403361",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.407754",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.407769",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.409860",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.409899",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.411170",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.411192",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.415625",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.415644",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.499055",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_002",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.499075",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_002",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.500212",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Vous livrez a Yopougon ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.500226",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Vous livrez a Yopougon ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.501702",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.501742",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.502960",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.502980",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.505014",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.505037",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.590366",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.590404",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.593614",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.593638",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.594714",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.594733",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.596388",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.596414",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.597615",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.597652",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.657862",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.657879",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.661134",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_002",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.661151",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_002",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.662594",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.662620",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.664029",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Vous livrez a Yopougon ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.664052",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Vous livrez a Yopougon ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.665253",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.665275",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.737363",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.737384",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.741926",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.741941",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.743603",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.743731",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.746278",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.746302",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.748423",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.748445",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.816271",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.816287",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.820576",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.820595",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.823673",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (727 caract√®res, ~181 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.823736",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (727 caract√®res, ~181 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.826480",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.826533",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.829800",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Vous livrez a Yopougon ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.829819",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Vous livrez a Yopougon ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.908617",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:55.908638",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.374043",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.374057",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.375672",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.375695",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.824812",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] Prompt r√©cup√©r√©: 4505 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.824831",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] Prompt r√©cup√©r√©: 4505 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.826388",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] D√©but du prompt: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.826412",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG SUPABASE] D√©but du prompt: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.958356",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5164 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.958378",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5164 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.960015",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5164 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.960033",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5164 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.968491",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.968520",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.970440",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5164 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.970463",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5164 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.972026",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:57.972048",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:58.056762",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Yopougon\nüí∞ FRAIS EXACTS: 1 500 FCFA\nüìç CAT√âGORIE: centrale\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h33. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (1 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Yopougon\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nVous livrez a Yopougon ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:58.056830",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Yopougon\nüí∞ FRAIS EXACTS: 1 500 FCFA\nüìç CAT√âGORIE: centrale\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h33. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (1 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Yopougon\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nVous livrez a Yopougon ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:58.060678",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:33:58.060699",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.588832",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.588850",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.589612",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.589623",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.589845",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.589854",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.656230",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mVous livrez a Yopougon ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.656261",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mVous livrez a Yopougon ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.656585",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.656607",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.656869",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe message client commence par une question sur la livraison √† Yopougon. La section \"INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\" fournit les informations exactes sur la zone, les frais exacts, l'heure actuelle et le d√©lai de livraison. Je vais utiliser ces informations pour r√©pondre directement √† la question du client sans demander de clarification suppl√©mentaire.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.656882",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe message client commence par une question sur la livraison √† Yopougon. La section \"INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\" fournit les informations exactes sur la zone, les frais exacts, l'heure actuelle et le d√©lai de livraison. Je vais utiliser ces informations pour r√©pondre directement √† la question du client sans demander de clarification suppl√©mentaire.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.661009",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.661031",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.662627",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Yopougon co√ªte 1 500 FCFA. Comme il est 13h33, la livraison sera pr√©vue demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.662652",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Yopougon co√ªte 1 500 FCFA. Comme il est 13h33, la livraison sera pr√©vue demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.745339",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.745366",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.746729",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1748 | Completion: 151 | TOTAL: 1899\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.746755",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1748 | Completion: 151 | TOTAL: 1899\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.749384",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000018 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.749463",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000018 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.751693",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (330 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.751715",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (330 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.753133",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.753155",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.853321",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.853339",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.858278",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.858297",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.862263",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.862288",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.864096",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1553.43ms | 330 tokens | 0.0111 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.864121",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1553.43ms | 330 tokens | 0.0111 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.865337",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 690.39ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.865360",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 690.39ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.975580",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 3509.01ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.975599",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 3509.01ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.980313",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 4.90ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.980338",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 4.90ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.986196",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.986223",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.988163",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 5769.07ms (5.769s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.988188",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 5769.07ms (5.769s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.991882",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:01.991905",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:02.107850",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:02.107877",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:02.115572",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:02.115595",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.439365",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.439386",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.441025",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.441042",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.442381",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.442406",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.530962",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Yopougon', 'frais_livraison': '1500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.531291",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Yopougon', 'frais_livraison': '1500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.534648",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.534672",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.535995",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.536011",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.537222",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Yopougon co√ªte 1 500 FCFA. Comme il est 13h33, la livraison sera pr√©vue demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La question",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.537245",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Yopougon co√ªte 1 500 FCFA. Comme il est 13h33, la livraison sera pr√©vue demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La question",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.542105",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.542122",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.636095",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.636116",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.639259",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:34:03,639 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:34:03.639301",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:34:03,639 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:34:03.639536",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:34:03,639 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:34:03.639565",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:34:03,639 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:34:03.640857",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:34:03][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:34:03.640882",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:34:03][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.070165",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.070189",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.176317",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:37:34,176 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=b1d8b9ca company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_003 question='C est combien pour livrer a Bingerville ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:37:34.176342",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:37:34,176 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=b1d8b9ca company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_003 question='C est combien pour livrer a Bingerville ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:37:34.176548",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:37:34,176 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=b1d8b9ca company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_003 question='C est combien pour livrer a Bingerville ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:37:34.176589",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:37:34,176 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=b1d8b9ca company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_003 question='C est combien pour livrer a Bingerville ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:37:34.177597",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.177620",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.177834",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'C est combien pour livrer a Bingerville ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.177847",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'C est combien pour livrer a Bingerville ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.178042",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.178053",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.274018",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_003",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.274041",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_003",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.277321",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=8)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.277348",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=8)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.278873",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.278899",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.280355",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_003",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.280378",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_003",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.281786",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:34.281818",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:35.978708",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:35.978731",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:35.980411",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:35.980434",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:35.982265",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:35.982293",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.566394",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.566413",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.569200",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.569223",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.721299",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.721325",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.722755",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.722774",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.725800",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.725819",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.730858",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.730889",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.733697",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.733720",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.865817",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.865841",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.868694",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_003",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.868723",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_003",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.872383",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: C est combien pour livrer a Bingerville ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.872412",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: C est combien pour livrer a Bingerville ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.874097",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.874125",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.878127",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.878152",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.999687",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:37.999711",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.001243",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.001265",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.002694",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.002711",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.004725",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.004750",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.011870",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.011894",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.133463",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.133490",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.135150",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.135172",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.136456",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_003",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.136477",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_003",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.137961",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.137984",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.139441",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: C est combien pour livrer a Bingerville ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.139464",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: C est combien pour livrer a Bingerville ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.258436",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.258460",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.263087",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.263109",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.268660",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.268684",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.270035",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.270058",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.273004",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.273029",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.383326",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.383348",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.384947",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.384969",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.388318",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.388351",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.392836",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (744 caract√®res, ~186 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.392858",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (744 caract√®res, ~186 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.395678",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.395738",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.491270",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"C est combien pour livrer a Bingerville ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.491291",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"C est combien pour livrer a Bingerville ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.494491",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:38.494529",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.119651",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.119675",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.129443",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.129505",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.133827",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5191 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.133852",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5191 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.269708",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5191 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.269733",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5191 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.277983",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.278007",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.279991",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5191 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.280020",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5191 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.281516",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.281596",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.285084",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Bingerville\nüí∞ FRAIS EXACTS: 2 500 FCFA\nüìç CAT√âGORIE: peripherique\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h37. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (2 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Bingerville\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nC est combien pour livrer a Bingerville ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.285142",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Bingerville\nüí∞ FRAIS EXACTS: 2 500 FCFA\nüìç CAT√âGORIE: peripherique\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h37. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (2 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Bingerville\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nC est combien pour livrer a Bingerville ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.398783",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:40.398807",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.457085",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.457103",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.466084",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.466330",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.470023",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.470066",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.472278",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mC est combien pour livrer a Bingerville ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.472294",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mC est combien pour livrer a Bingerville ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.559200",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.559237",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.562689",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe client demande \"C est combien pour livrer a Bingerville ?\". La section \"INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\" fournit les informations n√©cessaires pour r√©pondre √† cette question. Selon cette section, la zone est \"Bingerville\", les frais exacts sont de 2 500 FCFA, et l'heure actuelle est 13h37, ce qui signifie que la livraison est pr√©vue pour demain.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.562714",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe client demande \"C est combien pour livrer a Bingerville ?\". La section \"INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\" fournit les informations n√©cessaires pour r√©pondre √† cette question. Selon cette section, la zone est \"Bingerville\", les frais exacts sont de 2 500 FCFA, et l'heure actuelle est 13h37, ce qui signifie que la livraison est pr√©vue pour demain.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.568790",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.568839",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.570752",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Bingerville co√ªte 2 500 FCFA. Comme il est 13h37, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.570814",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Bingerville co√ªte 2 500 FCFA. Comme il est 13h37, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.580304",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.580327",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.666514",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1748 | Completion: 163 | TOTAL: 1911\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.666559",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1748 | Completion: 163 | TOTAL: 1911\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.669835",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000020 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.669856",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000020 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.671389",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (321 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.671434",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (321 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.675406",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.675422",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.676506",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.676520",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.775977",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.776003",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.777625",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.777647",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.784524",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1728.62ms | 321 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.784556",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1728.62ms | 321 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.786610",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 281.97ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.786633",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 281.97ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.788460",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2055.09ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.788484",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2055.09ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.878028",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 0.88ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.878070",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 0.88ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.881420",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.881449",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.884176",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 4070.78ms (4.071s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.884320",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 4070.78ms (4.071s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.888675",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.888817",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.893519",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.893564",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.999510",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:42.999545",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.276997",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.277012",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.287896",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.287915",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.292482",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.292500",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.294083",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Bingerville', 'frais_livraison': '3000'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.294109",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Bingerville', 'frais_livraison': '3000'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.374464",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.374529",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.377708",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.377735",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.379185",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Bingerville co√ªte 2 500 FCFA. Comme il est 13h37, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.379209",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Bingerville co√ªte 2 500 FCFA. Comme il est 13h37, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.383553",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.383577",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.385159",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.385185",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.479537",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:37:44,479 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:37:44.479564",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:37:44,479 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:37:44.479924",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:37:44,479 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:37:44.479969",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:37:44,479 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:37:44.482494",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:37:44][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:37:44.482522",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:37:44][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.551119",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.551144",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.551403",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:57:50,551 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=6687dd1d company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_004 question='Vous livrez a Port-Bouet ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:57:50.551444",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:57:50,551 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=6687dd1d company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_004 question='Vous livrez a Port-Bouet ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:57:50.680197",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:57:50,551 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=6687dd1d company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_004 question='Vous livrez a Port-Bouet ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:57:50.680232",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:57:50,551 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=6687dd1d company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_004 question='Vous livrez a Port-Bouet ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:57:50.680625",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.680642",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.680787",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Vous livrez a Port-Bouet ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.680799",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Vous livrez a Port-Bouet ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.680920",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.680930",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.684119",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_004",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.684143",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_004",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.804332",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=5)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.804351",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=5)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.805665",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.805688",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.807147",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_004",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.807172",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_004",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.809278",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:50.809302",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:52.678787",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:52.678813",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:52.838504",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:52.838525",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:52.848479",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:52.848541",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.541109",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.541134",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.548680",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.548704",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.550342",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.550360",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.714700",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.714732",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.720425",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.720450",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.723137",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.723160",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.724687",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.724710",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.727354",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.727379",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.940451",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_004",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.940475",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_004",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.944821",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Vous livrez a Port-Bouet ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.944849",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Vous livrez a Port-Bouet ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.950852",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.950873",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.954059",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.954091",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.957580",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:54.957616",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.113541",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.113566",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.115045",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.115068",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.116616",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.116644",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.118221",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.118286",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.119778",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.119803",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.245252",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.245273",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.248572",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_004",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.248595",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_004",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.250052",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.250074",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.251339",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Vous livrez a Port-Bouet ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.251360",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Vous livrez a Port-Bouet ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.252776",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.252799",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.370986",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.371008",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.376647",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.376676",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.378758",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.378866",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.381041",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.381066",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.383557",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.383617",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.514699",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.514721",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.519130",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.519152",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.521508",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (729 caract√®res, ~182 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.521532",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (729 caract√®res, ~182 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.524293",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.524316",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.530713",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Vous livrez a Port-Bouet ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.530756",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Vous livrez a Port-Bouet ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.640569",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:55.640596",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.291894",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.291921",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.293670",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.293698",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.296242",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5174 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.296268",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5174 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.297809",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5174 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.297831",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5174 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.449829",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.449853",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.460320",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5174 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.460359",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5174 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.468041",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.468160",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.481037",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Port-Bou√´t\nüí∞ FRAIS EXACTS: 2 000 FCFA\nüìç CAT√âGORIE: peripherique\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h57. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (2 000 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Port-Bou√´t\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nVous livrez a Port-Bouet ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.481059",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Port-Bou√´t\nüí∞ FRAIS EXACTS: 2 000 FCFA\nüìç CAT√âGORIE: peripherique\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h57. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (2 000 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Port-Bou√´t\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nVous livrez a Port-Bouet ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.499140",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:57.499161",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.854571",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.854586",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.856589",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.856615",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.859356",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.859388",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.860468",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mVous livrez a Port-Bouet ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.860483",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mVous livrez a Port-Bouet ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.862826",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.862888",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.932692",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe message client commence par une question sur la livraison √† Port-Bou√´t. La section \"INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\" fournit les informations n√©cessaires pour r√©pondre √† cette question. Il est indiqu√© que la zone est Port-Bou√´t, les frais exacts sont de 2 000 FCFA, et la livraison est pr√©vue demain √©tant donn√© l'heure actuelle (13h57).\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.932725",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe message client commence par une question sur la livraison √† Port-Bou√´t. La section \"INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\" fournit les informations n√©cessaires pour r√©pondre √† cette question. Il est indiqu√© que la zone est Port-Bou√´t, les frais exacts sont de 2 000 FCFA, et la livraison est pr√©vue demain √©tant donn√© l'heure actuelle (13h57).\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.938185",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.938203",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.939373",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Port-Bou√´t co√ªte 2 000 FCFA. Comme il est 13h57, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.939396",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Port-Bou√´t co√ªte 2 000 FCFA. Comme il est 13h57, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.947900",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.947925",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.950889",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1751 | Completion: 165 | TOTAL: 1916\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:57:59.950908",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1751 | Completion: 165 | TOTAL: 1916\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.041538",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000020 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.041570",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000020 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.043907",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (322 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.043935",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (322 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.045211",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.045234",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.046455",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.046479",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.048913",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.048962",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.161393",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.161420",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.162791",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1771.81ms | 322 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.162813",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1771.81ms | 322 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.164128",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 353.94ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.164144",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 353.94ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.165344",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2199.88ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.165367",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2199.88ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.166627",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 1.22ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.166649",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 1.22ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.305625",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.305658",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.310317",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 4336.49ms (4.336s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.311528",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 4336.49ms (4.336s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.313207",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.313230",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.315854",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.315902",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.317395",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:00.317416",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.854056",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.854074",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.855836",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.855856",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.857314",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.857336",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.860541",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Port-Bou√´t', 'frais_livraison': '2500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.860569",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Port-Bou√´t', 'frais_livraison': '2500'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.862835",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:01.862855",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.009961",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.009982",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.013667",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Port-Bou√´t co√ªte 2 000 FCFA. Comme il est 13h57, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La q",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.013694",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Port-Bou√´t co√ªte 2 000 FCFA. Comme il est 13h57, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La q",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.016376",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.016402",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.017941",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.017963",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.021486",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:02,021 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:02.021533",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:02,021 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:02.170208",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:02,021 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:02.170253",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:02,021 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:02.171263",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:58:02][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:02.171286",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:58:02][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.535153",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.535173",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.535893",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:03,535 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=ffc28c5e company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_005 question='C est combien pour Grand-Bassam ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:03.535933",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:03,535 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=ffc28c5e company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_005 question='C est combien pour Grand-Bassam ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:03.537372",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:03,535 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=ffc28c5e company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_005 question='C est combien pour Grand-Bassam ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:03.537422",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:03,535 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=ffc28c5e company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_005 question='C est combien pour Grand-Bassam ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:03.646782",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.646798",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.648363",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'C est combien pour Grand-Bassam ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.648385",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'C est combien pour Grand-Bassam ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.649824",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.649925",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.651700",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_005",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.651723",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_005",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.655294",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=6)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.655313",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=6)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.750559",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.750592",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.754992",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_005",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.755019",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_005",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.757305",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:03.757400",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:04.988647",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:04.988662",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:04.990528",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:04.990554",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:05.103495",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:05.103518",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.264587",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.264601",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.266287",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.266303",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.267730",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.267747",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.269674",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.269697",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.376631",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.376652",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.380743",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.380765",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.383588",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.383609",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.387187",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.387210",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.391796",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_005",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.391821",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_005",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.519190",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: C est combien pour Grand-Bassam ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.519214",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: C est combien pour Grand-Bassam ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.522886",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.522915",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.524663",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.524709",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.529162",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.529183",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.530415",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.530436",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.603812",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.603830",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.607160",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.607178",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.608626",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.608675",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.612391",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.612408",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.613603",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.613626",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.718955",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_005",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.718972",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_005",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.722407",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.722427",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.724006",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: C est combien pour Grand-Bassam ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.724080",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: C est combien pour Grand-Bassam ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.727745",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.728713",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.730480",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.730512",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.809083",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.809122",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.812504",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.812526",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.815687",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.815818",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.820950",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.820985",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.822343",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.822361",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.915579",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.915599",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.920404",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (736 caract√®res, ~184 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.920428",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (736 caract√®res, ~184 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.924668",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.924695",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.927801",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"C est combien pour Grand-Bassam ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.927821",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"C est combien pour Grand-Bassam ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.934771",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:06.934808",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.324048",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.324065",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.325719",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.325743",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.328594",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5185 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.328680",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5185 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.330004",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5185 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.330027",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5185 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.331432",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.331451",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.415010",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5185 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.415052",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5185 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.418366",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.418385",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.422224",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Grand-Bassam\nüí∞ FRAIS EXACTS: 2 500 FCFA\nüìç CAT√âGORIE: peripherique\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h58. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (2 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Grand-Bassam\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nC est combien pour Grand-Bassam ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.422297",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Grand-Bassam\nüí∞ FRAIS EXACTS: 2 500 FCFA\nüìç CAT√âGORIE: peripherique\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h58. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (2 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Grand-Bassam\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nC est combien pour Grand-Bassam ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.426052",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:08.426066",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.191676",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.191694",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.286572",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.286600",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.291156",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.291179",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.293799",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mC est combien pour Grand-Bassam ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.293860",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mC est combien pour Grand-Bassam ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.297358",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.297377",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.298692",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe client demande \"C est combien pour Grand-Bassam ?\". Cette question concerne les frais de livraison. Selon la section \"INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\", la zone est \"Grand-Bassam\", les frais exacts sont de 2 500 FCFA, et la livraison est pr√©vue demain √©tant donn√© l'heure actuelle (13h58). Je vais r√©pondre directement avec ces informations.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.298714",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe client demande \"C est combien pour Grand-Bassam ?\". Cette question concerne les frais de livraison. Selon la section \"INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\", la zone est \"Grand-Bassam\", les frais exacts sont de 2 500 FCFA, et la livraison est pr√©vue demain √©tant donn√© l'heure actuelle (13h58). Je vais r√©pondre directement avec ces informations.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.396052",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.396078",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.397887",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Grand-Bassam co√ªte 2 500 FCFA. Comme il est 13h58, la livraison sera pr√©vue demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.397968",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Grand-Bassam co√ªte 2 500 FCFA. Comme il est 13h58, la livraison sera pr√©vue demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.403626",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.403714",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.405179",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1750 | Completion: 164 | TOTAL: 1914\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.405204",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1750 | Completion: 164 | TOTAL: 1914\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.406887",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000020 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.406930",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000020 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.480275",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (321 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.480294",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (321 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.481593",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.481619",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.485428",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.485468",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.497573",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.497601",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.499651",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.499672",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.573326",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1408.00ms | 321 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.573345",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1408.00ms | 321 tokens | 0.0108 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.576777",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 104.82ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.576802",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 104.82ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.578535",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 1762.23ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.578553",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 1762.23ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.582390",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 0.90ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.582411",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 0.90ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.583616",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.583631",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.666400",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 3278.06ms (3.278s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.666424",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 3278.06ms (3.278s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.669928",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.669946",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.674931",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.674983",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.676395",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:10.676412",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.762480",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.762493",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.845829",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.845855",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.849241",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.849265",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.850744",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Grand-Bassam', 'frais_livraison': '5000'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.850767",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Grand-Bassam', 'frais_livraison': '5000'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.855799",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.855819",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.857254",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.857275",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.942220",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Grand-Bassam co√ªte 2 500 FCFA. Comme il est 13h58, la livraison sera pr√©vue demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La ques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.942242",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Grand-Bassam co√ªte 2 500 FCFA. Comme il est 13h58, la livraison sera pr√©vue demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La ques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.947138",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.947157",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.948683",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.948731",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:11.953258",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:11,953 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:11.953280",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:11,953 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:11.953512",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:11,953 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:11.953540",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:11,953 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:12.066803",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:58:12][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.066828",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:58:12][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.673539",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.673560",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.674164",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:12,674 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=663c820c company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_006 question='slt c combien livrer a marcory'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:12.674204",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:12,674 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=663c820c company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_006 question='slt c combien livrer a marcory'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:12.676685",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:12,674 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=663c820c company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_006 question='slt c combien livrer a marcory'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:12.676727",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:12,674 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=663c820c company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_006 question='slt c combien livrer a marcory'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:12.677124",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.677145",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.791608",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'slt c combien livrer a marcory'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.791635",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'slt c combien livrer a marcory'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.794822",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.794842",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.796221",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_006",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.796247",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_006",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.802487",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=6)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.802528",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=6)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.813466",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.813490",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.910985",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_006",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.911010",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_006",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.914336",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:12.914359",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:14.163821",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:14.163835",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:14.165498",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:14.165533",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:14.166941",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:14.166965",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.434070",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.434084",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.435738",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.435775",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.437116",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.437133",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.438493",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.438540",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.441133",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.441192",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.528295",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.528348",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.531762",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.531786",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.535308",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.535401",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.537664",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_006",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.537688",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_006",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.539474",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: slt c combien livrer a marcory",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.539499",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: slt c combien livrer a marcory",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.629173",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.629196",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.632649",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.632669",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.636916",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.637006",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.638949",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.638976",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.640638",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.640660",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.742466",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.742483",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.745789",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.745814",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.747486",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.747516",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.751265",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.751281",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.752390",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_006",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.752413",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_006",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.856191",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.856251",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.857639",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: slt c combien livrer a marcory",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.857661",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: slt c combien livrer a marcory",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.861623",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.861647",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.863845",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.863867",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.865912",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.865950",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:15.998109",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.003732",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.021104",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.021219",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.026719",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.026747",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.028607",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.028630",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.033391",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.033417",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.172828",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (733 caract√®res, ~183 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.172851",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (733 caract√®res, ~183 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.177231",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.177255",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.181683",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"slt c combien livrer a marcory\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.181701",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"slt c combien livrer a marcory\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.183827",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:16.183863",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.759923",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.759941",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.841170",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.841191",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.845518",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5168 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.845542",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 5168 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.848048",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5168 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.848163",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 5168 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.850171",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.850192",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.856109",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5168 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.856168",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 5168 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.943201",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.943222",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.948521",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Marcory\nüí∞ FRAIS EXACTS: 1 500 FCFA\nüìç CAT√âGORIE: centrale\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h58. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (1 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Marcory\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nslt c combien livrer a marcory\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.948540",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n‚ö†Ô∏è INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nüöö ZONE: Marcory\nüí∞ FRAIS EXACTS: 1 500 FCFA\nüìç CAT√âGORIE: centrale\n‚è∞ D√âLAIS: D√©lais standard\n\n‚è∞ HEURE CI: Il est 13h58. Livraison pr√©vue demain.\n\n‚ö†Ô∏è R√àGLE ABSOLUE:\n- UTILISE CES FRAIS EXACTS (1 500 FCFA)\n- NE CHERCHE PAS dans les autres documents\n- NE DEMANDE PAS de clarification sur la zone\n- La zone \"Marcory\" est CONFIRM√âE\n- CALCULE le d√©lai de livraison bas√© sur l'heure actuelle ci-dessus\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n\nslt c combien livrer a marcory\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.953170",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:17.953465",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.743831",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.743847",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.745766",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.745831",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.825113",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.825131",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.828499",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mslt c combien livrer a marcory\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.828525",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mslt c combien livrer a marcory\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.833806",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.833831",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.838171",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe client demande \"slt c combien livrer a marcory\". Cette question concerne la livraison. Je vais consulter la section \"INFORMATION PRIORITAIRE\" pour obtenir les informations n√©cessaires. La section \"INFORMATION PRIORITAIRE\" indique que la zone est \"Marcory\", les frais exacts sont de 1 500 FCFA, et le d√©lai de livraison est standard avec une heure actuelle de 13h58, ce qui signifie que la livraison est pr√©vue pour demain.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.838309",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe client demande \"slt c combien livrer a marcory\". Cette question concerne la livraison. Je vais consulter la section \"INFORMATION PRIORITAIRE\" pour obtenir les informations n√©cessaires. La section \"INFORMATION PRIORITAIRE\" indique que la zone est \"Marcory\", les frais exacts sont de 1 500 FCFA, et le d√©lai de livraison est standard avec une heure actuelle de 13h58, ce qui signifie que la livraison est pr√©vue pour demain.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.841738",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.841760",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.963688",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Marcory co√ªte 1 500 FCFA. Comme il est 13h58, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.963712",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mLa livraison √† Marcory co√ªte 1 500 FCFA. Comme il est 13h58, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.972216",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.972261",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.973686",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1745 | Completion: 170 | TOTAL: 1915\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.973707",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1745 | Completion: 170 | TOTAL: 1915\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.975454",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000020 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.975503",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000140 input + $0.000020 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.980261",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (317 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:19.980291",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000018 (317 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.078893",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.078926",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000318\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.082146",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.082172",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.088194",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.088218",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.090045",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.090069",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.091511",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1726.50ms | 317 tokens | 0.0106 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.091534",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1726.50ms | 317 tokens | 0.0106 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.244930",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 195.52ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.244957",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 195.52ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.248366",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 1766.09ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.248389",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 1766.09ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.250009",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 1.33ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.250048",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 1.33ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.254112",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.254137",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.255642",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 3711.27ms (3.711s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.255669",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 3711.27ms (3.711s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.364681",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.364704",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.372453",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.372532",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.374476",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:20.374499",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.578617",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.578634",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.580304",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.580323",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.664951",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.664973",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.669558",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Marcory', 'frais_livraison': '2000'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.669582",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Infos extraites: {'zone': 'Marcory', 'frais_livraison': '2000'}",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.672905",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.672977",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [CONTEXT] Contexte sauvegard√© dans notepad",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.674435",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.674457",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.675742",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Marcory co√ªte 1 500 FCFA. Comme il est 13h58, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La ques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.675781",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': 'La livraison √† Marcory co√ªte 1 500 FCFA. Comme il est 13h58, la livraison sera pr√©vue pour demain. Voulez-vous passer commande ? üòä', 'llm_used': 'deepseek-v3', 'routing_reason': 'La ques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.787892",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.787917",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.789462",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.789484",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.794778",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:21,794 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:21.794804",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:21,794 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:21.795036",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:21,794 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:21.795071",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:21,794 - app - INFO - [TRACE][[CACHE BYPASS]] √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:21.796092",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:58:21][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:21.796114",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][14:58:21][INFO] [CACHE BYPASS]: √âcriture cache ignor√©e (mode Botlive)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.455785",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.455804",
    "level": "INFO",
    "source": "stdout",
    "message": "==== REQU√äTE CHAT RE√áUE ====",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.456287",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:22,456 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=a0e83f93 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_007 question='Vous livrez a Paris ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:22.456323",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:22,456 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=a0e83f93 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_007 question='Vous livrez a Paris ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:22.460951",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:22,456 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=a0e83f93 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_007 question='Vous livrez a Paris ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:22.461001",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 14:58:22,456 - app - INFO - [CHAT] ‚û°Ô∏è Re√ßu | request_id=a0e83f93 company_id=W27PwOPiblP8TlOrhPcjOtxd0cza user_id=test_delivery_007 question='Vous livrez a Paris ?'",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 1327,
      "funcName": "chat_endpoint"
    }
  },
  {
    "timestamp": "2025-11-06T14:58:22.461666",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.461688",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCEPTION REQU√äTE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.464263",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Vous livrez a Paris ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.464281",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message: 'Vous livrez a Paris ?'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.610192",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.610224",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Company: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.613591",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_007",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.613617",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] User: test_delivery_007",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.621056",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=5)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.621112",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [HYDE] Skipp√© (botlive, mots=5)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.623064",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.623166",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö° [PARALLEL] Lancement HYDE + Prompt version...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.626281",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_007",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.626318",
    "level": "INFO",
    "source": "stdout",
    "message": "[API] Requ√™te: W27PwOPi... | test_delivery_007",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.732186",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:22.732206",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√âCUP√âRATION HISTORIQUE AUTOMATIQUE:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:23.924805",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:23.924824",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Historique r√©cup√©r√©: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:23.926278",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:23.926316",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Contient Cocody: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:23.927754",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:23.927778",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE MESSAGE UTILISATEUR:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.057571",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.057584",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: user",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.150871",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.150893",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] Message utilisateur sauvegard√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.155495",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.155521",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] TRANSMISSION AU RAG:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.157111",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.157140",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] conversation_history transmis: '...'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.162449",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.162469",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.168305",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.168339",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [BOTLIVE] ENTR√âE SYST√àME HYBRIDE",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.290065",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.290182",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.294896",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.294921",
    "level": "INFO",
    "source": "stdout",
    "message": "Company ID: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.298069",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_007",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.298266",
    "level": "INFO",
    "source": "stdout",
    "message": "User ID: test_delivery_007",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.300655",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Vous livrez a Paris ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.300680",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: Vous livrez a Paris ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.302557",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.302574",
    "level": "INFO",
    "source": "stdout",
    "message": "Images: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.391573",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.391593",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.397096",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.397149",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import botlive_hybrid...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.400819",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.400844",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ botlive_hybrid import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.402518",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.402546",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì¶ Import get_botlive_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.403759",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.403780",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ get_botlive_prompt import√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.496881",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.496898",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üîß Utilisation prompt hardcod√© pour extraction num√©ro",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.500233",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.500260",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üì± Num√©ro entreprise extrait: 225 07 87 36 07 57",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.501615",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.501639",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] üöÄ Appel botlive_hybrid.process_request()...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.505785",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_007",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.505809",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - user_id: test_delivery_007",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.507880",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.507903",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - company_id: W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.619354",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Vous livrez a Paris ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.619463",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - message: Vous livrez a Paris ?",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.622709",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.622735",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE]    - context keys: ['detected_objects', 'filtered_transactions', 'expected_deposit', 'company_phone']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.625709",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.625824",
    "level": "INFO",
    "source": "stdout",
    "message": "========== DEBUG BOTLIVE SUPABASE ==========",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.630201",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.630224",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_URL: https://ilbihprkxcgsigvueeme.supabase.co",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.631500",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.631522",
    "level": "INFO",
    "source": "stdout",
    "message": "SUPABASE_SERVICE_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlsYmlocHJreGNnc2lndnVlZW1lIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTEzMTQwNCwiZXhwIjoyMDY0NzA3NDA0fQ.Zf0EJbmP5ePGBZL5cY1tFP9FDRvJXDZ3x98zUS993GA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.728654",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.728683",
    "level": "INFO",
    "source": "stdout",
    "message": "prompts_manager: <core.botlive_prompts_supabase.BotlivePromptsManager object at 0x000001E38258E7B0>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.733573",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.733596",
    "level": "INFO",
    "source": "stdout",
    "message": "company_id re√ßu: W27PwOPiblP8TlOrhPcjOtxd0cza | self.company_id: None",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.737151",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.737173",
    "level": "INFO",
    "source": "stdout",
    "message": "============================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.739289",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.739310",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.741678",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (724 caract√®res, ~181 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.741703",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1müå∏ PROMPT ROUTEUR HYDE (LLAMA-3.1-8B-INSTANT) (724 caract√®res, ~181 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.827764",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.827793",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.832448",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Vous livrez a Paris ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.832486",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95mTu es un routeur intelligent. Choisis le LLM optimal.\n\nMESSAGE: \"Vous livrez a Paris ?\"\nTRANSACTIONS: NON\nIMAGES: NON\nHISTORIQUE: NON\n\nLLMS:\n- deepseek-v3: √âconomique, rapide, pour cas SIMPLES (salutations, zones, hors domaine)\n- groq-70b: Puissant, co√ªteux, pour cas COMPLEXES (calculs, workflow, transactions)\n\nR√àGLES STRICTES:\n1. Calculs/transactions/paiements ‚Üí groq-70b\n2. Workflow multi-√©tapes (commande) ‚Üí groq-70b\n3. Salutations simples (Bonjour, Salut) ‚Üí deepseek-v3\n4. Questions zones g√©ographiques ‚Üí deepseek-v3\n5. Hors domaine (m√©t√©o, politique) ‚Üí deepseek-v3\n6. Premi√®re question commande ‚Üí groq-70b\n7. Contexte ambigu ‚Üí groq-70b\n\nR√©ponds SEULEMENT:\nCHOIX: [deepseek-v3 OU groq-70b]\nRAISON: [explication courte]\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.839648",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:25.839669",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m====================================================================================================\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.332353",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.332372",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Avant appel format_prompt...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.334233",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.334257",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Appel get_prompt avec company_id=W27PwOPiblP8TlOrhPcjOtxd0cza, llm_choice=deepseek-v3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.462155",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 4464 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.462182",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] Apr√®s appel format_prompt: 4464 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.465499",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 4464 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.465526",
    "level": "INFO",
    "source": "stdout",
    "message": "[DEBUG] ‚úÖ Prompt Supabase valide: 4464 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.467178",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.467232",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.471322",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 4464 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.471343",
    "level": "INFO",
    "source": "stdout",
    "message": "PROMPT (EFFECTIF) ‚Üí deepseek-v3: 4464 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.472666",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.472687",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.618709",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\nVous livrez a Paris ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.618731",
    "level": "INFO",
    "source": "stdout",
    "message": "JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D'OR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N'OB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\n‚ö†Ô∏è D√âTECTION QUESTIONS D'INFORMATION (PRIORIT√â ABSOLUE)\nAVANT de d√©marrer le workflow de commande, v√©rifie si c'est une QUESTION PURE d'information:\n\nüìç QUESTIONS LIVRAISON (r√©pondre directement, NE PAS demander produit):\n- \"Combien co√ªte la livraison √† [zone] ?\"\n- \"Vous livrez √† [zone] ?\"\n- \"Quels sont vos tarifs de livraison ?\"\n- \"C'est combien pour livrer √† [zone] ?\"\n\nüì¶ SI LE MESSAGE CLIENT COMMENCE PAR \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE - FRAIS DE LIVRAISON D√âTECT√âS\":\n1. LIRE les infos exactes dans cette section: ZONE, FRAIS EXACTS, HEURE CI, D√âLAI\n2. R√âPONDRE DIRECTEMENT avec ces infos (NE PAS inventer, NE PAS chercher ailleurs)\n3. FORMAT: \"La livraison √† [zone] co√ªte [montant exact du contexte] FCFA. [D√©lai bas√© sur heure CI]. Voulez-vous passer commande ? üòä\"\n4. NE PAS demander le produit si c'est juste une question d'info\n\nEXEMPLE R√âPONSE DELIVERY:\nMESSAGE: \"‚ïê‚ïê‚ïê INFORMATION PRIORITAIRE \\nüöö ZONE: Cocody \\nüí∞ FRAIS EXACTS: 1 500 FCFA \\n‚è∞ HEURE CI: Il est 12h51. Livraison pr√©vue aujourd'hui.\\n\\nCombien co√ªte la livraison √† Cocody ?\"\n\n<thinking>\nQUESTION: \"Combien co√ªte la livraison √† Cocody ?\"\nINTENTION: info_livraison\nSOURCES: MESSAGE contient section \"INFORMATION PRIORITAIRE\" avec ZONE=Cocody, FRAIS=1 500 FCFA, HEURE=12h51, D√âLAI=aujourd'hui\nACTION: R√©pondre directement avec les infos exactes du contexte delivery\n</thinking>\n<response>\nLa livraison √† Cocody co√ªte 1 500 FCFA. Comme il est 12h51, la livraison sera aujourd'hui. Voulez-vous passer commande ? üòä\n</response>\n\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp: \"+225 0160924560\"\nwave: \"+225 0787360757\"\nacompte_minimum: 2000 FCFA\nsupport_client: \"+225 0787360757\"\n\n\n## CONTEXTE CLIENT\n\n\n## MESSAGE CLIENT\nVous livrez a Paris ?\n\n## üí≥ VALIDATION PAIEMENT OCR (SOURCE UNIQUE POUR LE PAIEMENT)\n0F\n\n## R√àGLES VALIDATION PAIEMENT\n- Acompte requis : 2000 FCFA\n- Si verdict OCR = \"VALID√â\" ‚Üí VALIDE le paiement, passe √† la suite\n- Si verdict OCR = \"INSUFFISANT\" ou \"ABSENT\" ‚Üí REFUSE le paiement, demande un compl√©ment ou une preuve\n\n---\n\n## FORMAT DE R√âPONSE (OBLIGATOIRE)\nCommence TOUJOURS par :\n<thinking>\n- Raisonnement √©tape par √©tape, cite explicitement la section \"üí≥ VALIDATION PAIEMENT OCR\" comme unique source pour la d√©cision paiement.\n- Pour les questions delivery, cite la section \"INFORMATION PRIORITAIRE\" comme source.\n- Ne fais JAMAIS de supposition ni d'estimation, ne r√©utilise PAS d'autres donn√©es.\n</thinking>\n<response>\n- R√©ponse concise au client (2-3 lignes max), assertive, sans question inutile.\n- Si paiement valid√©, remercie et demande la suite (produit, zone, t√©l√©phone).\n- Si paiement insuffisant, explique le montant manquant et demande le compl√©ment.\n- Si question delivery, r√©ponds avec les infos exactes du contexte.\n</response>\n\n---\n\n## EXEMPLES\n\n### Paiement valid√©\nüí≥ VALIDATION PAIEMENT OCR :\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2000 FCFA\n\n<thinking>\nLe verdict OCR indique \"VALID√â\". Je valide le paiement et passe √† la collecte des autres donn√©es.\n</thinking>\n<response>\nPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\n</response>\n\n### Paiement insuffisant\nüí≥ VALIDATION PAIEMENT OCR :\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA, il manque 1798 FCFA.\n\n<thinking>\nLe verdict OCR indique \"INSUFFISANT\". Je refuse le paiement et demande le compl√©ment.\n</thinking>\n<response>\nVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\n</response>\n\n---\n\n## RAPPEL FINAL\n- NE JAMAIS utiliser, supposer ou extrapoler √† partir d'autres donn√©es que \"üí≥ VALIDATION PAIEMENT OCR\" pour la d√©cision paiement.\n- Pour les questions delivery, UTILISER UNIQUEMENT les infos de la section \"INFORMATION PRIORITAIRE\" si pr√©sente.\n- Respecte STRICTEMENT le format <thinking>‚Ä¶</thinking><response>‚Ä¶</response>.\n- Si tu ne respectes pas ces instructions, ta r√©ponse sera rejet√©e.\n\nR√©ponds MAINTENANT.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.623037",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:27.623058",
    "level": "INFO",
    "source": "stdout",
    "message": "====================================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.111188",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.111206",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] ‚úÖ R√©ponse re√ßue du syst√®me hybride",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.113371",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.113389",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.115943",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.115968",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.305191",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mVous livrez a Paris ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.305214",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mVous livrez a Paris ?\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.349479",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.349502",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.383248",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe client demande si nous livrons √† Paris. Cette question est une question de livraison. Je vais v√©rifier si le message contient une section \"INFORMATION PRIORITAIRE\" avec des informations sur la livraison √† Paris. Puisque le message client est simplement \"Vous livrez a Paris ?\", je n'ai pas d'informations suppl√©mentaires sur la zone, les frais exacts, l'heure CI ou le d√©lai. Je vais r√©pondre directement √† la question en disant que nous ne livrons pas √† l'international, mais je devrais demander plus d'informations pour confirmer.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.383290",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe client demande si nous livrons √† Paris. Cette question est une question de livraison. Je vais v√©rifier si le message contient une section \"INFORMATION PRIORITAIRE\" avec des informations sur la livraison √† Paris. Puisque le message client est simplement \"Vous livrez a Paris ?\", je n'ai pas d'informations suppl√©mentaires sur la zone, les frais exacts, l'heure CI ou le d√©lai. Je vais r√©pondre directement √† la question en disant que nous ne livrons pas √† l'international, mais je devrais demander plus d'informations pour confirmer.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.427541",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.427565",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.430375",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mD√©sol√©, nous ne livrons pas √† Paris car cela se trouve √† l'international. Nous livrons uniquement en C√¥te d'Ivoire. Pour plus d'informations sur nos zones de livraison, veuillez nous fournir plus de d√©tails.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.430403",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mD√©sol√©, nous ne livrons pas √† Paris car cela se trouve √† l'international. Nous livrons uniquement en C√¥te d'Ivoire. Pour plus d'informations sur nos zones de livraison, veuillez nous fournir plus de d√©tails.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.788199",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.788223",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1müî¥ TOKENS R√âELS & CO√õTS:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.822977",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1443 | Completion: 202 | TOTAL: 1645\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.823001",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1443 | Completion: 202 | TOTAL: 1645\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.840607",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000115 input + $0.000024 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.840629",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT LLM: $0.000300 ($0.000115 input + $0.000024 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.842151",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000019 (334 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.842173",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT ROUTEUR HYDE (8B): $0.000019 (334 tokens)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.848087",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000319\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.848127",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT TOTAL: $0.000319\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.988513",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.988569",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: deepseek-v3\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.993370",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.993395",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[1m‚è±Ô∏è  TEMPS D'EX√âCUTION:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.996286",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.996363",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îå‚îÄ √âtapes d√©taill√©es:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.998357",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1592.29ms | 334 tokens | 0.0112 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:30.998382",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 1. Routage HYDE (8B): 1592.29ms | 334 tokens | 0.0112 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.002909",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 293.96ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.002934",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 2. G√©n√©ration prompt: 293.96ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.169806",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2483.27ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.169892",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 3. Appel LLM (deepseek-v3): 2483.27ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.173122",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 1.38ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.173144",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îú‚îÄ‚îÄ 4. Ex√©cution outils: 1.38ms\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.174551",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.174594",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[96m‚îî‚îÄ‚îÄ \u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.176026",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 4372.78ms (4.373s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.176047",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[95m\u001b[1m‚è±Ô∏è  TEMPS TOTAL REQU√äTE: 4372.78ms (4.373s)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.177462",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.177480",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.317455",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.317480",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] SAUVEGARDE R√âPONSE ASSISTANT:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.319301",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:31.319395",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CHAT_ENDPOINT] Pas de balise <response>, sauvegarde texte brut",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.569278",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.569296",
    "level": "INFO",
    "source": "stdout",
    "message": "[CONVERSATION] Message sauvegard√©: IA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.571027",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.571058",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [CHAT_ENDPOINT] R√©ponse assistant sauvegard√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.572538",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.572562",
    "level": "INFO",
    "source": "stdout",
    "message": "üß† [CONTEXT] Extraction contexte depuis historique...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.733822",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CONTEXT] Aucune info extraite",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.733887",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [CONTEXT] Aucune info extraite",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.735462",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.735490",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Type de response: <class 'dict'>",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.739537",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': \"D√©sol√©, nous ne livrons pas √† Paris car cela se trouve √† l'international. Nous livrons uniquement en C√¥te d'Ivoire. Pour plus d'informations sur nos zones de livraison, veuillez nous fou",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.739581",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Contenu response: {'response': \"D√©sol√©, nous ne livrons pas √† Paris car cela se trouve √† l'international. Nous livrons uniquement en C√¥te d'Ivoire. Pour plus d'informations sur nos zones de livraison, veuillez nous fou",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.742066",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.742092",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Thinking extrait: 0 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.743604",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T14:58:32.743628",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Validation: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:23.938893",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:23.939088",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:23.939259",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SERVER_LOGGER] Logs serveur activ√©s ‚Üí logs/server/",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:23.939934",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:22:23,939 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:22:23.940197",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:22:23,939 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:22:23.989805",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing core.models...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:24.039365",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing FIX_CONTEXT_LOSS_COMPLETE...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:24.043777",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] FIX_CONTEXT_LOSS_COMPLETE imported",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:24.044001",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing pydantic...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:24.044213",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing universal_rag_engine...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:49.716970",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing prompt_manager...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:49.718775",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing supabase_client...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:49.737232",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing ingestion_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.006625",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing global_embedding_cache...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.007412",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing auth router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.247783",
    "level": "WARNING",
    "source": "logger.routes.auth",
    "message": "2025-11-06 15:22:51,247 - routes.auth - WARNING - Variables d'environnement Google manquantes pour le Service Account. JWT Google d√©sactiv√©.",
    "metadata": {
      "logger_name": "routes.auth",
      "filename": "auth.py",
      "lineno": 32,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:22:51.249434",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing routes...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.251846",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili_ingest_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.286942",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.301664",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing utils...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.438003",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing security_validator...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.440839",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing hallucination_guard...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.446590",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing error_handler...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.451216",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing circuit_breaker...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.457222",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing image_search...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.457502",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Image search router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.458652",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing botlive router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.458982",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Botlive router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.459607",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] All imports completed!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.514926",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:22:51,514 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:22:51.604095",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:22:51,514 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:22:51.652975",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:22:51,652 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:22:51.653359",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:22:51,652 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:22:51.848143",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================\nTOUR 1",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.848640",
    "level": "INFO",
    "source": "stdout",
    "message": "[USER] Voici mon paiement Wave",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.849922",
    "level": "INFO",
    "source": "stdout",
    "message": "[IMAGES] ['https://scontent.xx.fbcdn.net/v/t1.15752-9/553547596_833613639156226_7121847885682360094_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=eb2e90&_nc_ohc=DamxAq1f9OwQ7kNvwFSbPlg&_nc_oc=AdlYZF2Q2WyPz7SoP6HFp7gZCnmgAysN4ZCziXM2nHv8itrZrced2lMSff1szWQ9V-7WRbl3vV_-uJ9l3-Uxq7ha&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=scontent.xx&oh=03_Q7cD3gFO-SvfS03vBW39la32NGTcsXuPEGNsnVA6mSvUHOResw&oe=691D864A']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.850658",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] üîß UTILISATION PROMPTS HARDCOD√âS (MODE TEST)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:51.851427",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Requ√™te Supabase pour company_id=W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:54.055316",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Status: 200",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:54.064774",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Donn√©es re√ßues: 1 ligne(s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:54.195324",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Taille prompt: 2662 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:54.195873",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Contient '‚ïê‚ïê‚ïê 1. ANALYSE': False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:54.197677",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Premiers 200 chars: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:54.198871",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] ‚úÖ Prompt Supabase charg√© (2662 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:54.200028",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] T√©l√©chargement image: https://scontent.xx.fbcdn.net/v/t1.15752-9/553547596_833613639156226_7121847885682360094_n.jpg?_nc_c...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:55.900082",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FETCH] URL finale: https://scontent.xx.fbcdn.net/v/t1.15752-9/553547596_833613639156226_7121847885682360094_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=eb2e90&_nc_ohc=DamxAq1f9OwQ7kNvwFSbPlg&_nc_oc=AdlYZF2Q2WyPz7SoP6HFp7gZCnmgAysN4ZCziXM2nHv8itrZrced2lMSff1szWQ9V-7WRbl3vV_-uJ9l3-Uxq7ha&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=scontent.xx&oh=03_Q7cD3gFO-SvfS03vBW39la32NGTcsXuPEGNsnVA6mSvUHOResw&oe=691D864A",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:55.900319",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FETCH] Content-Type: image/jpeg | Content-Length: 40114",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:55.902594",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] Image t√©l√©charg√©e: C:\\Users\\hp\\AppData\\Local\\Temp\\botlive_zgtexw4a.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:55.920037",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][DEBUG] Copie image sauvegard√©e: /tmp/botlive_debug\\1762438975_botlive_zgtexw4a.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:59.540392",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:22:59,540 - app - INFO - [TRACE][[SUPABASE] Upload] Fichier upload√©: https://ilbihprkxcgsigvueeme.supabase.co/storage/v1/object/public/product-images/botlive/W27PwOPiblP8TlOrhPcjOtxd0cza/2025/11/06/botlive_zgtexw4a.jpg",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T15:22:59.635317",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:22:59,540 - app - INFO - [TRACE][[SUPABASE] Upload] Fichier upload√©: https://ilbihprkxcgsigvueeme.supabase.co/storage/v1/object/public/product-images/botlive/W27PwOPiblP8TlOrhPcjOtxd0cza/2025/11/06/botlive_zgtexw4a.jpg",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T15:22:59.635641",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][15:22:59][INFO] [SUPABASE] Upload: Fichier upload√©: https://ilbihprkxcgsigvueeme.supabase.co/storage/v1/object/public/product-images/botlive/W27PwOPiblP8TlOrhPcjOtxd0cza/2025/11/06/botlive_zgtexw4a.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:22:59.636404",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][SUPABASE] Image stock√©e: https://ilbihprkxcgsigvueeme.supabase.co/storage/v1/object/public/product-images/botlive/W27PwOPiblP8TlOrhPcjOtxd0cza/2025/11/06/botlive_zgtexw4a.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:00.724888",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] Initialisation...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:00.725177",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] Chargement EasyOCR...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:05.890501",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] ‚úÖ EasyOCR charg√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:05.890730",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] Chargement BLIP-2...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:05.897205",
    "level": "ERROR",
    "source": "stderr",
    "message": "Using a slow image processor as `use_fast` is unset and a slow processor was saved with this model. `use_fast=True` will be the default behavior in v4.52, even if the model was saved with a slow processor. This will result in minor differences in outputs. You'll still be able to use a slow processor with `use_fast=False`.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:13.153528",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] ‚úÖ BLIP-2 charg√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:13.153890",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] ‚úÖ Initialisation termin√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:13.265031",
    "level": "INFO",
    "source": "stdout",
    "message": "[BLIP-2] üîç Analyse image: C:\\Users\\hp\\AppData\\Local\\Temp\\botlive_zgtexw4a.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:13.363406",
    "level": "INFO",
    "source": "stdout",
    "message": "[BLIP-2] üì∏ Image charg√©e: (486, 1080)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:18.289114",
    "level": "INFO",
    "source": "stdout",
    "message": "[BLIP-2] üìù Caption brut: 'a text message with the words ` ` ' and ` ' ''",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:18.289438",
    "level": "INFO",
    "source": "stdout",
    "message": "[BLIP-2] ‚úÖ Caption nettoy√©: 'a text message with the words ` ` ' and ` ' ''",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:18.290876",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][OCR] ‚úÖ Num√©ro WAVE normalis√© pour filtrage: 0787360757",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:18.291196",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][OCR]    Format original: +225 0787360757",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.130211",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] üéØ Validation stricte pour num√©ro: 0787360757",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.130452",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] üì± Format original: 0787360757",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.130883",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] ‚úÖ Num√©ro entreprise trouv√© dans l'image",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.133410",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] üéØ Montant transfert d√©tect√©: 202 FCFA (contexte: transfert/vers)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.335260",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] üìã 1 transactions d√©tect√©es",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.335647",
    "level": "INFO",
    "source": "stdout",
    "message": "‚Üí 202F vers 0787360757 le",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.335968",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] ‚úÖ 1 transaction(s) vers num√©ro entreprise",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.336374",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] üéØ Transaction s√©lectionn√©e: 202 FCFA vers 0787360757 (la plus r√©cente)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.340746",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PAYMENT_VALIDATOR] R√©sultat validation:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.341108",
    "level": "INFO",
    "source": "stdout",
    "message": "Valid: False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.341366",
    "level": "INFO",
    "source": "stdout",
    "message": "Total re√ßu: 202 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.341784",
    "level": "INFO",
    "source": "stdout",
    "message": "Paiements: [202]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.343062",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA mais il manque encore 1798 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.344425",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] Analyse (brute): type=unknown, prod=a text message with the words ` ` ' and ` ' ':0.85, ocr_len=241 amts=4",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.516557",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][VISION RAW] raw_text=\n13.29 \n2 ) P P \nall #Ga/ 20 \n8 \n+454 \nLe transfert de \n202.00 FCFA vers \nle 0787360757 est \nun succes. Frais \n0.00 \nFCFA.Solde:3839.0 \n0 FCFA. Reference: \nPP251007.1327.A76 \n780. Orange \nMoney Cl vous \nremercie \n13.28 \nOrange \nMessage \n47 \n2",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.517150",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][VISION RAW] candidate_amounts=[('13.29', ''), ('202.00', 'FCFA'), ('007.132', ''), ('13.28', '')]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.517804",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][VISION RAW] detected_objects=[\"objet:a text message with the words ` ` ' and ` ' '~0.85\", 'montant:13.29', 'montant:202.00 FCFA', 'montant:007.132', 'montant:13.28']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.519059",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] Fichier temporaire supprim√©: C:\\Users\\hp\\AppData\\Local\\Temp\\botlive_zgtexw4a.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.520708",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FILTER] Transactions d√©j√† filtr√©es par OCR: 1",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.532641",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.534423",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][AVANT LLM] DONN√âES VISION DISPONIBLES:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.539211",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_objects = [\"objet:a text message with the words ` ` ' and ` ' '~0.85\", 'montant:13.29', 'montant:202.00 FCFA', 'montant:007.132', 'montant:13.28']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.540352",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_type = unknown",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.542779",
    "level": "INFO",
    "source": "stdout",
    "message": "confidence = 0.0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.743453",
    "level": "INFO",
    "source": "stdout",
    "message": "raw_text = 13.29 \n2 ) P P \nall #Ga/ 20 \n8 \n+454 \nLe transfert de \n202.00 FCFA vers \nle 0787360757 est \nun succe...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.744190",
    "level": "INFO",
    "source": "stdout",
    "message": "filtered_transactions = [{'amount': 202, 'currency': 'FCFA', 'phone': '0787360757', 'date': ''}]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.744598",
    "level": "INFO",
    "source": "stdout",
    "message": "expected_deposit = 2000 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.745079",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.745701",
    "level": "INFO",
    "source": "stdout",
    "message": "üîß [PROMPT MODE] SUPABASE DIRECT",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.746219",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions = [{'amount': 202, 'currency': 'FCFA', 'phone': '0787360757', 'date': ''}]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.748926",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions_str = \n\nüí≥ VALIDATION PAIEMENT:\n‚ùå INSUFFISANT: ‚ùå Paiement insuffisant ! Client a envoy√© 202 FCFA mais il manque encore 1798 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.755832",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä [SUPABASE PROMPT] Format√©: 2743 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.765710",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][PROMPT FORMAT√â] V√©rification injection variables:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.766894",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {detected_objects} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.968248",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {expected_deposit} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.972262",
    "level": "INFO",
    "source": "stdout",
    "message": "üìÑ [PROMPT EXTRAIT] (500 premiers chars):\nJESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N‚ÄôOB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp:...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:34.992991",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [HEALTH] Test Groq...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:36.520480",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [HEALTH] Groq OK (1.5s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:36.520743",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [SMART] Groq valid√© - requ√™te r√©elle...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.372598",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SMART] Groq r√©ussi - 1149 tokens",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.373421",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.374177",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.374746",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mVoici mon paiement Wave\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.375483",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.549959",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe verdict OCR indiqu√© dans la section \"üí≥ VALIDATION PAIEMENT OCR\" est \"INSUFFISANT\" car le client a envoy√© 202 FCFA mais il manque encore 1798 FCFA pour atteindre le montant minimum requis de 2000 FCFA. Cette section est la source unique pour la d√©cision de paiement, et je dois donc refuser le paiement et demander le compl√©ment.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.550607",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.551035",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mVotre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.551640",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müî¥ TOKENS R√âELS GROQ (‚úÖ Health Check OK):\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.552094",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 1008 | Completion: 141 | TOTAL: 1149\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.552474",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT: $0.000706 ($0.000595 input + $0.000111 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.552848",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: llama-3.3-70b-versatile\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.553342",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.765790",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOT] Votre paiement de 202 FCFA est insuffisant. Il manque 1798 FCFA pour valider la commande. Merci d'effectuer le compl√©ment.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.766183",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================\nTOUR 2",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.883657",
    "level": "INFO",
    "source": "stdout",
    "message": "[USER] Ok je renvoie le bon montant",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.884014",
    "level": "INFO",
    "source": "stdout",
    "message": "[HISTORIQUE] ‚úÖ Optimis√©: 0 ‚Üí 0 messages uniques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.884333",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] üîß UTILISATION PROMPTS HARDCOD√âS (MODE TEST)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:38.884871",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Requ√™te Supabase pour company_id=W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.267991",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Status: 200",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.268355",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Donn√©es re√ßues: 1 ligne(s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.268660",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Taille prompt: 2662 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.268995",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Contient '‚ïê‚ïê‚ïê 1. ANALYSE': False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.270042",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Premiers 200 chars: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.270988",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] ‚úÖ Prompt Supabase charg√© (2662 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.382481",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FILTER] Transactions d√©j√† filtr√©es par OCR: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.383480",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.383775",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][AVANT LLM] DONN√âES VISION DISPONIBLES:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.384143",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_objects = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.384437",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_type = unknown",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.384751",
    "level": "INFO",
    "source": "stdout",
    "message": "confidence = 0.0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.385065",
    "level": "INFO",
    "source": "stdout",
    "message": "raw_text = [vide]...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.385377",
    "level": "INFO",
    "source": "stdout",
    "message": "filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.385853",
    "level": "INFO",
    "source": "stdout",
    "message": "expected_deposit = 2000 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.386232",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.521974",
    "level": "INFO",
    "source": "stdout",
    "message": "üîß [PROMPT MODE] SUPABASE DIRECT",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.522252",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.522647",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions_str = [AUCUNE TRANSACTION VALIDE]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.523011",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä [SUPABASE PROMPT] Format√©: 2653 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.523880",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][PROMPT FORMAT√â] V√©rification injection variables:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.524198",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {detected_objects} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.524633",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {expected_deposit} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.528554",
    "level": "INFO",
    "source": "stdout",
    "message": "üìÑ [PROMPT EXTRAIT] (500 premiers chars):\nJESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N‚ÄôOB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp:...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:40.529189",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [SMART] Groq valid√© - requ√™te r√©elle...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.280796",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SMART] Groq r√©ussi - 1137 tokens",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.391179",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.391454",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.391803",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mOk je renvoie le bon montant\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.392835",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.394769",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe verdict de la section \"üí≥ VALIDATION PAIEMENT OCR\" est \"AUCUNE TRANSACTION VALIDE\". Cela signifie que le paiement n'a pas √©t√© valid√©. Selon les r√®gles de validation paiement, si le verdict OCR est \"ABSENT\" ou \"INSUFFISANT\", je dois refuser le paiement. Dans ce cas, comme il n'y a aucune transaction valide, je vais refuser le paiement et demander un compl√©ment ou une preuve.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.395353",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.396578",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mVotre paiement n'a pas √©t√© valid√©. Il manque 2000 FCFA pour valider la commande. Merci d'effectuer le paiement ou d'envoyer une preuve de paiement.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.399319",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müî¥ TOKENS R√âELS GROQ (‚úÖ Health Check OK):\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.404858",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 974 | Completion: 163 | TOTAL: 1137\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.405760",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT: $0.000703 ($0.000575 input + $0.000129 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.556358",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: llama-3.3-70b-versatile\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.556889",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.557501",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOT] Votre paiement n'a pas √©t√© valid√©. Il manque 2000 FCFA pour valider la commande. Merci d'effectuer le paiement ou d'envoyer une preuve de paiement.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.558463",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================\nTOUR 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.558709",
    "level": "INFO",
    "source": "stdout",
    "message": "[USER] Voil√† 2000 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.559760",
    "level": "INFO",
    "source": "stdout",
    "message": "[IMAGES] ['https://scontent.xx.fbcdn.net/v/t1.15752-9/556908482_1314851517042795_6410429215345539018_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=eb2e90&_nc_ohc=7oeAkz1vXk4Q7kNvwHsBEm8&_nc_oc=AdkRG6vf8C7mCWK6G0223SycGhXGPZ9S5mn8iK369aoCBNGNFLGSYK0R-yFITkJ-uro_BO7rcX9W2ximO0S4l25C&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=scontent.xx&oh=03_Q7cD3gFy4KBx2MWFGHs3HzwWsG7vQiUcM4NU3IBpkP2B5ZoWAQ&oe=691D9DCA']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.560077",
    "level": "INFO",
    "source": "stdout",
    "message": "[HISTORIQUE] ‚úÖ Optimis√©: 0 ‚Üí 0 messages uniques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.560328",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] üîß UTILISATION PROMPTS HARDCOD√âS (MODE TEST)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:42.560838",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Requ√™te Supabase pour company_id=W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:43.776253",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Status: 200",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:43.881093",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Donn√©es re√ßues: 1 ligne(s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:43.881376",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Taille prompt: 2662 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:43.881643",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Contient '‚ïê‚ïê‚ïê 1. ANALYSE': False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:43.882341",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Premiers 200 chars: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:43.883330",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] ‚úÖ Prompt Supabase charg√© (2662 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:43.883776",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] T√©l√©chargement image: https://scontent.xx.fbcdn.net/v/t1.15752-9/556908482_1314851517042795_6410429215345539018_n.jpg?_nc_...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:45.261243",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FETCH] URL finale: https://scontent.xx.fbcdn.net/v/t1.15752-9/556908482_1314851517042795_6410429215345539018_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=eb2e90&_nc_ohc=7oeAkz1vXk4Q7kNvwHsBEm8&_nc_oc=AdkRG6vf8C7mCWK6G0223SycGhXGPZ9S5mn8iK369aoCBNGNFLGSYK0R-yFITkJ-uro_BO7rcX9W2ximO0S4l25C&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=scontent.xx&oh=03_Q7cD3gFy4KBx2MWFGHs3HzwWsG7vQiUcM4NU3IBpkP2B5ZoWAQ&oe=691D9DCA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:45.261542",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FETCH] Content-Type: image/jpeg | Content-Length: 37848",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:45.262925",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] Image t√©l√©charg√©e: C:\\Users\\hp\\AppData\\Local\\Temp\\botlive_nmqbl_3x.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:45.296140",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][DEBUG] Copie image sauvegard√©e: /tmp/botlive_debug\\1762439025_botlive_nmqbl_3x.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:47.638946",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:23:47,638 - app - INFO - [TRACE][[SUPABASE] Upload] Fichier upload√©: https://ilbihprkxcgsigvueeme.supabase.co/storage/v1/object/public/product-images/botlive/W27PwOPiblP8TlOrhPcjOtxd0cza/2025/11/06/botlive_nmqbl_3x.jpg",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T15:23:47.639371",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:23:47,638 - app - INFO - [TRACE][[SUPABASE] Upload] Fichier upload√©: https://ilbihprkxcgsigvueeme.supabase.co/storage/v1/object/public/product-images/botlive/W27PwOPiblP8TlOrhPcjOtxd0cza/2025/11/06/botlive_nmqbl_3x.jpg",
    "metadata": {
      "logger_name": "app",
      "filename": "utils.py",
      "lineno": 181,
      "funcName": "log3"
    }
  },
  {
    "timestamp": "2025-11-06T15:23:47.639762",
    "level": "INFO",
    "source": "stdout",
    "message": "[TRACE][15:23:47][INFO] [SUPABASE] Upload: Fichier upload√©: https://ilbihprkxcgsigvueeme.supabase.co/storage/v1/object/public/product-images/botlive/W27PwOPiblP8TlOrhPcjOtxd0cza/2025/11/06/botlive_nmqbl_3x.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:47.640523",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][SUPABASE] Image stock√©e: https://ilbihprkxcgsigvueeme.supabase.co/storage/v1/object/public/product-images/botlive/W27PwOPiblP8TlOrhPcjOtxd0cza/2025/11/06/botlive_nmqbl_3x.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:47.640914",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] Initialisation...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:47.641260",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] Chargement EasyOCR...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:51.554599",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] ‚úÖ EasyOCR charg√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:51.554805",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] Chargement BLIP-2...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:56.831615",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] ‚úÖ BLIP-2 charg√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:56.831923",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE_ENGINE] ‚úÖ Initialisation termin√©e",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:57.002784",
    "level": "INFO",
    "source": "stdout",
    "message": "[BLIP-2] üîç Analyse image: C:\\Users\\hp\\AppData\\Local\\Temp\\botlive_nmqbl_3x.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:23:57.009638",
    "level": "INFO",
    "source": "stdout",
    "message": "[BLIP-2] üì∏ Image charg√©e: (486, 1080)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:02.676742",
    "level": "INFO",
    "source": "stdout",
    "message": "[BLIP-2] üìù Caption brut: 'the screenshot app screenshot app screenshot apphot apphot apphot apphot apphot apphot'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:02.677872",
    "level": "INFO",
    "source": "stdout",
    "message": "[BLIP-2] ‚úÖ Caption nettoy√©: 'the screenshot app screenshot app screenshot apphot apphot apphot apphot apphot apphot'",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:02.678754",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][OCR] ‚úÖ Num√©ro WAVE normalis√© pour filtrage: 0787360757",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:02.679185",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][OCR]    Format original: +225 0787360757",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.830389",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] üéØ Validation stricte pour num√©ro: 0787360757",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.830652",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] üì± Format original: 0787360757",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.831128",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] ‚úÖ Num√©ro entreprise trouv√© dans l'image",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.833748",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] üìã 3 transactions d√©tect√©es",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.974572",
    "level": "INFO",
    "source": "stdout",
    "message": "‚Üí 2020F vers 07 87 36 07 57 le 07 oct",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.974957",
    "level": "INFO",
    "source": "stdout",
    "message": "‚Üí 2020F vers 01 01 53 87 82 le 07 oct",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.975396",
    "level": "INFO",
    "source": "stdout",
    "message": "‚Üí 10100F vers 07 87 36 07 57 le 06 oct",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.975704",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] ‚úÖ 2 transaction(s) vers num√©ro entreprise",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.976174",
    "level": "INFO",
    "source": "stdout",
    "message": "[OCR] üéØ Transaction s√©lectionn√©e: 2020 FCFA vers 07 87 36 07 57 (la plus r√©cente)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.976780",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PAYMENT_VALIDATOR] R√©sultat validation:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.977323",
    "level": "INFO",
    "source": "stdout",
    "message": "Valid: True",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.977852",
    "level": "INFO",
    "source": "stdout",
    "message": "Total re√ßu: 2020 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.978122",
    "level": "INFO",
    "source": "stdout",
    "message": "Paiements: [2020]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:18.978391",
    "level": "INFO",
    "source": "stdout",
    "message": "Message: ‚úÖ D√©p√¥t valid√© 2020 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.104636",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] Analyse (brute): type=unknown, prod=the screenshot app screenshot app screenshot apphot apphot apphot apphot apphot apphot:0.85, ocr_len=381 amts=11",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.107589",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][VISION RAW] raw_text=\n1215 = > A P \n0 ,l 4,/ % 0 \n32.075F & \nTransfert \nPaiements \nBanque \nCadeaux \nCoffre \n√Ä ATTIELO 07 87 36 07 57 \n-2.020F \n07 oct , 11.17 \n√Ä M ABRAZA 01 01 53 87 82 \n-10.100F \n06 oct , 08.38 \nDe ATTIELO 07 87 36 07 57 \n30.OOOF \n05 oct , 18.12 \nDe ATTIELO 07 87 36 07 57 \n5.0OOF \n05 oot \n1190 \nLenregistrement a √©t√© sauvegard√© \nsouS \n√Ä EVO MBRA 01 02 34 54 62 \n10.1OOF \n05 oct , 10.32",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.108944",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][VISION RAW] candidate_amounts=[('32.075', ''), ('36 07', ''), ('2.020', ''), ('11.17', ''), ('53 87', ''), ('10.100', ''), ('36 07', ''), ('18.12', ''), ('36 07', ''), ('34 54', ''), ('10.32', '')]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.110576",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][VISION RAW] detected_objects=['objet:the screenshot app screenshot app screenshot apphot apphot apphot apphot apphot apphot~0.85', 'montant:32.075', 'montant:36 07', 'montant:2.020', 'montant:11.17', 'montant:53 87']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.113871",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE] Fichier temporaire supprim√©: C:\\Users\\hp\\AppData\\Local\\Temp\\botlive_nmqbl_3x.jpg",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.114467",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FILTER] Transactions d√©j√† filtr√©es par OCR: 3",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.130654",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.131439",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][AVANT LLM] DONN√âES VISION DISPONIBLES:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.133223",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_objects = ['objet:the screenshot app screenshot app screenshot apphot apphot apphot apphot apphot apphot~0.85', 'montant:32.075', 'montant:36 07', 'montant:2.020', 'montant:11.17', 'montant:53 87']",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.134034",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_type = unknown",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.254186",
    "level": "INFO",
    "source": "stdout",
    "message": "confidence = 0.0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.255486",
    "level": "INFO",
    "source": "stdout",
    "message": "raw_text = 1215 = > A P \n0 ,l 4,/ % 0 \n32.075F & \nTransfert \nPaiements \nBanque \nCadeaux \nCoffre \n√Ä ATTIELO 07 8...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.257135",
    "level": "INFO",
    "source": "stdout",
    "message": "filtered_transactions = [{'amount': 2020, 'currency': 'FCFA', 'phone': '07 87 36 07 57', 'date': '07 oct'}, {'amount': 2020, 'currency': 'FCFA', 'phone': '01 01 53 87 82', 'date': '07 oct'}, {'amount': 10100, 'currency': 'FCFA', 'phone': '07 87 36 07 57', 'date': '06 oct'}]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.257591",
    "level": "INFO",
    "source": "stdout",
    "message": "expected_deposit = 2000 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.258581",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.259216",
    "level": "INFO",
    "source": "stdout",
    "message": "üîß [PROMPT MODE] SUPABASE DIRECT",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.260984",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions = [{'amount': 2020, 'currency': 'FCFA', 'phone': '07 87 36 07 57', 'date': '07 oct'}, {'amount': 2020, 'currency': 'FCFA', 'phone': '01 01 53 87 82', 'date': '07 oct'}, {'amount': 10100, 'currency': 'FCFA', 'phone': '07 87 36 07 57', 'date': '06 oct'}]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.281632",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions_str = \n\nüí≥ VALIDATION PAIEMENT:\n‚úÖ VALID√â: ‚úÖ D√©p√¥t valid√© 2020 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.283309",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä [SUPABASE PROMPT] Format√©: 2673 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.285538",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][PROMPT FORMAT√â] V√©rification injection variables:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.432962",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {detected_objects} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.433979",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {expected_deposit} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.439216",
    "level": "INFO",
    "source": "stdout",
    "message": "üìÑ [PROMPT EXTRAIT] (500 premiers chars):\nJESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N‚ÄôOB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp:...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:19.440381",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [HEALTH] Test Groq...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:20.769022",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [HEALTH] Groq OK (1.3s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:20.770130",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [SMART] Groq valid√© - requ√™te r√©elle...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.816994",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SMART] Groq r√©ussi - 1151 tokens",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.817411",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.817686",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.817952",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mVoil√† 2000 FCFA\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.940202",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.941822",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe verdict OCR indiqu√© dans la section \"üí≥ VALIDATION PAIEMENT OCR\" est \"VALID√â\" avec un d√©p√¥t valid√© de 2020 FCFA. Selon les r√®gles de validation de paiement, si le verdict OCR est \"VALID√â\", je dois valider le paiement et passer √† la suite. Puisque le montant valid√© (2020 FCFA) est sup√©rieur ou √©gal √† l'acompte minimum requis (2000 FCFA), je peux consid√©rer le paiement comme valid√©.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.942407",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.943014",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mPaiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.944184",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müî¥ TOKENS R√âELS GROQ (‚úÖ Health Check OK):\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.944566",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 993 | Completion: 158 | TOTAL: 1151\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.946439",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT: $0.000711 ($0.000586 input + $0.000125 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.947262",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: llama-3.3-70b-versatile\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:22.951949",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:24:23.139548",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOT] Paiement bien re√ßu ‚úÖ. Merci ! Veuillez maintenant m'envoyer la photo du produit, votre zone et votre num√©ro de t√©l√©phone.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:34.869334",
    "level": "INFO",
    "source": "stdout",
    "message": "üìù Logging serveur JSON activ√©!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:34.869620",
    "level": "INFO",
    "source": "system",
    "message": "Logging serveur JSON initialis√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:34.869848",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SERVER_LOGGER] Logs serveur activ√©s ‚Üí logs/server/",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:34.870486",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:39:34,870 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:39:34.870830",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:39:34,870 - app - INFO - Logger configur√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 63,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:39:34.880589",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing core.models...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:34.911702",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing FIX_CONTEXT_LOSS_COMPLETE...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:34.924199",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] FIX_CONTEXT_LOSS_COMPLETE imported",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:34.924556",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing pydantic...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:34.927127",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing universal_rag_engine...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:51.168007",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing prompt_manager...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:51.170722",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing supabase_client...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:51.181096",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing ingestion_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:52.508939",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing global_embedding_cache...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:52.509215",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing auth router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:52.808474",
    "level": "WARNING",
    "source": "logger.routes.auth",
    "message": "2025-11-06 15:39:52,806 - routes.auth - WARNING - Variables d'environnement Google manquantes pour le Service Account. JWT Google d√©sactiv√©.",
    "metadata": {
      "logger_name": "routes.auth",
      "filename": "auth.py",
      "lineno": 32,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:39:52.810107",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing routes...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:52.813654",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili_ingest_api...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:52.847494",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing meili router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:52.864297",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing utils...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.057552",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing security_validator...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.061332",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing hallucination_guard...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.075639",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing error_handler...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.086926",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing circuit_breaker...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.092454",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing image_search...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.094609",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Image search router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.095738",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] Importing botlive router...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.096752",
    "level": "INFO",
    "source": "stdout",
    "message": "‚ö†Ô∏è [DEBUG] Botlive router SKIPPED (debugging)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.097377",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [DEBUG] All imports completed!",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.155385",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:39:53,155 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:39:53.337913",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:39:53,155 - app - INFO - üöÄ Monitoring des caches int√©gr√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 341,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:39:53.407034",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:39:53,406 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:39:53.407551",
    "level": "INFO",
    "source": "logger.app",
    "message": "2025-11-06 15:39:53,406 - app - INFO - Router Enhanced Ingestion avec Mini-LLM Dispatcher mont√© avec succ√®s",
    "metadata": {
      "logger_name": "app",
      "filename": "app.py",
      "lineno": 349,
      "funcName": "<module>"
    }
  },
  {
    "timestamp": "2025-11-06T15:39:53.613229",
    "level": "INFO",
    "source": "stdout",
    "message": "[HISTORIQUE] ‚úÖ Optimis√©: 0 ‚Üí 0 messages uniques",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.613516",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] üîß UTILISATION PROMPTS HARDCOD√âS (MODE TEST)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:53.614585",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Requ√™te Supabase pour company_id=W27PwOPiblP8TlOrhPcjOtxd0cza",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.599492",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Status: 200",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.599871",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Donn√©es re√ßues: 1 ligne(s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.600211",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Taille prompt: 2662 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.600572",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Contient '‚ïê‚ïê‚ïê 1. ANALYSE': False",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.756828",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE_PROMPT] Premiers 200 chars: JESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDI",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.757906",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][PROMPT] ‚úÖ Prompt Supabase charg√© (2662 chars)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.758246",
    "level": "INFO",
    "source": "stdout",
    "message": "[BOTLIVE][FILTER] Transactions d√©j√† filtr√©es par OCR: 0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.766725",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.767044",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][AVANT LLM] DONN√âES VISION DISPONIBLES:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.767294",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_objects = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.767560",
    "level": "INFO",
    "source": "stdout",
    "message": "detected_type = unknown",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.767772",
    "level": "INFO",
    "source": "stdout",
    "message": "confidence = 0.0",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.768053",
    "level": "INFO",
    "source": "stdout",
    "message": "raw_text = [vide]...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.768508",
    "level": "INFO",
    "source": "stdout",
    "message": "filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.933166",
    "level": "INFO",
    "source": "stdout",
    "message": "expected_deposit = 2000 FCFA",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.933521",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.933808",
    "level": "INFO",
    "source": "stdout",
    "message": "üîß [PROMPT MODE] SUPABASE DIRECT",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.934272",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions = []",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.934608",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [DEBUG] filtered_transactions_str = [AUCUNE TRANSACTION VALIDE]",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.935054",
    "level": "INFO",
    "source": "stdout",
    "message": "üìä [SUPABASE PROMPT] Format√©: 2632 chars",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.935466",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [BOTLIVE][PROMPT FORMAT√â] V√©rification injection variables:",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.935997",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {detected_objects} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.936342",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ {expected_deposit} remplac√©",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:55.940622",
    "level": "INFO",
    "source": "stdout",
    "message": "üìÑ [PROMPT EXTRAIT] (500 premiers chars):\nJESSICA - AGENT IA DE VALIDATION DE COMMANDES\n\n‚ö†Ô∏è INSTRUCTION CRITIQUE ‚Äì LIS CECI EN PREMIER\n\n# R√àGLE D‚ÄôOR (√Ä RESPECTER ABSOLUMENT)\n- TU NE DOIS VALIDER OU REFUSER UN PAIEMENT QUE SUR LA BASE DU VERDICT DE LA SECTION \"üí≥ VALIDATION PAIEMENT OCR\" CI-DESSOUS.\n- IGNORE TOUTES LES AUTRES DONN√âES (vision, objets d√©tect√©s, montants bruts, messages clients) pour la validation paiement.\n- SI TU N‚ÄôOB√âIS PAS √Ä CETTE R√àGLE, TA R√âPONSE SERA REJET√âE.\n\n---\n\nCONFIGURATION CRITIQUE (NE JAMAIS MODIFIER)\nwhatsapp:...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:56.105229",
    "level": "INFO",
    "source": "stdout",
    "message": "üîç [HEALTH] Test Groq...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:57.607982",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [HEALTH] Groq OK (1.5s)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:57.608284",
    "level": "INFO",
    "source": "stdout",
    "message": "üöÄ [SMART] Groq valid√© - requ√™te r√©elle...",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.652881",
    "level": "INFO",
    "source": "stdout",
    "message": "‚úÖ [SMART] Groq r√©ussi - 1119 tokens",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.653738",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.654012",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94müîµ QUESTION CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.654339",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[94mbonjour\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.654790",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93müü° RAISONNEMENT LLM:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.655613",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[93mLe verdict de la section \"üí≥ VALIDATION PAIEMENT OCR\" est \"AUCUNE TRANSACTION VALIDE\". Cela signifie que le paiement n'a pas √©t√© valid√©. Je vais donc refuser le paiement et demander une preuve de paiement ou un compl√©ment. Je ne prends en compte que cette section pour prendre ma d√©cision, comme indiqu√© dans les r√®gles.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.656035",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92müü¢ R√âPONSE AU CLIENT:\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.866982",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[92mBonjour, nous n'avons pas re√ßu de paiement valid√©. Pour valider votre commande, un acompte de 2000 FCFA est requis. Merci d'effectuer le paiement et de nous fournir une preuve de transaction.\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.889881",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müî¥ TOKENS R√âELS GROQ (‚úÖ Health Check OK):\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.920677",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mPrompt: 968 | Completion: 151 | TOTAL: 1119\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.950687",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91müí∞ CO√õT: $0.000690 ($0.000571 input + $0.000119 output)\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:39:59.972213",
    "level": "INFO",
    "source": "stdout",
    "message": "\u001b[91mü§ñ MOD√àLE: llama-3.3-70b-versatile\u001b[0m",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:40:00.006367",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:40:00.037578",
    "level": "INFO",
    "source": "stdout",
    "message": "ü§ñ BOT (r√©ponse en 6408ms)",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:40:00.053574",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:40:00.068022",
    "level": "INFO",
    "source": "stdout",
    "message": "Bonjour, nous n'avons pas re√ßu de paiement valid√©. Pour valider votre commande, un acompte de 2000 FCFA est requis. Merci d'effectuer le paiement et de nous fournir une preuve de transaction.",
    "metadata": {}
  },
  {
    "timestamp": "2025-11-06T15:40:00.097195",
    "level": "INFO",
    "source": "stdout",
    "message": "================================================================================",
    "metadata": {}
  }
]